
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<!--last modified on Saturday, October 03, 1998 04:19 PM -->
<HTML><!-- #BeginTemplate "/Templates/pink.dwt" --><!-- DW6 -->
<HEAD>
<!-- #BeginEditable "doctitle" -->
<TITLE>Manipulating Identity at the Entries</TITLE>
<!-- #EndEditable --> 
<meta http-equiv=content-type content="text/html; charset=UTF-8">
<meta name="Author" content="Mark S. Miller">
<link rel=author rev=made title="Mark S. Miller">
<META NAME="description" CONTENT="E: Cryptographic Capabilities for Distributed Smart Contracting">
<META NAME="keywords" CONTENT="p2p, p2p language, p2p computing, p2p objects, secure p2p, p2p capabilities, object oriented p2p,
  capability-based p2p, Capability Security, Capabilities, Cryptography, Distributed Objects, Distributed
  Language, Distributed Capabilities, Lambda Calculus, Scripting Language, Distributed Language, Persistent
  Language, Persistent Capabilities, Persistent Objects, Java Shell, Capability Shell, Scripting Java, Smart
  Contracting, Agoric E-Commerce, Open Source, Message pipelining, quasi literal, vat, event loop, granovetter diagram ">
<link rel="stylesheet" href="../../../erights.css" type="text/css">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFEEDD" LINK="#0000FF" VLINK="#800080">
<TABLE BORDER="0" width="100%">
  <TR VALIGN="TOP"> 
    <TD WIDTH="10%">&nbsp; </TD>
    <TD> <TABLE BORDER="0" WIDTH="100%">
        <TR> 
          <TD ALIGN="LEFT" valign="top"> <table cellpadding="2">
              <tr> 
                <td valign="top" align="left" colspan="3"><a href="../../../index.html"><img src="../../../images/e-lambda.gif" width="32" height="32" border="0" alt="ERights Home"></a> 
                  <!-- #BeginEditable "Path" -->/&nbsp;<a href="../../index.html">data</a>&nbsp;/&nbsp;<a href="../index.html">serial</a>&nbsp;/&nbsp;<a href="index.html">jhu-paper</a>&nbsp;<!-- #EndEditable --></td>
              </tr>
              <tr> 
                <td valign="top" align="right"><!-- #BeginEditable "PrevButton" --><a href="subgraph-security.html" title="Back to: Selective Transparency within the Subgraph"><img src="../../../images/prev.gif" width="64" height="32" alt="Back to: Selective Transparency within the Subgraph" border="0"></a><!-- #EndEditable --></td>
                <td valign="bottom" align="left"><!-- #BeginEditable "FirstButton" --><!-- #EndEditable --></td>
                <td valign="top" align="left"><!-- #BeginEditable "NextButton" --><a href="upgrade.html" title="On to: Persistence and Upgrade"><img src="../../../images/next.gif" width="64" height="32" alt="On to: Persistence and Upgrade" border="0"></a><!-- #EndEditable --></td>
              </tr>
            </table></TD>
          <TD rowspan="2" ALIGN="RIGHT"> <P ALIGN="RIGHT"><FONT SIZE="7"><!-- #BeginEditable "BigTitle" --><b>Manipulating
              Identity<br>
              at the Entries</b><!-- #EndEditable --></FONT> </TD>
        </TR>
        
      </TABLE>
      <hr> <!-- #BeginEditable "LongBody" -->
      <h1><a name="lessons"></a>Lessons of <i>Manipulating Identity at the Entries</i></h1>
      <p><font color="#FF0000">(*** To be written)</font></p>
      <hr>
      <p><font color="#FF0000">*** incoherent notes here to the end of this file.
        Do Not Read ****</font></p>
      <p>&nbsp; </p>
      <p>In the conventional use of serialization, this issue is trivial: Of the
        incoming references, there's only one entry -- the reference to the rootObj
        given as argument to the serializer (reference to A1). All other incoming
        references are ignored -- indeed, the serializer has no means to even
        be aware of them (reference to B1). The unserializer returns to its caller
        a new reference to the reconstructed rootObj, thereby giving it a new
        identity (A2). The new rootObj may be a replica and heir to the original,
        but it does not have the identity of the original. Messages sent on references
        to the original will not somehow be redirected to the reconstructed rootObj.
        For most purposes, this is the desired behavior. </p>
      <p>Conventional object systems are local in space and time. They enable
        one to create a graph of objects and references limited to a single address-space,
        and living only so long as their hosting OS process lives. Within such
        a conventional system, reincarnation would seem to be impossible. So long
        as there remain references to the original object, it will continue to
        exist and receive messages directed to it, preventing the reallocation
        of its identity to a desired reincarnation. </p>
      <p>Reincarnation becomes both possible and necessary once we transcends
        these limits of space and time by building distributed persistent secure
        object-capability systems.</p>
      <h3><a name="spacetime"></a>Transcending Space and Time</h3>
      <p align="right"><i>All problems in computer science can be<br>
        solved few more levels of indirection.</i><br>
        --Anon </p>
      <p>At the layer of description created by the primitives of a conventional
        object system, reincarnation is indeed impossible. However, within such
        a system one can create a new layer of description, in which message routing
        objects create virtual references (such as a message-forwarding &quot;proxy&quot;
        object). A primitive reference to a router could be described at this
        new layer as the first leg of virtual reference designating whoever the
        router causes messages to be routed to. </p>
      <table cellpadding="12" align="right" bgcolor="#FFFFE8" border="1"  width="30%">
        <tr>
          <td>
            <p>Actually, this is not yet true. At the time of this writing, CapTP
              is still implemented in Java rather than <i><b><font color="#009000">E</font></b></i>,
              and so must be counted among <i><b><font color="#009000">E</font></b></i>'s
              primitives. However, <i><b><font color="#009000">E</font></b></i>
              was designed so that CapTP could be written purely in <i><b><font color="#009000">E</font></b></i>
              without use of undue privileges. Once we do so, the assumptions
              made in this chapter will be valid.</p>
            <p>For both language and OS design, if persistence is designed to
              be primitive, the reincarnation issue may be avoided. For both,
              if persistence is to be build at the user-level and distribution
              is to be supported somehow, then reincarnation is necessary.</p>
          </td>
        </tr>
      </table>
      <p><i><b><font color="#009000">E</font></b></i> is built in layers in precisely
        this way. The primitively implemented part of <i><b><font color="#009000">E</font></b></i>
        is a single-process non-persistent object system, conventional in most
        ways but for the absence of those non-object primitives that would violate
        capability discipline. At the next level of abstraction up, <i><b><font color="#009000">E</font></b></i>
        is a distributed persistent system, in which object-capability secure
        computation has been extended across space and time by code written in
        <i><b><font color="#009000">E</font></b></i> operating without undue privilege.
        <i><b><font color="#009000">E</font></b></i>'s distributed cryptographic
        capability-object protocol, CapTP, and <i><b><font color="#009000">E</font></b></i>'s
        persistence system each use serialization in ways that raise rather different
        issues covered in this paper.</p>
      <p>These issues converge when recovering from the crash of an OS process.
        Such a crash destroys all original objects hosted by that process, and,
        conveniently for us, also destroys all primitive non-redirectable references
        to those objects. There remain the virtual references created by CapTP
        held by objects in other processes designating the original objects that
        just got destroyed. Following a crash, the reconstructed objects must
        reclaim the identity of the originals. Distant objects holding virtual
        references must be able to continue to use these references to send messages,
        and these messages must be received by the reconstructed objects. To reconnect
        these entries is to determine <i>who</i> an objects within the reconstructed
        subgraph <i>is</i>. When all surviving references to the original are
        rerouted to designate a new entry object, we say the new object is a <i>reincarnation</i>
        of the identity of the original. This logic must apply to many objects
        in the subgraph -- not just the distinguished rootObj. </p>
      <h1></h1>
      <h2>6.1. What <i>is</i> Object Identity?</h2>
      <h3> 6.1.1. Rights to invoke, be, compare</h3>
      <h2> 6.2. Secure Distributed Objects:<br>
        Islands of Partitioned Capabilities, Hooked Together by a Sea of Password
        Capabilities</h2>
      <h3> 6.2.1. CapTP's Encoding of a Capability</h3>
      <h3> 6.2.2. Knowledge is Power</h3>
      <h3> 6.2.3. The Logic of Telling Secrets</h3>
      <h3> 6.2.4. SturdyRefs: Guarding the Boundary between the Worlds</h3>
      <p>SturdyRefs are data + a capability to a LocatorUnum, which provides it
        the power to turn bits into a capability. The LocatorUnum is normally
        not serialized, but rather replaced by a GraphParam("LocatorUnum"), to
        be resolved by the unserializer into a fresh LocatorUnum; provided of
        course that the unserializer is willing and able to extend this comity
        to those (such as serialized SturdyRefs) whose previous incarnation allegedly
        had access to the LocatorUnum of their world.</p>
      <h2> 6.3. Hash Chaining Identity Rights</h2>
      <h3> 6.3.1. Immediate Reincarnation</h3>
      <p>SwissNumber := hash(SwissBase)</p>
      <h3> 6.3.2. Example: persist-echat.e-awt</h3>
      <p>For when you'd rather rebuild it than save and restore it.</p>
      <h3> 6.3.3. Reincarnation On-Demand</h3>
      <p> <br clear=ALL>
        *** Unprivileged fault handlers [ref XOF]</p>
      <h3> 6.3.4. Example: Mints with Purses</h3>
      <p>*** Purses are naturally stored in databases. Potentially massive number
        of Purses, but most stay dormant for long periods.</p>
      <p>&nbsp;</p>
      <!-- #EndEditable --></TD>
    <TD WIDTH="10%" rowspan="2" align="right" valign="bottom"> </TD>
  </TR>
  <TR VALIGN="TOP"> 
    <TD WIDTH="10%">&nbsp;</TD>
    <TD> <hr>
      Unless stated otherwise, all text on this page which is either unattributed 
      or by Mark S. Miller is hereby placed in the public domain. 
        <div align="center"> 
        <table width="100%" cellpadding="4" cellspacing="0">
          <tr> 
            <td> <table align="left" cellpadding="2">
                <tr> 
                  <td valign="top" align="left" colspan="3"><a href="../../../index.html"><img src="../../../images/e-lambda.gif" width="32" height="32" border="0" alt="ERights Home"></a> 
                    <!-- #BeginEditable "Path2" -->/&nbsp;<a href="../../index.html">data</a>&nbsp;/&nbsp;<a href="../index.html">serial</a>&nbsp;/&nbsp;<a href="index.html">jhu-paper</a>&nbsp;<!-- #EndEditable --></td>
                </tr>
                <tr> 
                  <td valign="top" align="right"><!-- #BeginEditable "PrevButton2" --><a href="subgraph-security.html" title="Back to: Selective Transparency within the Subgraph"><img src="../../../images/prev.gif" width="64" height="32" alt="Back to: Selective Transparency within the Subgraph" border="0"></a><!-- #EndEditable --></td>
                  <td valign="bottom" align="left"><!-- #BeginEditable "FirstButton2" --><!-- #EndEditable --></td>
                  <td valign="top" align="left"><!-- #BeginEditable "NextButton2" --><a href="upgrade.html" title="On to: Persistence and Upgrade"><img src="../../../images/next.gif" width="64" height="32" alt="On to: Persistence and Upgrade" border="0"></a><!-- #EndEditable --></td>
                </tr>
              </table></td>
            <td> <table border="3" align="center" cellpadding="6" cellspacing="3">
                <tr> 
                  <td> <div align="center"><font size="-1"><a href="../../../elib/index.html">ELib</a> 
                      &nbsp;&nbsp; <a href="../../../elang/index.html">E Language</a> 
                      &nbsp;&nbsp; <a href="../../../smart-contracts/index.html">Smart 
                      Contracts</a> &nbsp;&nbsp; <a href="../../../related.html">Related</a> 
                      </font></div></td>
                </tr>
                <tr> 
                  <td> <div align="center"><font size="-1"><a href="../../../download/index.html">Download</a> 
                      &nbsp;&nbsp; <a href="http://mumble.net/e/faq.html">FAQ</a> 
                      &nbsp;&nbsp; <a href="../../../javadoc/index.html">API</a> &nbsp;&nbsp; 
                      <a href="http://www.eros-os.org/pipermail/e-lang/">Mail 
                      Archive</a> &nbsp;&nbsp; <a href="../../../donate.html">Donate</a></font></div></td>
                </tr>
              </table></td>
            <td><div align="right"> 
                <p><a href="https://sourceforge.net/tracker/?func=add&amp;group_id=75274&amp;atid=551529"><i>report 
                  bug</i></a> (including <a href="http://validator.w3.org/check/referer">invalid 
                  html</a>) </p>
                <p><a href="http://www.epic.org/crypto/"><img src="../../../images/key.gif" width="37" height="19" alt="Golden Key Campaign" border="0"></a>&nbsp;<a href="http://www.eff.org/br/"><img src="../../../images/ribbon.gif" width="18" height="30"
alt="Blue Ribbon Campaign" border="0"></a></div></td>
          </tr>
          
        </table>
      </div></TD>
  </TR>
</TABLE>
</BODY>
<!-- #EndTemplate --></HTML>
