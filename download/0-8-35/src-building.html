<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<!--last modified on Saturday, October 03, 1998 04:19 PM -->
<HTML><!-- #BeginTemplate "/Templates/pink.dwt" --><!-- DW6 -->
<HEAD>
<!-- #BeginEditable "doctitle" -->
<TITLE>E 0.8.35f: Building on Unixoids</TITLE>
<!-- #EndEditable --> 
<meta http-equiv=content-type content="text/html; charset=UTF-8">
<meta name="Author" content="Mark S. Miller">
<link rel=author rev=made title="Mark S. Miller">
<META NAME="description" CONTENT="E: Cryptographic Capabilities for Distributed Smart Contracting">
<META NAME="keywords" CONTENT="p2p, p2p language, p2p computing, p2p objects, secure p2p, p2p capabilities, object oriented p2p,
  capability-based p2p, Capability Security, Capabilities, Cryptography, Distributed Objects, Distributed
  Language, Distributed Capabilities, Lambda Calculus, Scripting Language, Distributed Language, Persistent
  Language, Persistent Capabilities, Persistent Objects, Java Shell, Capability Shell, Scripting Java, Smart
  Contracting, Agoric E-Commerce, Open Source, Message pipelining, quasi literal, vat, event loop, granovetter diagram ">
<link rel="stylesheet" href="../../erights.css" type="text/css">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFEEDD" LINK="#0000FF" VLINK="#800080">
<TABLE BORDER="0" width="100%">
  <TR VALIGN="TOP"> 
    <TD WIDTH="10%">&nbsp; </TD>
    <TD> <TABLE BORDER="0" WIDTH="100%">
        <TR> 
          <TD ALIGN="LEFT" valign="top"> <table cellpadding="2">
              <tr> 
                <td valign="top" align="left" colspan="3"><a href="../../index.html"><img src="../../images/e-lambda.gif" width="32" height="32" border="0" alt="ERights Home"></a> 
                  <!-- #BeginEditable "Path" -->/&nbsp;<a href="../index.html">download</a>&nbsp;/&nbsp;<a href="index.html">0-8-35</a>&nbsp;<!-- #EndEditable --></td>
              </tr>
              <tr> 
                <td valign="top" align="right"><!-- #BeginEditable "PrevButton" --><a href="swt-support.html" title="Back to: SWT Support"><img src="../../images/prev.gif" width="64" height="32" alt="Back to: SWT Support" border="0"></a><!-- #EndEditable --></td>
                <td valign="bottom" align="left"><!-- #BeginEditable "FirstButton" --><!-- #EndEditable --></td>
                <td valign="top" align="left"><!-- #BeginEditable "NextButton" --><a href="src-IDE-ing.html" title="On to: Developing E in an IDE"><img src="../../images/next.gif" width="64" height="32" alt="On to: Developing E in an IDE" border="0"></a><!-- #EndEditable --></td>
              </tr>
            </table></TD>
          <TD rowspan="2" ALIGN="RIGHT"> <P ALIGN="RIGHT"><FONT SIZE="7"><!-- #BeginEditable "BigTitle" --><FONT SIZE="7"><B>Building
              </B><font size="7"><font size="7"><font size="7"><i><font color="#009000"><b>E</b></font></i></font><b>
              0.8.35f</b></font></font><B> on </B><font size="7"><b>Unix-Like
              Platforms</b></font></FONT><!-- #EndEditable --></FONT> </TD>
        </TR>
        
      </TABLE>
      <hr> <!-- #BeginEditable "LongBody" -->

      <p></p>
      <h1>Installing The Java Runtime</h1>
      <p>We recommend these:</p>
      <div align="center">
        <table cellpadding="12" border="2">
          <tr>
            <td> <div align="center"></div></td>
            <th> <div align="center">jdk</div></th>
          </tr>
          <tr>
            <th> <div align="center"><b>Linux</b></div></th>
            <td> <div align="center"><a href="http://www.blackdown.org/java-linux/mirrors.html">blackdown.org<br>
                </a><a href="http://java.sun.com/j2se/1.3/download-linux.html">sun</a>
              </div></td>
          </tr>
          <tr>
            <th> <div align="center">Solaris</div></th>
            <td> <div align="center"><a href="http://www.sun.com/software/solaris/java/download.html">jdk
                1.3.x</a></div></td>
          </tr>
          <tr>
            <th>Mac OS X</th>
            <td> <div align="center">already included</div></td>
          </tr>
        </table>
      </div>
      <h1>Building E</h1>
      <p>Unpack <a href="https://www.cypherpunks.to/erights/download/0-8-35/E-src-0.8.35f.tar.gz">the
        source distribution</a> into a directory, cd into &quot;<tt>e/src</tt>&quot;
        and say &quot;<tt>make</tt>&quot;. You can treat <tt>&lt;directory&gt;/export/dist</tt>
        as the directory containing the unpacked <i><b><font color="#009000">E</font></b></i>
        distribution, ie, the directory where <font color="#009000"><i><b>E</b></i></font>
        is to be installed. You can also copy <tt>&lt;directory&gt;/export/dist</tt>
        somewhere else, and treat that as the directory where <font color="#009000"><i><b>E</b></i></font>
        is to be installed. That way, it won't be overwritten on the next <tt>make</tt>.
        Be sure you have an installation of bash &gt;= 2.05. Most Unixoids already
        have an adequate bash installed.</p>
      <p>Then proceed to the installation instructions for your platform (the
        &quot;Installing&quot; links in <a href="index.html#platforms">this table</a>).</p>
      <p>This will not remake the parsers. If you wish to do so, set the environment
        variable &quot;<tt>MAKE_PARSERS</tt>&quot; to &quot;<tt>true</tt>&quot;
        before running <tt>make</tt>. If this doesn't work, see <a href="#byaccj">BYacc/Java
        Dependencies</a>. </p>
      <p>If you have any troubles building <font color="#009000"><i><b>E</b></i></font>,
        check out the new documentation on <a href="#env">Environment
        Variables</a>.</p>
      <h2><a name="build-dep"></a>Build-Only Dependencies</h2>
      <p>If you are only installing <font color="#009000"><i><b>E</b></i></font>
        from a binary distribution, or only rebuilding the Java portion for your
        own use, you can ignore this section. However, if you wish to build an
        <font color="#009000"><i><b>E</b></i></font> distribution from sources,
        then you will need the equivalent of the following tools as well.</p>
      <table align=right border=1 cellspacing=0 cellpadding=4>
        <tr>
          <td
align=center bgcolor="#eeeeee"> <a href="http://sources.redhat.com/cygwin/setup.exe"><img
src="../images/cygwin-icon.gif" border=0 width=28 height=28 alt="cygwin"><br>
            <font
size=-2>Install<br>
            Cygwin<br>
            <b>now</b></font></a></td>
        </tr>
      </table>
      <h3><a name="cygwin"></a>The <a href="http://sources.redhat.com/cygwin/"><tt>Cygwin</tt></a>
        Distribution</h3>
      <p>
      <p>The <font color="#009000"><i><b>E</b></i></font> building process relies
        on a number of UNIX tools. These are available for Windows from Cygnus
        Support as the Cygwin package. If you wish to build <font color="#009000"><i><b>E</b></i></font>
        on Windows, you should <a href="http://sources.redhat.com/cygwin/download.html">download</a>
        and install a version &gt;= 1.3.12.</p>
      <h3><a name="byaccj"></a>BYacc/Java (Berkeley Yacc for Java)</h3>
      <p>The <i><b><font color="#009000">E</font></b></i> source distribution
        contains the executable binary program <tt>byaccj.exe</tt> for Windows,
        and <tt>byaccj</tt> for Linux/386/glibc. These are actually <a href="http://troi.lincom-asg.com/%7Erjamison/byacc/">BYacc/Java</a>
        from Bob Jamison and <a href="http://troi.lincom-asg.com/%7Erjamison/byacc/ACKNOWLEDGEMEN">others</a>.
        BYacc/Java is the Berkeley Yacc program extended with a &quot;<tt>-j</tt>&quot;
        flag and others for producing Java output. BYacc/Java is covered by the
        Berkeley License. The sources to <tt>byaccj</tt> are bundled with the
        <font color="#009000"><i><b>E</b></i></font> sources, and <tt>byaccj</tt>
        is <i>optionally</i> made as part of making <font color="#009000"><i><b>E</b></i></font>.
      </p>
      <p>BYacc/Java is only needed if you wish to remake the parsers as part of
        making <font color="#009000"><i><b>E</b></i></font>. Usually, this is
        only necessary of you wish to edit the <tt>*.y</tt> files in the source
        tree (<tt>term.y</tt> and <tt>e.y</tt>). Since BYacc/Java is a C program,
        it was causing porting headaches, and most people interested in rebuilding
        <font color="#009000"><i><b>E</b></i></font> won't need to rebuild the
        parsers anyway. So we've added a switch: If you set the environment variable
        &quot;<tt>MAKE_PARSERS</tt>&quot; to &quot;<tt>true</tt>&quot; before
        running &quot;<tt>make</tt>&quot;, then <tt>make</tt> will try to build
        BYacc/Java on your system, and then use it to rebuild the parsers. Otherwise,
        it will just use the parsers included in the source tree.</p>
      <h3><a name="zip"></a>Zip Files</h3>
      <p>Our build process packs up the <tt>*.zip</tt> files in the distribution
        by using <a href="http://www.info-zip.org/pub/infozip/">Info-Zip</a>'s
        highy portable, and highly ported, <tt>zip</tt> program. Info-Zip's zipping
        tools are open-sourced with a license that seems to resemble the X11 license,
        but before redistributing it, you should read it for yourself. The <font color="#009000"><i><b>E</b></i></font>
        distributions do not bundle in these tools.</p>
      <h3><a name="env"></a>Environment Variables</h3>
      <p>The following are the main environment variables controlling building,
        and normally the only ones you will need to be aware of if something goes
        wrong. Others variables are documented in the various makefiles, especially
        <tt>makerules.mk</tt>.</p>
      <ul>
        <li>
          <p><b><tt>OSTYPE</tt></b> - To determine whether we are compiling on
            the Cygwin platform, we check whether this is set to either &quot;<tt>cygwin</tt>&quot;
            or &quot;<tt>cygwin32</tt>&quot; (both have been encountered). If
            so, we set <tt>CYGWINOS</tt> to &quot;<tt>1</tt>&quot;. All other
            conditionals test <tt>CYGWINOS</tt>.</p>
        </li>
        <li>
          <p><b><tt>CYGWINOS</tt></b> - See above. If you actually are on a Cygwin
            environment, but <tt>OSTYPE</tt> has yet a different value, you probably
            shouldn't change it for fear of screwing something else up. So just
            set <tt>CYGWINOS</tt> to &quot;<tt>1</tt>&quot; yourself.</p>
        </li>
        <li>
          <p><b><tt>JAVA_HOME</tt></b> - If set, it should be set to the directory
            where the JDK is installed. This is used to find certain executables
            and jar files that come with the JDK distribution. </p>
          <p>If not set, then the needed executables (eg, &quot;<tt>java</tt>&quot;)
            are assumed to be on the PATH, and the jar files directly known to
            the makefiles are assumed to be adequate for building. This is known
            to work when compiling with <tt>javac</tt>, and known not to work
            when compiling with <tt>jikes</tt> 1.15 and <tt>jikes</tt> 1.16. See
            below.</p>
        </li>
        <li>
          <p><b><tt>JAVAC</tt></b> - If set, should be set to executable for the
            Java compiler. The Java compiler is assumed to be command line compatible
            with <tt>javac</tt> or <tt>jikes</tt>. If the executable is on the
            <tt>PATH</tt>, then simple names (like &quot;<tt>javac</tt>&quot;)
            can be used rather than full pathnames. This can also include some
            initial compiler options to appear before the others. I often build
            with <tt>JAVAC</tt> set to &quot;<tt>jikes&nbsp;+E&nbsp;+F</tt>&quot;.
            If you use jikes, please use at least version 1.15. <font color="#009000"><i><b>E</b></i></font>
            is known not to compile with jikes 1.05. I'm using Jikes 1.16 (<a href="http://www-124.ibm.com/developerworks/project/showfiles.php?group_id=10">download</a>),
            and at least that version needs to be provided with the JDK's <tt>rt.jar</tt>
            file as an explicit component of the <tt>-classpath</tt> argument.
            The makefiles do this automatically if <tt>JAVA_HOME</tt> is set to
            the JDK's install directory.</p>
          <p>If not set, <tt>JAVAC</tt> defaults to either &quot;<tt>javac</tt>&quot;
            or &quot;<tt>$(JAVA_HOME)/bin/javac</tt>&quot;, depending on whether
            <tt>JAVA_HOME</tt> is set.</p>
          <p>The makefiles are set up to fail if the layering of the sources is
            violated. However, at least <font color="#009000"><i><b>E</b></i></font>
            0.8.17 through 0.8.18 violated this layering in a way that I didn't
            detect when I built these releases using these makefiles. The problem
            was that I was compiling with <tt>jikes</tt>, and <tt>jikes</tt> is
            too aggressive at finding and compiling files the other files depend
            on. Before building a release for others to use, you should build
            with <tt>javac</tt> in order to ensure that these upwards dependencies
            are caught. I will do so from not on as well. Thanks to Darius Bacon
            and James Freddy for reporting this bug, and to Dean Tribble for diagnosing
            it.</p>
        </li>
        <li>
          <p><b><tt>JAVACMD</tt></b> - If set, should be set to an executable
            for running Java that's command-line compatible with the JDK's &quot;<tt>java</tt>&quot;
            executable. </p>
          <p>If not set, this defaults to either &quot;<tt>java</tt>&quot; or
            &quot;<tt>$(JAVA_HOME)/jre/bin/java</tt>&quot; depending on whether
            <tt>JAVA_HOME</tt> is set. </p>
        </li>
        <li>
          <p><b><tt>JAVADOC</tt></b> - If set, should be set to an executable
            for generating Javadoc documentation that's command-line compatible
            with the JDK's &quot;<tt>javadoc</tt>&quot; executable. </p>
          <p>If not set, this defaults to either &quot;<tt>javadoc</tt>&quot;
            or &quot;<tt>$(JAVA_HOME)/bin/javadoc</tt>&quot; depending on whether
            <tt>JAVA_HOME</tt> is set. </p>
        </li>
        <li>
          <p><b><tt>MAKE_PARSERS</tt></b> - <font color="#009000"><i><b>E</b></i></font>
            contains a small number (two as of this writing) of <tt>*.y</tt> files,
            which are compiled into parsers written in Java using <a href="#byaccj">BYacc/Java</a>
            (see above). The generated parsers are included in the source distribution
            <i>as</i> sources, even though technically they are not, because most
            people interested in rebuilding <font color="#009000"><i><b>E</b></i></font>
            will not care to rebuild these parsers.</p>
          <p>Those that do wish to rebuild these parsers should set <tt>MAKE_PARSERS</tt>
            to &quot;<tt>true</tt>&quot;. This will cause the BYacc/Java executable,
            <tt>byaccj</tt>, to be rebuilt from sources, and will cause these
            parsers to be rebuild from their <tt>*.y</tt> files using <tt>byaccj</tt>.
            The BYacc/Java sources seem to have problems compiling on some platforms.
            If you encounter such problems, and especially if you figure out how
            to fix it, please let us know.</p>
          <p>If not set, this defaults to not rebuilding byaccj or the parsers,
            but just using the generated parsers included in the source distribution
            <i>as</i> sources.</p>
        </li>
      </ul>
      If there are better or more conventional ways to control these building
      issues, please let us know. <!-- #EndEditable --></TD>
    <TD WIDTH="10%" rowspan="2" align="right" valign="bottom"> </TD>
  </TR>
  <TR VALIGN="TOP"> 
    <TD WIDTH="10%">&nbsp;</TD>
    <TD> <hr>
      Unless stated otherwise, all text on this page which is either unattributed 
      or by Mark S. Miller is hereby placed in the public domain. 
        <div align="center"> 
        <table width="100%" cellpadding="4" cellspacing="0">
          <tr> 
            <td> <table align="left" cellpadding="2">
                <tr> 
                  <td valign="top" align="left" colspan="3"><a href="../../index.html"><img src="../../images/e-lambda.gif" width="32" height="32" border="0" alt="ERights Home"></a> 
                    <!-- #BeginEditable "Path2" -->/&nbsp;<a href="../index.html">download</a>&nbsp;/&nbsp;<a href="index.html">0-8-35</a>&nbsp;<!-- #EndEditable --></td>
                </tr>
                <tr> 
                  <td valign="top" align="right"><!-- #BeginEditable "PrevButton2" --><a href="swt-support.html" title="Back to: SWT Support"><img src="../../images/prev.gif" width="64" height="32" alt="Back to: SWT Support" border="0"></a><!-- #EndEditable --></td>
                  <td valign="bottom" align="left"><!-- #BeginEditable "FirstButton2" --><!-- #EndEditable --></td>
                  <td valign="top" align="left"><!-- #BeginEditable "NextButton2" --><a href="src-IDE-ing.html" title="On to: Developing E in an IDE"><img src="../../images/next.gif" width="64" height="32" alt="On to: Developing E in an IDE" border="0"></a><!-- #EndEditable --></td>
                </tr>
              </table></td>
            <td> <table border="3" align="center" cellpadding="6" cellspacing="3">
                <tr> 
                  <td> <div align="center"><font size="-1"><a href="../../elib/index.html">ELib</a> 
                      &nbsp;&nbsp; <a href="../../elang/index.html">E Language</a> 
                      &nbsp;&nbsp; <a href="../../smart-contracts/index.html">Smart 
                      Contracts</a> &nbsp;&nbsp; <a href="../../related.html">Related</a> 
                      </font></div></td>
                </tr>
                <tr> 
                  <td> <div align="center"><font size="-1"><a href="../index.html">Download</a> 
                      &nbsp;&nbsp; <a href="http://mumble.net/e/faq.html">FAQ</a> 
                      &nbsp;&nbsp; <a href="../../javadoc/index.html">API</a> &nbsp;&nbsp; 
                      <a href="http://www.eros-os.org/pipermail/e-lang/">Mail 
                      Archive</a> &nbsp;&nbsp; <a href="../../donate.html">Donate</a></font></div></td>
                </tr>
              </table></td>
            <td><div align="right"> 
                <p><a href="https://sourceforge.net/tracker/?func=add&amp;group_id=75274&amp;atid=551529"><i>report 
                  bug</i></a> (including <a href="http://validator.w3.org/check/referer">invalid 
                  html</a>) </p>
                <p><a href="http://www.epic.org/crypto/"><img src="../../images/key.gif" width="37" height="19" alt="Golden Key Campaign" border="0"></a>&nbsp;<a href="http://www.eff.org/br/"><img src="../../images/ribbon.gif" width="18" height="30"
alt="Blue Ribbon Campaign" border="0"></a></div></td>
          </tr>
          
        </table>
      </div></TD>
  </TR>
</TABLE>
</BODY>
<!-- #EndTemplate --></HTML>
