<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<!--last modified on Saturday, October 03, 1998 04:19 PM -->
<HTML><!-- #BeginTemplate "/Templates/pink.dwt" --><!-- DW6 -->
<HEAD>
<!-- #BeginEditable "doctitle" -->
<TITLE>String Type</TITLE>
<!-- #EndEditable --> 
<meta http-equiv=content-type content="text/html; charset=UTF-8">
<meta name="Author" content="Mark S. Miller">
<link rel=author rev=made title="Mark S. Miller">
<META NAME="description" CONTENT="E: Cryptographic Capabilities for Distributed Smart Contracting">
<META NAME="keywords" CONTENT="p2p, p2p language, p2p computing, p2p objects, secure p2p, p2p capabilities, object oriented p2p,
  capability-based p2p, Capability Security, Capabilities, Cryptography, Distributed Objects, Distributed
  Language, Distributed Capabilities, Lambda Calculus, Scripting Language, Distributed Language, Persistent
  Language, Persistent Capabilities, Persistent Objects, Java Shell, Capability Shell, Scripting Java, Smart
  Contracting, Agoric E-Commerce, Open Source, Message pipelining, quasi literal, vat, event loop, granovetter diagram ">
<link rel="stylesheet" href="../../erights.css" type="text/css">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFEEDD" LINK="#0000FF" VLINK="#800080">
<TABLE BORDER="0" width="100%">
  <TR VALIGN="TOP"> 
    <TD WIDTH="10%">&nbsp; </TD>
    <TD> <TABLE BORDER="0" WIDTH="100%">
        <TR> 
          <TD ALIGN="LEFT" valign="top"> <table cellpadding="2">
              <tr> 
                <td valign="top" align="left" colspan="3"><a href="../../index.html"><img src="../../images/e-lambda.gif" width="32" height="32" border="0" alt="ERights Home"></a> 
                  <!-- #BeginEditable "Path" -->/&nbsp;<a href="../index.html">elang</a>&nbsp;/&nbsp;<a href="index.html">collect</a>&nbsp;<!-- #EndEditable --></td>
              </tr>
              <tr> 
                <td valign="top" align="right"><!-- #BeginEditable "PrevButton" --><img src="../../images/prev-gray.gif" width="64" height="32" alt="No Previous Sibling"><!-- #EndEditable --></td>
                <td valign="bottom" align="left"><!-- #BeginEditable "FirstButton" --><!-- #EndEditable --></td>
                <td valign="top" align="left"><!-- #BeginEditable "NextButton" --><a href="tables.html" title="On to: Using Tables"><img src="../../images/next.gif" width="64" height="32" alt="On to: Using Tables" border="0"></a><!-- #EndEditable --></td>
              </tr>
            </table></TD>
          <TD rowspan="2" ALIGN="RIGHT"> <P ALIGN="RIGHT"><FONT SIZE="7"><!-- #BeginEditable "BigTitle" --><FONT SIZE="7"><b>Collection
              Type:<br>
              String</b></FONT><!-- #EndEditable --></FONT> </TD>
        </TR>
        
      </TABLE>
      <hr> <!-- #BeginEditable "LongBody" -->
      <p>E's Strings are <a href="../../javadoc/org/erights/e/elib/tables/ConstList.html">ConstLists</a>
        (immutable sequences) of unicode <a href="../scalars/char-ref.html">characters</a>.
        Here are their operators in precedence order:</p>
      <h3>Boolean Comparisons (non-associative)</h3>
      <p>
      <table border="1" cellpadding="4" cellspacing="0">
        <tr>
          <th>Example</th>
          <th>Meaning</th>
          <th>Expansion</th>
          <th>Value</th>
        </tr>
        <tr>
          <td><tt>&quot;foo&quot; == &quot;bar&quot;</tt></td>
          <td>Are they the same?</td>
          <td><tt>__equalizer.sameEver(&quot;foo&quot;, &quot;bar&quot;)</tt></td>
          <td><tt>false</tt></td>
        </tr>
        <tr>
          <td><tt>&quot;foo&quot; != &quot;bar&quot;</tt></td>
          <td>Are they different?</td>
          <td><tt>__equalizer.sameEver(&quot;foo&quot;, &quot;bar&quot;).not()</tt></td>
          <td><tt>true</tt></td>
        </tr>
      </table>
      <p></p>
      <p>As you'd expect.</p>
      <h3>Magnitude Comparisons (non-associative)</h3>
      <p>
      <table border="1" cellpadding="4" cellspacing="0">
        <tr>
          <th>Example</th>
          <th>Meaning</th>
          <th>Expansion</th>
          <th>Value</th>
        </tr>
        <tr>
          <td>
            <pre><tt>&quot;foo&quot; &lt; &quot;bar&quot;</tt></pre>
          </td>
          <td>less than</td>
          <td>
            <pre><tt>&quot;foo&quot; compareTo(&quot;bar&quot;) belowZero</tt></pre>
          </td>
          <td><tt>false</tt></td>
        </tr>
        <tr>
          <td>
            <pre><tt>&quot;foo&quot; &lt;= &quot;bar&quot;</tt></pre>
          </td>
          <td>less or equal to</td>
          <td>
            <pre><tt>&quot;foo&quot; compareTo(&quot;bar&quot;) atMostZero</tt></pre>
          </td>
          <td><tt>false</tt></td>
        </tr>
        <tr>
          <td>
            <pre><tt>&quot;foo&quot; &gt;= &quot;bar&quot;</tt></pre>
          </td>
          <td>greater or equal to</td>
          <td>
            <pre><tt>&quot;foo&quot; compareTo(&quot;bar&quot;) atLeastZero</tt></pre>
          </td>
          <td><tt>true</tt></td>
        </tr>
        <tr>
          <td>
            <pre><tt>&quot;foo&quot; &gt; &quot;bar&quot;</tt></pre>
          </td>
          <td>greater than</td>
          <td>
            <pre><tt>&quot;foo&quot; compareTo(&quot;bar&quot;) aboveZero</tt></pre>
          </td>
          <td><tt>true</tt></td>
        </tr>
        <tr>
          <td>
            <pre><tt>&quot;foo&quot; &lt;=&gt; &quot;bar&quot;</tt></pre>
          </td>
          <td>as big as</td>
          <td>
            <pre><tt>&quot;foo&quot; compareTo(&quot;bar&quot;) isZero</tt></pre>
          </td>
          <td><tt>false</tt></td>
        </tr>
      </table>
      <p></p>
      <p>If you ask the Strings to compare themselves, they compare according
        to their unicode character codes. The &quot;&lt;=&gt;&quot; operator is
        <i><b><font color="#009000">E</font></b></i>'s way of asking whether two things have the same magnitude (are equivalent
        for sorting purposes). For Strings, &quot;&lt;=&gt;&quot; always gives
        the same answer as &quot;==&quot;.</p>
      <p>For locale-specific sorting orders, see ***.</p>
      <h3>Additive Expressions (left associative)</h3>
      <p>
      <table border="1" cellpadding="4" cellspacing="0">
        <tr>
          <th>Example</th>
          <th>Meaning</th>
          <th>Expansion</th>
          <th>Value</th>
        </tr>
        <tr>
          <td><tt>&quot;foo&quot; + &quot;bar&quot;</tt></td>
          <td>addition</td>
          <td><tt>&quot;foo&quot; add(&quot;bar&quot;)</tt></td>
          <td><tt>&quot;foobar&quot;</tt></td>
        </tr>
      </table>
      <p></p>
      <p>As in Java, Strings add by concatenating.</p>
      <h3>Multiplicative Expressions (left associative)</h3>
      <p>
      <table border="1" cellpadding="4" cellspacing="0">
        <tr>
          <th>Example</th>
          <th>Meaning</th>
          <th>Expansion</th>
          <th>Value</th>
        </tr>
        <tr>
          <td>
            <pre><tt>&quot;foo&quot; * 3</tt></pre>
          </td>
          <td>multiplication</td>
          <td>
            <pre><tt>&quot;foo&quot; multiply(3)</tt></pre>
          </td>
          <td><tt>&quot;foofoofoo&quot;</tt></td>
        </tr>
      </table>
      <p></p>
      <p>If you multiply a String by an integer, it's as if you added it to itself
        that many times.</p>
      <h3>Indexing Expression (left associative)</h3>
      <p>
      <table border="1" cellpadding="4" cellspacing="0">
        <tr>
          <th>Example</th>
          <th>Meaning</th>
          <th>Expansion</th>
          <th>Value</th>
        </tr>
        <tr>
          <td>
            <pre><tt>&quot;foobar&quot;[3]</tt></pre>
          </td>
          <td>get char by position</td>
          <td>
            <pre><tt>&quot;foobar&quot; get(3)</tt></pre>
          </td>
          <td>
            <pre><tt>'b'</tt></pre>
          </td>
        </tr>
        <tr>
          <td>
            <pre><tt>&quot;foobar&quot;(2, 4)</tt></pre>
          </td>
          <td>get substring by positions</td>
          <td>
            <pre><tt>&quot;foobar&quot; run(2,4)</tt></pre>
          </td>
          <td>
            <pre>&quot;ob&quot;</pre>
          </td>
        </tr>
        <tr>
          <td>
            <pre><tt>&quot;foobar&quot;(2..!4)</tt></pre>
          </td>
          <td>get substring by interval</td>
          <td>
            <pre><tt>&quot;foobar&quot; run(2..!4)</tt></pre>
          </td>
          <td>
            <pre>&quot;ob&quot;</pre>
          </td>
        </tr>
      </table>
      <p></p>
      <p>You index into a string to get the character at that position in the
        String. The first position in a String is numbered zero, so position number
        3 of &quot;foobar&quot; is &quot;foobar&quot;'s fourth character, a 'b'.
      </p>
      <p>You can extract a run of a string by using parens instead of square brackets.
        As with Java's String's substring message, the first number is the index
        of the beginning of the run to extract, and the second number is the index
        immediately after the last character to extract.</p>
      <p>If you use an interval instead of a pair of numbers, then the characters
        are indices that are in this interval as extracted in order to make the
        returned substring.</p>
      <p>Since Strings are immutable, one cannot use these expressions to assign
        into a String.</p>
      <p>
      <hr align="CENTER">
      <p></p>
      <h2>Strings respond to ConstList messages</h2>
      <blockquote>
        <pre><span class="stdout">? </span><span class="keyword">pragma</span>.syntax(&quot;<span class="litchars">0.8</span>&quot;)

? &quot;foobar&quot;.<b>size</b>()
# value: 6</pre>
      </blockquote>
      <p>As you'd expect.</p>
      <p>Being Lists, Strings also support iteration:</p>
      <blockquote>
        <pre>? <b>for</b> i <b>=&gt;</b> c <b>in</b> &quot;foo&quot; {
&gt;     def code := c.asInteger()
&gt;     println(`$i =&gt; $c ($code)`)
&gt; }
# stdout: 0 =&gt; f (102)
#         1 =&gt; o (111)
#         2 =&gt; o (111)
#

? &quot;foobar&quot;.<b>indexOf1</b>('o')
# value: 1

? &quot;foobar&quot;.<b>startOf</b>(&quot;oo&quot;)
# value: 1

? &quot;foobar&quot;.<b>startOf</b>(&quot;ob&quot;)
# value: 2

? &quot;foobar&quot;.<b>lastIndexOf1</b>('o')
# value: 2
</pre>
      </blockquote>
      <p></p>
      <p>
      <hr align="CENTER">
      <p></p>
      <h2>java.lang.String Messages</h2>
      <p>E's Strings are actually Java Strings, of the messages defined in the
        javadoc-umentation for java.lang.String the following messages are useful
        from E.</p>
      <blockquote>
        <pre>? &quot;foobar&quot;.<b>startsWith</b>(&quot;bar&quot;)
# value: false

? &quot;foobar&quot;.<b>endsWith</b>(&quot;bar&quot;)
# value: true

? &quot;foo&quot;.<b>equalsIgnoreCase</b>(&quot;FoO&quot;)
# value: true

? &quot;FooBar&quot;.<b>toLowerCase</b>()
# value: &quot;foobar&quot;

? &quot;FooBar&quot;.<b>toUpperCase</b>()
# value: &quot;FOOBAR&quot;

? def str := &quot;  \n\t  foobar\n&quot;
# value: &quot;
#        \t  foobar
#        &quot;

? str.size()
# value: 13

? def trimmed := str.<b>trim</b>()
# value: &quot;foobar&quot;

? trimmed.size()
# value: 6</pre>
      </blockquote>
      <p><tt>trim()</tt> returns a String with the whitespace removed from
        both ends. </p>
      <p>
      <hr align="CENTER">
      <p></p>
      <h2>Additional String Messages</h2>
      <p>In addition to the above operators and messages, Strings respond to the
        following messages:</p>
      <blockquote>
        <pre>? &quot;foobar&quot;.<b>replaceAll</b>(&quot;oo&quot;, &quot;u&quot;)
# value: &quot;fubar&quot;
</pre>
      </blockquote>
      &quot;<tt>replaceAll(..)</tt>&quot; is derived from java.lang.String's
      &quot;replace&quot;, but takes strings as arguments rather than characters.
      <blockquote>
        <pre>
? for line in str.<b>split</b>("\n") {
&gt;     println(line.size())
&gt; }
# stdout: 2
#         9
#         0
#</pre>
      </blockquote>
      <p>&quot;<tt>split(separator)</tt>&quot; breaks a String up into segments
        separated by occurrences of the separator, and returns an array containing
        each segment. Each segment in the array contains only the text between
        the separators, not the separators themselves. Since the original string
        ended with a newline, the zero length segment above represents the segment
        between this last separator occurrence and the end of the string. This
        operation was inspired by Python's string split operation. <font color="#FF0000">(***
        document the inverse: rjoin)</font>
      <!-- #EndEditable --></TD>
    <TD WIDTH="10%" rowspan="2" align="right" valign="bottom"> </TD>
  </TR>
  <TR VALIGN="TOP"> 
    <TD WIDTH="10%">&nbsp;</TD>
    <TD> <hr>
      Unless stated otherwise, all text on this page which is either unattributed 
      or by Mark S. Miller is hereby placed in the public domain. 
        <div align="center"> 
        <table width="100%" cellpadding="4" cellspacing="0">
          <tr> 
            <td> <table align="left" cellpadding="2">
                <tr> 
                  <td valign="top" align="left" colspan="3"><a href="../../index.html"><img src="../../images/e-lambda.gif" width="32" height="32" border="0" alt="ERights Home"></a> 
                    <!-- #BeginEditable "Path2" -->/&nbsp;<a href="../index.html">elang</a>&nbsp;/&nbsp;<a href="index.html">collect</a>&nbsp;<!-- #EndEditable --></td>
                </tr>
                <tr> 
                  <td valign="top" align="right"><!-- #BeginEditable "PrevButton2" --><img src="../../images/prev-gray.gif" width="64" height="32" alt="No Previous Sibling"><!-- #EndEditable --></td>
                  <td valign="bottom" align="left"><!-- #BeginEditable "FirstButton2" --><!-- #EndEditable --></td>
                  <td valign="top" align="left"><!-- #BeginEditable "NextButton2" --><a href="tables.html" title="On to: Using Tables"><img src="../../images/next.gif" width="64" height="32" alt="On to: Using Tables" border="0"></a><!-- #EndEditable --></td>
                </tr>
              </table></td>
            <td> <table border="3" align="center" cellpadding="6" cellspacing="3">
                <tr> 
                  <td> <div align="center"><font size="-1"><a href="../../elib/index.html">ELib</a> 
                      &nbsp;&nbsp; <a href="../index.html">E Language</a> 
                      &nbsp;&nbsp; <a href="../../smart-contracts/index.html">Smart 
                      Contracts</a> &nbsp;&nbsp; <a href="../../related.html">Related</a> 
                      </font></div></td>
                </tr>
                <tr> 
                  <td> <div align="center"><font size="-1"><a href="../../download/index.html">Download</a> 
                      &nbsp;&nbsp; <a href="http://mumble.net/e/faq.html">FAQ</a> 
                      &nbsp;&nbsp; <a href="../../javadoc/index.html">API</a> &nbsp;&nbsp; 
                      <a href="http://www.eros-os.org/pipermail/e-lang/">Mail 
                      Archive</a> &nbsp;&nbsp; <a href="../../donate.html">Donate</a></font></div></td>
                </tr>
              </table></td>
            <td><div align="right"> 
                <p><a href="https://sourceforge.net/tracker/?func=add&amp;group_id=75274&amp;atid=551529"><i>report 
                  bug</i></a> (including <a href="http://validator.w3.org/check/referer">invalid 
                  html</a>) </p>
                <p><a href="http://www.epic.org/crypto/"><img src="../../images/key.gif" width="37" height="19" alt="Golden Key Campaign" border="0"></a>&nbsp;<a href="http://www.eff.org/br/"><img src="../../images/ribbon.gif" width="18" height="30"
alt="Blue Ribbon Campaign" border="0"></a></div></td>
          </tr>
          
        </table>
      </div></TD>
  </TR>
</TABLE>
</BODY>
<!-- #EndTemplate --></HTML>
