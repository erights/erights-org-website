<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<!--last modified on Saturday, October 03, 1998 04:19 PM -->
<HTML><!-- #BeginTemplate "/Templates/pink.dwt" --><!-- DW6 -->
<HEAD>
<!-- #BeginEditable "doctitle" -->
<TITLE>Quasi-Literals and Term / Functor Trees</TITLE>
<!-- #EndEditable --> 
<meta http-equiv=content-type content="text/html; charset=UTF-8">
<meta name="Author" content="Mark S. Miller">
<link rel=author rev=made title="Mark S. Miller">
<META NAME="description" CONTENT="E: Cryptographic Capabilities for Distributed Smart Contracting">
<META NAME="keywords" CONTENT="p2p, p2p language, p2p computing, p2p objects, secure p2p, p2p capabilities, object oriented p2p,
  capability-based p2p, Capability Security, Capabilities, Cryptography, Distributed Objects, Distributed
  Language, Distributed Capabilities, Lambda Calculus, Scripting Language, Distributed Language, Persistent
  Language, Persistent Capabilities, Persistent Objects, Java Shell, Capability Shell, Scripting Java, Smart
  Contracting, Agoric E-Commerce, Open Source, Message pipelining, quasi literal, vat, event loop, granovetter diagram ">
<link rel="stylesheet" href="../../erights.css" type="text/css">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFEEDD" LINK="#0000FF" VLINK="#800080">
<TABLE BORDER="0" width="100%">
  <TR VALIGN="TOP"> 
    <TD WIDTH="10%">&nbsp; </TD>
    <TD> <TABLE BORDER="0" WIDTH="100%">
        <TR> 
          <TD ALIGN="LEFT" valign="top"> <table cellpadding="2">
              <tr> 
                <td valign="top" align="left" colspan="3"><a href="../../index.html"><img src="../../images/e-lambda.gif" width="32" height="32" border="0" alt="ERights Home"></a> 
                  <!-- #BeginEditable "Path" -->/&nbsp;<a href="../index.html">elang</a>&nbsp;/&nbsp;<a href="index.html">grammar</a>&nbsp;<!-- #EndEditable --></td>
              </tr>
              <tr> 
                <td valign="top" align="right"><!-- #BeginEditable "PrevButton" --><a href="quasi-overview.html" title="Back to: QuasiLiterals"><img src="../../images/prev.gif" width="64" height="32" alt="Back to: QuasiLiterals" border="0"></a><!-- #EndEditable --></td>
                <td valign="bottom" align="left"><!-- #BeginEditable "FirstButton" --><!-- #EndEditable --></td>
                <td valign="top" align="left"><!-- #BeginEditable "NextButton" --><a href="quasi-xml.html" title="On to: Obsolete: Quasi-Literals and XML"><img src="../../images/next.gif" width="64" height="32" alt="On to: Obsolete: Quasi-Literals and XML" border="0"></a><!-- #EndEditable --></td>
              </tr>
            </table></TD>
          <TD rowspan="2" ALIGN="RIGHT"> <P ALIGN="RIGHT"><FONT SIZE="7"><!-- #BeginEditable "BigTitle" --><b>
              Quasi-Literals<br>
              <font size="6">and Term / Functor Trees</font></b><!-- #EndEditable --></FONT> </TD>
        </TR>
        
      </TABLE>
      <hr> <!-- #BeginEditable "LongBody" -->
      <p><font color="#FF0000">Note: This page will explain <i><b><font color="#009000">E</font></b></i>'s current plans
        for quasi-literals on symbol trees, but is still terribly incomplete.
        In the meantime, <a href="quasi-xml.html">this page</a> should give a
        sense for where we're going. It expresses the same set of concepts in
        terms of our earlier plans to use Minimal-XML DOM trees.</font></p>
      <hr>
      <h1 align="center">Match-Bind-Substitute Programming<br>
        for<br>
        Extensible Symbolic Notations </h1>
      <p><font color="#FF0000">*** write overview</font></p>
      <ul>
        <li>
          <p>A Parser Generator whose actions build Term trees.</p>
          <p>This technology creates <i>notational interoperability</i>.</p>
        </li>
        <li>
          <p>A QuasiParser generator for creating QuasiParsers, for creating quasi-literal
            expressions and quasi-literal patterns</p>
          <p>With this technology, programmers can write transformation code in
            the <i>match-bind-substitute</i> programming paradigm in the context
            of general programmability</p>
        </li>
      </ul>
      <h1>Universal <i>vs </i>Specialized Syntaxes?</h1>
      <p>Lisp S-Expressions, Prolog Term Trees, and XML all demonstrate the power
        of using a &quot;universal&quot; notation for trees of symbols to represent
        information that could have been encoded in a great variety of separately
        designed notations. The most common approach to using this power is to
        express oneself directly in this universal notation. For example, the
        strength of this approach is the most often cited explanation of XML's
        popularity: By using a common underlying representation (e.g., XML), generic
        tools (e.g. XSLT) can often be written to apply to many particular forms
        of symbolic information (e.g. domain-specific XML conforming to a particular
        DTD) not known to the tool creator. </p>
      <p>However, this approach by itself has a great cost. It would have us forsake
        the use of specialized syntaxes optimized for use in specialized domains.
        The history of at least Math, Physics, many domains of Engineering, and
        especially Computer Science shows the surprising degree to which a well
        designed notation can aid human thinking in novel complex domains.</p>
      <h3 class="title">Example: Algebraic Expressions</h3>
      <p> The simple expression, written in standard math notation as</p>
      <blockquote>
        <pre>
<font color="#003300">x<sup><font size="-1">2</font></sup> + x<sup><font size="-1">3</font></sup></font>
</pre>
      </blockquote>
      <p>is expressed in MathML as</p>
      <blockquote>
        <pre>
<font color="#003300">&lt;apply&gt;
  &lt;plus/&gt;
  &lt;apply&gt;
    &lt;power/&gt;
    &lt;ci&gt;x&lt;/ci&gt;
    &lt;cn&gt;2&lt;/cn&gt;
  &lt;/apply&gt;
  &lt;apply&gt;
    &lt;power/&gt;
    &lt;ci&gt;x&lt;/ci&gt;
    &lt;cn&gt;3&lt;/cn&gt;
  &lt;/apply&gt;
&lt;/apply&gt;</font></pre>
      </blockquote>
      <p><a href="http://www.w3.org/TR/REC-MathML/chapter2.html#sec2.1.2">MathML</a>
        is a particularly notorious example of the price XML pays for using a
        single generic syntax for all jobs. But even with Lisp E-Expressions,
        we might express this as</p>
      <blockquote>
        <pre>'(plus (power x 2) (power x 3))</pre>
      </blockquote>
      <p>or, similarly, in Prolog Term Trees as</p>
      <blockquote>
        <pre>plus(power(&quot;x&quot;, 2), power(&quot;x&quot;, 3))</pre>
      </blockquote>
      <p>While both of these are vast improvements over MathML, they are still
        vastly worse <i>for this purpose</i> than the conventional specialized
        algebraic notation. Such is the price of universal notations, even well
        designed ones.</p>
      <h3>Notational Interoperability: Many Surfaces on One Tree</h3>
      <p>*** Explain about Antlr <a href="../../javadoc/antlr/collections/AST.html">ASTs</a>
        and <a href="../../javadoc/antlr/Token.html">Tokens</a> and parser generation.</p>
      <p>*** Explain bout <a href="../../javadoc/org/quasiliteral/term/Term.html">Term</a>
        / <a href="../../javadoc/org/quasiliteral/term/Functor.html">Functor</a>
        trees, and about our universal Term tree syntax.</p>
      <p>*** Explain briefly about <a href="../../javadoc/org/quasiliteral/astro/Astro.html">Astro</a>
        and <a href="../../javadoc/org/quasiliteral/astro/AstroToken.html">AstroToken</a>.</p>
      <div>
        <div>
          <h1 class="title">Match-Bind-Substitute Programming</h1>
        </div>
        <div>
          <p><font color="#FF0000">*** Show symbolic differentiation</font></p>
          <p>By contrast, using the QuasiParser technology described below, we
            can express the same transformation in E as</p>
        </div>
        <div>
          <blockquote>
            <pre>
<font color="#003300">def deriv(expr, var) :any {
    switch(expr) {
        match math`$var ** @exp` ? (isConst(exp)) {
            math`$exp * $var ** ($exp - 1)`
        }
        match math`@a + @b` {
            def da := deriv(a, var)
            def db := deriv(b, var)
            math`$da + $db`
        }
        <font class="comment"># ...</font>
    }
}</font>
</pre>
          </blockquote>
          <p>The last 3 lines could have instead been written as</p>
          <blockquote>
            <pre>
<font color="#003300">            math`${deriv(a, var)} + $(deriv(b, var)}`</font>
</pre>
          </blockquote>
          <p>depending on your taste. This is not only compact, readable, and
            maintainable, it also states the transformation rules in a notation
            recognizable to the relevant subject domain specialists -- in this
            case, to mathematicians. Despite the notational shift, the output
            is a Term tree which can be written out as a ...</p>
          <p>*** write the rest</p>
        </div>
      </div>
      <div>
        <blockquote>&nbsp;</blockquote>
      </div>
      <!-- #EndEditable --></TD>
    <TD WIDTH="10%" rowspan="2" align="right" valign="bottom"> </TD>
  </TR>
  <TR VALIGN="TOP"> 
    <TD WIDTH="10%">&nbsp;</TD>
    <TD> <hr>
      Unless stated otherwise, all text on this page which is either unattributed 
      or by Mark S. Miller is hereby placed in the public domain. 
        <div align="center"> 
        <table width="100%" cellpadding="4" cellspacing="0">
          <tr> 
            <td> <table align="left" cellpadding="2">
                <tr> 
                  <td valign="top" align="left" colspan="3"><a href="../../index.html"><img src="../../images/e-lambda.gif" width="32" height="32" border="0" alt="ERights Home"></a> 
                    <!-- #BeginEditable "Path2" -->/&nbsp;<a href="../index.html">elang</a>&nbsp;/&nbsp;<a href="index.html">grammar</a>&nbsp;<!-- #EndEditable --></td>
                </tr>
                <tr> 
                  <td valign="top" align="right"><!-- #BeginEditable "PrevButton2" --><a href="quasi-overview.html" title="Back to: QuasiLiterals"><img src="../../images/prev.gif" width="64" height="32" alt="Back to: QuasiLiterals" border="0"></a><!-- #EndEditable --></td>
                  <td valign="bottom" align="left"><!-- #BeginEditable "FirstButton2" --><!-- #EndEditable --></td>
                  <td valign="top" align="left"><!-- #BeginEditable "NextButton2" --><a href="quasi-xml.html" title="On to: Obsolete: Quasi-Literals and XML"><img src="../../images/next.gif" width="64" height="32" alt="On to: Obsolete: Quasi-Literals and XML" border="0"></a><!-- #EndEditable --></td>
                </tr>
              </table></td>
            <td> <table border="3" align="center" cellpadding="6" cellspacing="3">
                <tr> 
                  <td> <div align="center"><font size="-1"><a href="../../elib/index.html">ELib</a> 
                      &nbsp;&nbsp; <a href="../index.html">E Language</a> 
                      &nbsp;&nbsp; <a href="../../smart-contracts/index.html">Smart 
                      Contracts</a> &nbsp;&nbsp; <a href="../../related.html">Related</a> 
                      </font></div></td>
                </tr>
                <tr> 
                  <td> <div align="center"><font size="-1"><a href="../../download/index.html">Download</a> 
                      &nbsp;&nbsp; <a href="http://mumble.net/e/faq.html">FAQ</a> 
                      &nbsp;&nbsp; <a href="../../javadoc/index.html">API</a> &nbsp;&nbsp; 
                      <a href="http://www.eros-os.org/pipermail/e-lang/">Mail 
                      Archive</a> &nbsp;&nbsp; <a href="../../donate.html">Donate</a></font></div></td>
                </tr>
              </table></td>
            <td><div align="right"> 
                <p><a href="https://sourceforge.net/tracker/?func=add&amp;group_id=75274&amp;atid=551529"><i>report 
                  bug</i></a> (including <a href="http://validator.w3.org/check/referer">invalid 
                  html</a>) </p>
                <p><a href="http://www.epic.org/crypto/"><img src="../../images/key.gif" width="37" height="19" alt="Golden Key Campaign" border="0"></a>&nbsp;<a href="http://www.eff.org/br/"><img src="../../images/ribbon.gif" width="18" height="30"
alt="Blue Ribbon Campaign" border="0"></a></div></td>
          </tr>
          
        </table>
      </div></TD>
  </TR>
</TABLE>
</BODY>
<!-- #EndTemplate --></HTML>
