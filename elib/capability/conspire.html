<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<!--last modified on Saturday, October 03, 1998 04:19 PM -->
<HTML><!-- #BeginTemplate "/Templates/pink.dwt" --><!-- DW6 -->
<HEAD>
<!-- #BeginEditable "doctitle" --> 
<TITLE>Communicating Conspirators</TITLE>
<!-- #EndEditable --> 
<meta http-equiv=content-type content="text/html; charset=UTF-8">
<meta name="Author" content="Mark S. Miller">
<link rel=author rev=made title="Mark S. Miller">
<META NAME="description" CONTENT="E: Cryptographic Capabilities for Distributed Smart Contracting">
<META NAME="keywords" CONTENT="p2p, p2p language, p2p computing, p2p objects, secure p2p, p2p capabilities, object oriented p2p,
  capability-based p2p, Capability Security, Capabilities, Cryptography, Distributed Objects, Distributed
  Language, Distributed Capabilities, Lambda Calculus, Scripting Language, Distributed Language, Persistent
  Language, Persistent Capabilities, Persistent Objects, Java Shell, Capability Shell, Scripting Java, Smart
  Contracting, Agoric E-Commerce, Open Source, Message pipelining, quasi literal, vat, event loop, granovetter diagram ">
<link rel="stylesheet" href="../../erights.css" type="text/css">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFEEDD" LINK="#0000FF" VLINK="#800080">
<TABLE BORDER="0" width="100%">
  <TR VALIGN="TOP"> 
    <TD WIDTH="10%">&nbsp; </TD>
    <TD> <TABLE BORDER="0" WIDTH="100%">
        <TR> 
          <TD ALIGN="LEFT" valign="top"> <table cellpadding="2">
              <tr> 
                <td valign="top" align="left" colspan="3"><a href="../../index.html"><img src="../../images/e-lambda.gif" width="32" height="32" border="0" alt="ERights Home"></a> 
                  <!-- #BeginEditable "Path" -->/&nbsp;<a href="../index.html">elib</a>&nbsp;/&nbsp;<a href="index.html">capability</a>&nbsp;<!-- #EndEditable --></td>
              </tr>
              <tr> 
                <td valign="top" align="right"><!-- #BeginEditable "PrevButton" --><a href="deputy.html" title="Back to: The Confused Deputy"><img src="../../images/prev.gif" width="64" height="32" alt="Back to: The Confused Deputy" border="0"></a><!-- #EndEditable --></td>
                <td valign="bottom" align="left"><!-- #BeginEditable "FirstButton" --><!-- #EndEditable --></td>
                <td valign="top" align="left"><!-- #BeginEditable "NextButton" --><a href="consensus-9feb01.html" title="On to: Statements Of Consensus, 9 Feb 01"><img src="../../images/next.gif" width="64" height="32" alt="On to: Statements Of Consensus, 9 Feb 01" border="0"></a><!-- #EndEditable --></td>
              </tr>
            </table></TD>
          <TD rowspan="2" ALIGN="RIGHT"> <P ALIGN="RIGHT"><FONT SIZE="7"><!-- #BeginEditable "BigTitle" --><FONT SIZE="7"><B>Communicating<br>
              Conspirators </B></FONT><!-- #EndEditable --></FONT> </TD>
        </TR>
        
      </TABLE>
      <hr> <!-- #BeginEditable "LongBody" --> 
      <P>(See <a href="delegations.html">Prohibiting Delegation</a> for context)
      <P ALIGN="center"><img src="images/conspire.png" width="780" height="543" alt="communicating conspirators problem"> 
      <P ALIGN="left">Bob and Mallet are properly in communication, and Bob and 
        Mallet both wish Mallet to have the power.&nbsp; They are <i>Communicating 
        Conspirators</i>.&nbsp; Can Alice arrange to prevent Bob from giving Mallet 
        the Power? The answer is simply <i><b>no</b></i>. Bob can circumvent any 
        such attempt by creating a message laundry: 
      <P ALIGN="center"><img src="images/laundry.gif" width="517" height="373" alt="message laundry"> 
      <P ALIGN="left">The reason the message laundry cannot be prevented is that 
        it does not even admit of definition. The definition of what you're trying 
        to prohibit is indistinguishable from the statement of the situation that 
        is being allowed -- except for a change in terminology used to describe 
        it. The allowed situation? 
      <P ALIGN="left"> 
      <blockquote> 
        <p>Bob may make use of the power in a way dependent on his own state over 
          time. Bob may also communicate with Mallet, and may change his state 
          as a result of such communication</p>
      </blockquote>
      <P ALIGN="left">The prohibited situation? 
      <P ALIGN="left"> 
      <blockquote>Although Bob and Mallet may share interests, and although they 
        may be in communication, Bob should be prohibited from enabling Mallet 
        to make use this power which has been granted to Bob.</blockquote>
      <P ALIGN="left">I understand why lawyers would think this is a defenceable 
        difference -- they get paid to litigate meaningless distinctions. But 
        I'm boggled that more than a generation of computer science and engineering 
        could have gone off the rails, and stayed off the rails, thinking this 
        prohibition was desireable. 
      <P ALIGN="left">This unenforceable prohibition is the only case that ACLs 
        can express but capabilities cannot. However, neither ACLs nor any force 
        in the universe can prevent what is here prohibited, so this extra expressiveness 
        only gives the users a false sense of security -- misleading them about 
        what inabilities of the other players they may count on. 
      <h1 ALIGN="left">Other Statements of the Same Impossibility</h1>
      <p ALIGN="left">The above observation was first made in 1981 by Jed Donnelley's 
        &quot;<a href="http://www.webstart.com/jed/papers/Managing-Domains/#s6">Managing 
        Domains</a>&quot; paper:</p>
      <blockquote> 
        <p align="left">To see the difficulty of restricting capability passing, 
          we need only consider processes A, B, and S pictured in <a href="http://www.webstart.com/jed/papers/Managing-Domains/Figure-3-50.gif">fig. 
          3</a>. Suppose that A has a capability to a resource serviced by S. 
          Also suppose that A can communicate with B (if not, then A cannot pass 
          anything to B, so no special capability-passing restriction is necessary). 
          If a monitoring OS kernel has denied the mechanism for passing direct 
          access to a resource from A to B, A can still give B the right to indirect 
          access. A can simply have B send all its service requests to A for forwarding 
          to S. A will also have to return the results of such requests to B.</p>
      </blockquote>
      <p ALIGN="left">There have been in depth <a href="http://www.google.com/custom?q=communicating%2Bconspirators&sa=Google%2BSearch&cof=LW%3A78%3BL%3Ahttp%3A%2F%2Fwww.erights.org%2Fimages%2Fsmall-logo.gif%3BLH%3A78%3BBGC%3A%23ffeedd%3BAH%3Acenter%3BGL%3A0%3BS%3Ahttp%3A%2F%2Fwww.combex.com%3BAWFID%3Ac67be8a0599ab4b0%3B&domains=erights.org%3Bcombex.com%3Beros-os.org%3Bskyhunter.com%3Bcaplet.com%3Bcap-lore.com%3Bwaterken.com%3Bszabo.best.vwh.net&sitesearch=eros-os.org"> 
        discussions </a>on the cap-talk list regarding the communicating conspirators 
        problem. </p>
      <p ALIGN="left">Rob Meijer's &quot;<a href="http://www.xs4all.nl/%7Ermeijer/tsproxy/">Tainting 
        Proxy Pattern</a>&quot; may solve a related problem, and bears examination.</p>
      <p ALIGN="left">Even though the SPKI standard adopted a do-not-delegate 
        bit, section 4.1.1 of the <a href="http://www.ietf.org/rfc/rfc2693.txt">SPKI 
        rfc</a> correctly explains why this bit is unenforceable:</p>
      <p ALIGN="left"> 
      <blockquote>The argument in favor of no control [of delegation] is that 
        if a keyholder is given permission to do something but not the permission 
        to delegate it, then it is possible for that keyholder to [...] set up 
        a proxy service, signing challenges or requests for the intended delegate. 
        [...]</blockquote>
      <P ALIGN="left">(<a href="ode/ode-pki.html">This</a> explains the relationship 
        of SPKI to capabilities.) 
      <P ALIGN="left">Likewise, Stefan Brands' deservedly famous thesis states: 
      <blockquote>In communications or transactions that are not face-to-face, 
        remote lending cannot be prevented, regardless of whether privacy-protecting 
        certificates or fully traceable identity certificates are used. Indeed, 
        the ``lender'' might as well perform the entire showing protocol execution 
        and simply relay the provided service or goods to the ``borrower.'' </blockquote>
      <h1 ALIGN="left"><a name="revokability"></a>Where Capabilities Do Fall Short</h1>
      <P ALIGN="left">In the crit-mail thread "Communicating Conspirators", rooted 
        in <a href="http://www.eros-os.org/%7Emajordomo/e-lang/1187.html">here</a>, 
        Ralph Hartley establishes that other security architectures, including 
        some possible ACL systems, can enforce a subtle prohibition, having to 
        do with delegation in the Communicating Conspirators scenario, that capabilities 
        can neither express nor enforce: for Alice to prohibit Bob from delegating 
        the power to Mallet in such a way that Bob does not have the ability to 
        revoke that delegation. To put it another way, while one cannot construct 
        a security architecture in which Alice can prevent Bob from delegating 
        to his communicating conspirator Mallet, under certain conditions, one 
        can construct a security architecture in which Alice can prevent Bob from 
        preventing Bob from preventing Mallet from continuing to use this power, 
        even though Alice can't achieve this only with pure capabilities. The 
        conditions? 
      <p>Let's outline three hardware scenarios.&nbsp; In all scenarios, computers 
        are assumed trustworthy as of the moment they are picked up, or delivered 
        from, the store.&nbsp; (There's no justification for this assumption, 
        except that no one could make any progress without this assumption. I 
        hope you are as terrified as I of the implications of this.)</p>
      <ol>
        <li> 
          <h3> Cypherpunk Reference Scenario. </h3>
          <p>Anyone may tamper with any computer in their physical possession.&nbsp; 
            We further assume that our homes make evidence of break-in evident, 
            so we can stop trusting our computer following a possible physical 
            tampering. Therefore, Alice trusts Alice's computer &amp; Bob trusts 
            Bob's computer, but Alice does not trust Bob's computer. 
          <p>In this scenario, Ralph's observation holds, since the only machine 
            trusted to hold Bob's secret key is one in Bob's physical possession.&nbsp; 
            Bob's laundry-for-Mallet can only run on such a machine, and Bob is 
            not able to prevent Bob from tampering with the machine in order to 
            destroy the laundry. &nbsp; </p>
        </li>
        <li> 
          <h3>Pervasive Opaque Box Scenario. </h3>
          <p>Opaque Boxes are defined <a href="http://www.agorics.com/Library/agoricpapers/aos/aos.6.html#section6.1.2">here</a>. 
            Briefly, opaque boxes are boxes which destroy themselves (or equivalently, 
            their memory) when they detect an attempt to violate the integrity 
            of the box.&nbsp; The box contains CPU and memory and a secret key 
            it never divulges. If disk is outside the box, pages must be encrypted/decrypted 
            as they move between ram and disk. 
          <p>Despite my earlier advocacy, as seen at the above link, I have come 
            to share the sense of some other cryptographers that this solution 
            is "totalitarian".&nbsp; See "<a href="http://www.eros-os.org/%7Emajordomo/e-lang/1075.html">Against 
            Opaque Boxes</a>", but note that (I believe) Jonathan is no longer 
            on the other side of this question. 
          <p>In any case, in this scenario, Ralph's observation holds as well, 
            as the only box which Alice will take to represent Bob is a box not 
            in Bob's physical control, even if it is in his physical possession.&nbsp; 
            Such a box can be running an operating system that imposes anti-irrevocability 
            rules on Bob, though it still cannot solve the Communicating Conspirators 
            problem. </p>
        </li>
        <li> 
          <h3>Cypherpunk With Opaque Box Availability. </h3>
          <p>This is the cypherpunk scenario modified by the availability of opaque 
            boxes.&nbsp; Now, if Bob wishes to irrevocably delegate to Mallet, 
            he can place his laundry-for-Mallet into an opaque box containing 
            Bob's private key, and physically give this box to Mallet.&nbsp; The 
            box will not divulge Bob's key to Mallet, but because Mallet has physical 
            possession of the box, Bob cannot destroy it. 
          <p>In this scenario, the price of irrevocable delegation is hardware, 
            but we should assume that such hardware will shortly be dirt cheap.&nbsp; 
            I claim that this scenario is the better idealization of the world 
            we're about to find ourselves in.&nbsp; Within this scenario, the 
            only expressiveness shortfall of capabilities <i>vs</i> theoretical 
            possibility is the ability for Alice to impose this minor hardware 
            cost on Bob.&nbsp; A pure cryptographic capability architecture (such 
            as E) would spare Bob this hardware cost. 
        </li>
      </ol>
      <P ALIGN="left">As an engineer I'm willing to give up on some theoretical 
        possibilities if I feel their cost exceeds their value. Despite Ralph's 
        demonstration of this subtle expressiveness gap of pure capabilities under 
        certain conditions, E remains a pure capability architecture. 
      <P ALIGN="left">&nbsp; 
      <!-- #EndEditable --></TD>
    <TD WIDTH="10%" rowspan="2" align="right" valign="bottom"> </TD>
  </TR>
  <TR VALIGN="TOP"> 
    <TD WIDTH="10%">&nbsp;</TD>
    <TD> <hr>
      Unless stated otherwise, all text on this page which is either unattributed 
      or by Mark S. Miller is hereby placed in the public domain. 
        <div align="center"> 
        <table width="100%" cellpadding="4" cellspacing="0">
          <tr> 
            <td> <table align="left" cellpadding="2">
                <tr> 
                  <td valign="top" align="left" colspan="3"><a href="../../index.html"><img src="../../images/e-lambda.gif" width="32" height="32" border="0" alt="ERights Home"></a> 
                    <!-- #BeginEditable "Path2" -->/&nbsp;<a href="../index.html">elib</a>&nbsp;/&nbsp;<a href="index.html">capability</a>&nbsp;<!-- #EndEditable --></td>
                </tr>
                <tr> 
                  <td valign="top" align="right"><!-- #BeginEditable "PrevButton2" --><a href="deputy.html" title="Back to: The Confused Deputy"><img src="../../images/prev.gif" width="64" height="32" alt="Back to: The Confused Deputy" border="0"></a><!-- #EndEditable --></td>
                  <td valign="bottom" align="left"><!-- #BeginEditable "FirstButton2" --><!-- #EndEditable --></td>
                  <td valign="top" align="left"><!-- #BeginEditable "NextButton2" --><a href="consensus-9feb01.html" title="On to: Statements Of Consensus, 9 Feb 01"><img src="../../images/next.gif" width="64" height="32" alt="On to: Statements Of Consensus, 9 Feb 01" border="0"></a><!-- #EndEditable --></td>
                </tr>
              </table></td>
            <td> <table border="3" align="center" cellpadding="6" cellspacing="3">
                <tr> 
                  <td> <div align="center"><font size="-1"><a href="../index.html">ELib</a> 
                      &nbsp;&nbsp; <a href="../../elang/index.html">E Language</a> 
                      &nbsp;&nbsp; <a href="../../smart-contracts/index.html">Smart 
                      Contracts</a> &nbsp;&nbsp; <a href="../../related.html">Related</a> 
                      </font></div></td>
                </tr>
                <tr> 
                  <td> <div align="center"><font size="-1"><a href="../../download/index.html">Download</a> 
                      &nbsp;&nbsp; <a href="http://mumble.net/e/faq.html">FAQ</a> 
                      &nbsp;&nbsp; <a href="../../javadoc/index.html">API</a> &nbsp;&nbsp; 
                      <a href="http://www.eros-os.org/pipermail/e-lang/">Mail 
                      Archive</a> &nbsp;&nbsp; <a href="../../donate.html">Donate</a></font></div></td>
                </tr>
              </table></td>
            <td><div align="right"> 
                <p><a href="https://sourceforge.net/tracker/?func=add&amp;group_id=75274&amp;atid=551529"><i>report 
                  bug</i></a> (including <a href="http://validator.w3.org/check/referer">invalid 
                  html</a>) </p>
                <p><a href="http://www.epic.org/crypto/"><img src="../../images/key.gif" width="37" height="19" alt="Golden Key Campaign" border="0"></a>&nbsp;<a href="http://www.eff.org/br/"><img src="../../images/ribbon.gif" width="18" height="30"
alt="Blue Ribbon Campaign" border="0"></a></div></td>
          </tr>
          
        </table>
      </div></TD>
  </TR>
</TABLE>
</BODY>
<!-- #EndTemplate --></HTML>
