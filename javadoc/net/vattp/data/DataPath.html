<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN""http://www.w3.org/TR/REC-html40/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Wed Jul 02 22:16:08 PDT 2003 -->
<TITLE>
DataPath (ELib API)
</TITLE>
<META NAME="keywords" CONTENT="net.vattp.data.DataPath,DataPath class">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
</HEAD>
<SCRIPT>
function asd()
{
parent.document.title="DataPath (ELib API)";
}
</SCRIPT>
<BODY BGCOLOR="#FFEEDD" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"
><A NAME="navbar_top"
><A NAME="navbar_top"
><!-- --></A></A></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"
><A NAME="navbar_top_firstrow"
><A NAME="navbar_top_firstrow"
><!-- --></A></A></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"
><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"
><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"
><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"
><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"
><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"
><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../elib/legacy/api-legend.html"
><FONT CLASS="NavBarFont1"
><B><font color="#009000"><i>Legend</i></font></B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href="../../../../index.html"  target="_top"><img src="../../../../images/e-lambda.gif" border="0"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/vattp/data/DataCommThunk.html"
><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/vattp/data/Decrypt3DES.html"
><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"
><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DataPath.html" TARGET="_top"
><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary"
>METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail"
>METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.vattp.data</FONT>
<BR>
Class DataPath</H2>
<PRE>
<A HREF="../../../java/lang/Object.html"
>java.lang.Object</A>
  |
  +--<B>net.vattp.data.DataPath</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>, <A HREF="../../../org/erights/e/extern/timer/TickReactor.html"
>TickReactor</A></DD>
</DL>
<HR>
<DL>
<DT> class <B>DataPath</B><DT>extends <A HREF="../../../java/lang/Object.html"
>Object</A><DT>implements <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>, <A HREF="../../../org/erights/e/extern/timer/TickReactor.html"
>TickReactor</A></DL>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"
><A NAME="field_summary"
><A NAME="field_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#bytesReceived"
>bytesReceived</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The total bytes of messages received over this DataPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#bytesSent"
>bytesSent</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The total bytes of messages sent over this DataPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#lastNetActivity"
>lastNetActivity</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The time we last received a part of an inbound message or sent
 a part of an outbound message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#maxReceivedMessageSize"
>maxReceivedMessageSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The size of the largest message received over this DataPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#maxSentMessageSize"
>maxSentMessageSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The size of the largest message sent over this DataPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#messagesReceived"
>messagesReceived</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The total number of messages received over this DataPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#messagesSent"
>messagesSent</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The total number of messages sent over this DataPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../org/erights/e/extern/timer/Clock.html"
>Clock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myClock"
>myClock</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The Clock object we are using to timeout messages</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myConnMgr"
>myConnMgr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The VatTPMgr we report the remote identity to for an
 incoming connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myDataConnection"
>myDataConnection</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The VatTPConnection we report status changes to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../org/erights/e/elib/util/ConditionLock.html"
>ConditionLock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myEmbargoLock"
>myEmbargoLock</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for debugging purposes</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/security/KeyPair.html"
>KeyPair</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myIdentityKeys"
>myIdentityKeys</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The key pair which defines the identity of this vat</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myIsIncoming"
>myIsIncoming</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Whether we are initiating the connection or responding to a remotely
 initiated connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myLocalFlattenedSearchPath"
>myLocalFlattenedSearchPath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The semicolon separated search path for this vat</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myLocalNetAddr"
>myLocalNetAddr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The InetAddress of the local end, or null if no connection has been
     made</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myLocalVatID"
>myLocalVatID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The local vatID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myMsgHandlers"
>myMsgHandlers</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array of MsgHandlers indexed by message type</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/AuthSecrets.html"
>AuthSecrets</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myProtocolParms"
>myProtocolParms</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Values for autherization parameters and protocol versions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/RecvThread.html"
>RecvThread</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myRecvThread"
>myRecvThread</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The RecvThread receiving messages for this VatTPConnection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myRemoteAddr"
>myRemoteAddr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The location the current Send/Recv Threads are (to) (have been) speaking
     to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myRemoteNetAddr"
>myRemoteNetAddr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The InetAddress of the remote end, or null if no connection has been
     made</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myRemotePortNumber"
>myRemotePortNumber</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The port number we are trying to connect to, or 0 for an inbound
 DataPath.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myRemoteVatID"
>myRemoteVatID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The VatID of the other end of the connectiion.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#mySavedFlattenedSearchPath"
>mySavedFlattenedSearchPath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The search path the other end provided on an incoming connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/SendThread.html"
>SendThread</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#mySendThread"
>mySendThread</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The SendThread we use for output.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/StartUpProtocol.html"
>StartUpProtocol</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myStartUpProtocol"
>myStartUpProtocol</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;While connecting, the StartUpProtocol object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myVat"
>myVat</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The Vat to have the SendThread and RecvThread synchronize on
 when calling methods in this object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../org/erights/e/elib/vat/SynchQueue.html"
>SynchQueue</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#myWriter"
>myWriter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SynchQueue for queueing outbound messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#thePingMsg"
>thePingMsg</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The ping message to send when a when no messages have been
 received within .</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#thePongMsg"
>thePongMsg</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The pong message to send when a ping message is received.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;<A HREF="../../../java/lang/Object.html"
>Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#theShutDownToken"
>theShutDownToken</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enqueued to effectively close the SynchQueue</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#timePingSent"
>timePingSent</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The time we last sent a ping, or zero if we have received a
 message which canceled the ping timeout.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"
><A NAME="constructor_summary"
><A NAME="constructor_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private)</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#DataPath(net.vattp.data.VatTPMgr,java.net.Socket,java.security.KeyPair,java.lang.String,org.erights.e.elib.vat.Vat,java.lang.String,net.vattp.data.VatLocationLookup)"
>DataPath</A></B>(<A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A>&nbsp;connMgr,
         <A HREF="../../../java/net/Socket.html"
>Socket</A>&nbsp;tcpConnection,
         <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
         <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath,
         <A HREF="../../../net/vattp/data/VatLocationLookup.html"
>VatLocationLookup</A>&nbsp;vls)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make a new DataPath for an incoming connection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private)</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#DataPath(net.vattp.data.VatTPMgr,net.vattp.data.VatTPConnection,java.lang.String,java.lang.String,java.util.Hashtable,java.security.KeyPair,java.lang.String,org.erights.e.elib.vat.Vat,byte[],net.vattp.data.AuthSecrets,java.lang.String)"
>DataPath</A></B>(<A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A>&nbsp;connMgr,
         <A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;connection,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteAddr,
         <A HREF="../../../java/util/Hashtable.html"
>Hashtable</A>&nbsp;addressesTried,
         <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
         <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat,
         byte[]&nbsp;outgoingSuspendID,
         <A HREF="../../../net/vattp/data/AuthSecrets.html"
>AuthSecrets</A>&nbsp;protocolParms,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make a new DataPath</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"
><A NAME="method_summary"
><A NAME="method_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#acceptReceiver(net.vattp.data.RecvThread,net.vattp.data.NetAddr,net.vattp.data.NetAddr)"
>acceptReceiver</A></B>(<A HREF="../../../net/vattp/data/RecvThread.html"
>RecvThread</A>&nbsp;receiver,
               <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A>&nbsp;remoteNetAddr,
               <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A>&nbsp;localNetAddr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Accept the RecvThread from the SendThread when it has been created.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#cantResume(java.lang.String)"
>cantResume</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;reason)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle the case where the resume ID's don't match.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../org/erights/e/elib/vat/SynchQueue.html"
>SynchQueue</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#commonConstructionSetup(java.security.KeyPair,java.lang.String,byte[],org.erights.e.elib.vat.Vat,java.lang.String,net.vattp.data.VatLocationLookup)"
>commonConstructionSetup</A></B>(<A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
                        <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                        byte[]&nbsp;suspendID,
                        <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat,
                        <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath,
                        <A HREF="../../../net/vattp/data/VatLocationLookup.html"
>VatLocationLookup</A>&nbsp;vls)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do the common setup operations for the two constructor methods.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#connectConnection(net.vattp.data.VatTPConnection,net.vattp.data.AuthSecrets)"
>connectConnection</A></B>(<A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;connection,
                  <A HREF="../../../net/vattp/data/AuthSecrets.html"
>AuthSecrets</A>&nbsp;protocolParms)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connect this DataPath to a VatTPConnection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#connectionDead(net.vattp.data.VatTPConnection,java.lang.Throwable)"
>connectionDead</A></B>(<A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;connection,
               <A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive notification that the connection is dead.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#connectToSelf()"
>connectToSelf</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notify the connectToVatAt caller that he has tried to connect to self</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#duplicatePath(java.lang.String,boolean)"
>duplicatePath</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;reason,
              boolean&nbsp;isIdentified)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Duplicate crossed connection DataPath exiting.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#enqueue(java.lang.Object)"
>enqueue</A></B>(<A HREF="../../../java/lang/Object.html"
>Object</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enqueue a message for output.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#extendSearchPath(org.erights.e.elib.tables.ConstList)"
>extendSearchPath</A></B>(<A HREF="../../../org/erights/e/elib/tables/ConstList.html"
>ConstList</A>&nbsp;addresses)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add an address to the list of addresses to try.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../org/erights/e/elib/util/ConditionLock.html"
>ConditionLock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#getEmbargoLock()"
>getEmbargoLock</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#getRemoteAddress()"
>getRemoteAddress</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the remote address we are connected to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#getStartupState()"
>getStartupState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the startup state of this DataPath.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#identifyIncoming(java.lang.String,java.lang.String,java.lang.String)"
>identifyIncoming</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                 <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                 <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteSearchPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Identify the remote vat's vatID for an incoming connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../java/lang/Object.html"
>Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#identifyOutgoing(java.lang.String,java.lang.String,java.lang.String)"
>identifyOutgoing</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                 <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                 <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteFlattenedSearchPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Identify the remote vat's vatID for an outgoing "to WHOEVER"
 connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#isChoiceIncoming()"
>isChoiceIncoming</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decide whether to keep incoming connection or outgoing when other end
 asks us to chose on an outgoing connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#newIncomingMsg(byte[])"
>newIncomingMsg</A></B>(byte[]&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle a new incoming message from the remote end.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#noticeProblem(java.lang.Throwable)"
>noticeProblem</A></B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;problem)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notice problem on the connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#processMessage(byte[],net.vattp.data.VatTPConnection)"
>processMessage</A></B>(byte[]&nbsp;message,
               <A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process an incoming message from the VatTPConnection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#recordSendProgress()"
>recordSendProgress</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Record that sending data has made progress for ping/pong logic.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#registerMsgHandler(int,net.vattp.data.MsgHandler)"
>registerMsgHandler</A></B>(int&nbsp;msgType,
                   <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>&nbsp;handler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Register a MsgHandler for a particular message type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#resumeConnection(byte[])"
>resumeConnection</A></B>(byte[]&nbsp;suspendID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if a connection should be resumed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#run(long)"
>run</A></B>(long&nbsp;tick)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by Clocks on their targets after each tick.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#sendFinished(int,int,net.vattp.data.StreamMessage)"
>sendFinished</A></B>(int&nbsp;count,
             int&nbsp;length,
             <A HREF="../../../net/vattp/data/StreamMessage.html"
>StreamMessage</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sendFinished called when a message has been completely passed to TCP</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#setAuthorizationSecrets(byte[],byte[],byte[])"
>setAuthorizationSecrets</A></B>(byte[]&nbsp;dhSecret,
                        byte[]&nbsp;sendSequence,
                        byte[]&nbsp;recvSequence)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the initial sequences to be used with a connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#shutDownFinished(byte[],java.lang.Throwable)"
>shutDownFinished</A></B>(byte[]&nbsp;sendSequence,
                 <A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shutDownFinished called when all queued messages have been sent and
 the socket closed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#shutDownPath()"
>shutDownPath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Causes a shutdown of the path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#startupSuccessful(java.lang.String,java.lang.String)"
>startupSuccessful</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;eMsgProtocolVersion,
                  <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocolSuite)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by StartUpProtocol when a connection to a remote vat has
 been successfully made.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#stopStartUpProtocol()"
>stopStartUpProtocol</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stop the start up protocol on this DataPath.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#toString()"
>toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Describe this path object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#tryNext(java.lang.String)"
>tryNext</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;reason)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stop TCP to this address and try the next on on the list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/DataPath.html#unRegisterMsgHandler(int,net.vattp.data.MsgHandler)"
>unRegisterMsgHandler</A></B>(int&nbsp;msgType,
                     <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>&nbsp;handler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the registration for a handler for a particular message type.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"
><A NAME="methods_inherited_from_class_java.lang.Object"
><A NAME="methods_inherited_from_class_java.lang.Object"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.<A HREF="../../../java/lang/Object.html"
>Object</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../java/lang/Object.html#clone()"
>clone</A>, <A HREF="../../../java/lang/Object.html#equals(java.lang.Object)"
>equals</A>, <A HREF="../../../java/lang/Object.html#finalize()"
>finalize</A>, <A HREF="../../../java/lang/Object.html#getClass()"
>getClass</A>, <A HREF="../../../java/lang/Object.html#hashCode()"
>hashCode</A>, <A HREF="../../../java/lang/Object.html#notify()"
>notify</A>, <A HREF="../../../java/lang/Object.html#notifyAll()"
>notifyAll</A>, <A HREF="../../../java/lang/Object.html#wait()"
>wait</A>, <A HREF="../../../java/lang/Object.html#wait(long)"
>wait</A>, <A HREF="../../../java/lang/Object.html#wait(long,int)"
>wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"
><A NAME="field_detail"
><A NAME="field_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="theShutDownToken"
><A NAME="theShutDownToken"
><A NAME="theShutDownToken"
><!-- --></A></A></A><H3>
theShutDownToken</H3>
<PRE>
static final <A HREF="../../../java/lang/Object.html"
>Object</A> <B>theShutDownToken</B></PRE>
<DL>
<DD>enqueued to effectively close the SynchQueue
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="thePongMsg"
><A NAME="thePongMsg"
><A NAME="thePongMsg"
><!-- --></A></A></A><H3>
thePongMsg</H3>
<PRE>
private static final byte[] <B>thePongMsg</B></PRE>
<DL>
<DD>The pong message to send when a ping message is received.  It
 is constant, so we only need one of them.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="thePingMsg"
><A NAME="thePingMsg"
><A NAME="thePingMsg"
><!-- --></A></A></A><H3>
thePingMsg</H3>
<PRE>
private static final byte[] <B>thePingMsg</B></PRE>
<DL>
<DD>The ping message to send when a when no messages have been
 received within .
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myDataConnection"
><A NAME="myDataConnection"
><A NAME="myDataConnection"
><!-- --></A></A></A><H3>
myDataConnection</H3>
<PRE>
private <A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A> <B>myDataConnection</B></PRE>
<DL>
<DD>The VatTPConnection we report status changes to. It is connected late
 in the startup protocol for an incoming connection
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myConnMgr"
><A NAME="myConnMgr"
><A NAME="myConnMgr"
><!-- --></A></A></A><H3>
myConnMgr</H3>
<PRE>
private final <A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A> <B>myConnMgr</B></PRE>
<DL>
<DD>The VatTPMgr we report the remote identity to for an
 incoming connection.  Null for outgoing connections unless they are
 connectToVatAt connections.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myMsgHandlers"
><A NAME="myMsgHandlers"
><A NAME="myMsgHandlers"
><!-- --></A></A></A><H3>
myMsgHandlers</H3>
<PRE>
private <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>[] <B>myMsgHandlers</B></PRE>
<DL>
<DD>Array of MsgHandlers indexed by message type
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myWriter"
><A NAME="myWriter"
><A NAME="myWriter"
><!-- --></A></A></A><H3>
myWriter</H3>
<PRE>
private <A HREF="../../../org/erights/e/elib/vat/SynchQueue.html"
>SynchQueue</A> <B>myWriter</B></PRE>
<DL>
<DD>SynchQueue for queueing outbound messages.  This is initialized
 during construction, and set to null in shutDownPath.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myRecvThread"
><A NAME="myRecvThread"
><A NAME="myRecvThread"
><!-- --></A></A></A><H3>
myRecvThread</H3>
<PRE>
private <A HREF="../../../net/vattp/data/RecvThread.html"
>RecvThread</A> <B>myRecvThread</B></PRE>
<DL>
<DD>The RecvThread receiving messages for this VatTPConnection
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mySendThread"
><A NAME="mySendThread"
><A NAME="mySendThread"
><!-- --></A></A></A><H3>
mySendThread</H3>
<PRE>
private final <A HREF="../../../net/vattp/data/SendThread.html"
>SendThread</A> <B>mySendThread</B></PRE>
<DL>
<DD>The SendThread we use for output.  We keep this reference
 so we can do a mySendThread.stop() if the ping timeout pops.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="lastNetActivity"
><A NAME="lastNetActivity"
><A NAME="lastNetActivity"
><!-- --></A></A></A><H3>
lastNetActivity</H3>
<PRE>
private long <B>lastNetActivity</B></PRE>
<DL>
<DD>The time we last received a part of an inbound message or sent
 a part of an outbound message.  Used to ensure
 that the connection is still connected, timeout the start up
 protocol etc.  Initialized to object creation time to avoid
 invalid timeouts.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="timePingSent"
><A NAME="timePingSent"
><A NAME="timePingSent"
><!-- --></A></A></A><H3>
timePingSent</H3>
<PRE>
private long <B>timePingSent</B></PRE>
<DL>
<DD>The time we last sent a ping, or zero if we have received a
 message which canceled the ping timeout.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myClock"
><A NAME="myClock"
><A NAME="myClock"
><!-- --></A></A></A><H3>
myClock</H3>
<PRE>
private <A HREF="../../../org/erights/e/extern/timer/Clock.html"
>Clock</A> <B>myClock</B></PRE>
<DL>
<DD>The Clock object we are using to timeout messages
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myRemoteAddr"
><A NAME="myRemoteAddr"
><A NAME="myRemoteAddr"
><!-- --></A></A></A><H3>
myRemoteAddr</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>myRemoteAddr</B></PRE>
<DL>
<DD>The location the current Send/Recv Threads are (to) (have been) speaking
     to.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myRemoteNetAddr"
><A NAME="myRemoteNetAddr"
><A NAME="myRemoteNetAddr"
><!-- --></A></A></A><H3>
myRemoteNetAddr</H3>
<PRE>
private <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A> <B>myRemoteNetAddr</B></PRE>
<DL>
<DD>The InetAddress of the remote end, or null if no connection has been
     made
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myLocalNetAddr"
><A NAME="myLocalNetAddr"
><A NAME="myLocalNetAddr"
><!-- --></A></A></A><H3>
myLocalNetAddr</H3>
<PRE>
private <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A> <B>myLocalNetAddr</B></PRE>
<DL>
<DD>The InetAddress of the local end, or null if no connection has been
     made
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myRemotePortNumber"
><A NAME="myRemotePortNumber"
><A NAME="myRemotePortNumber"
><!-- --></A></A></A><H3>
myRemotePortNumber</H3>
<PRE>
private int <B>myRemotePortNumber</B></PRE>
<DL>
<DD>The port number we are trying to connect to, or 0 for an inbound
 DataPath.  This port will be used to modify the search path after a
 successful connection, so when the connection is resumed, the first
 address tried will be the IP:port we successfully connected to.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myRemoteVatID"
><A NAME="myRemoteVatID"
><A NAME="myRemoteVatID"
><!-- --></A></A></A><H3>
myRemoteVatID</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>myRemoteVatID</B></PRE>
<DL>
<DD>The VatID of the other end of the connectiion. May be null.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myVat"
><A NAME="myVat"
><A NAME="myVat"
><!-- --></A></A></A><H3>
myVat</H3>
<PRE>
private <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A> <B>myVat</B></PRE>
<DL>
<DD>The Vat to have the SendThread and RecvThread synchronize on
 when calling methods in this object.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myIdentityKeys"
><A NAME="myIdentityKeys"
><A NAME="myIdentityKeys"
><!-- --></A></A></A><H3>
myIdentityKeys</H3>
<PRE>
private <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A> <B>myIdentityKeys</B></PRE>
<DL>
<DD>The key pair which defines the identity of this vat
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myLocalVatID"
><A NAME="myLocalVatID"
><A NAME="myLocalVatID"
><!-- --></A></A></A><H3>
myLocalVatID</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>myLocalVatID</B></PRE>
<DL>
<DD>The local vatID.  The hash of the local vat's public key
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myLocalFlattenedSearchPath"
><A NAME="myLocalFlattenedSearchPath"
><A NAME="myLocalFlattenedSearchPath"
><!-- --></A></A></A><H3>
myLocalFlattenedSearchPath</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>myLocalFlattenedSearchPath</B></PRE>
<DL>
<DD>The semicolon separated search path for this vat
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mySavedFlattenedSearchPath"
><A NAME="mySavedFlattenedSearchPath"
><A NAME="mySavedFlattenedSearchPath"
><!-- --></A></A></A><H3>
mySavedFlattenedSearchPath</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>mySavedFlattenedSearchPath</B></PRE>
<DL>
<DD>The search path the other end provided on an incoming connection.
 We save this and give it to the VatTPConnection at the end of the
 startup protocol so we have a search path to use to resume the
 connection after it has been suspended.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myStartUpProtocol"
><A NAME="myStartUpProtocol"
><A NAME="myStartUpProtocol"
><!-- --></A></A></A><H3>
myStartUpProtocol</H3>
<PRE>
private <A HREF="../../../net/vattp/data/StartUpProtocol.html"
>StartUpProtocol</A> <B>myStartUpProtocol</B></PRE>
<DL>
<DD>While connecting, the StartUpProtocol object.  Otherwise null
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myIsIncoming"
><A NAME="myIsIncoming"
><A NAME="myIsIncoming"
><!-- --></A></A></A><H3>
myIsIncoming</H3>
<PRE>
private final boolean <B>myIsIncoming</B></PRE>
<DL>
<DD>Whether we are initiating the connection or responding to a remotely
 initiated connection.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myProtocolParms"
><A NAME="myProtocolParms"
><A NAME="myProtocolParms"
><!-- --></A></A></A><H3>
myProtocolParms</H3>
<PRE>
private <A HREF="../../../net/vattp/data/AuthSecrets.html"
>AuthSecrets</A> <B>myProtocolParms</B></PRE>
<DL>
<DD>Values for autherization parameters and protocol versions
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="bytesReceived"
><A NAME="bytesReceived"
><A NAME="bytesReceived"
><!-- --></A></A></A><H3>
bytesReceived</H3>
<PRE>
private long <B>bytesReceived</B></PRE>
<DL>
<DD>The total bytes of messages received over this DataPath
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="messagesReceived"
><A NAME="messagesReceived"
><A NAME="messagesReceived"
><!-- --></A></A></A><H3>
messagesReceived</H3>
<PRE>
private long <B>messagesReceived</B></PRE>
<DL>
<DD>The total number of messages received over this DataPath
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="maxReceivedMessageSize"
><A NAME="maxReceivedMessageSize"
><A NAME="maxReceivedMessageSize"
><!-- --></A></A></A><H3>
maxReceivedMessageSize</H3>
<PRE>
private int <B>maxReceivedMessageSize</B></PRE>
<DL>
<DD>The size of the largest message received over this DataPath
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="bytesSent"
><A NAME="bytesSent"
><A NAME="bytesSent"
><!-- --></A></A></A><H3>
bytesSent</H3>
<PRE>
private long <B>bytesSent</B></PRE>
<DL>
<DD>The total bytes of messages sent over this DataPath
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="messagesSent"
><A NAME="messagesSent"
><A NAME="messagesSent"
><!-- --></A></A></A><H3>
messagesSent</H3>
<PRE>
private long <B>messagesSent</B></PRE>
<DL>
<DD>The total number of messages sent over this DataPath
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="maxSentMessageSize"
><A NAME="maxSentMessageSize"
><A NAME="maxSentMessageSize"
><!-- --></A></A></A><H3>
maxSentMessageSize</H3>
<PRE>
private int <B>maxSentMessageSize</B></PRE>
<DL>
<DD>The size of the largest message sent over this DataPath
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myEmbargoLock"
><A NAME="myEmbargoLock"
><A NAME="myEmbargoLock"
><!-- --></A></A></A><H3>
myEmbargoLock</H3>
<PRE>
private final <A HREF="../../../org/erights/e/elib/util/ConditionLock.html"
>ConditionLock</A> <B>myEmbargoLock</B></PRE>
<DL>
<DD>for debugging purposes
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"
><A NAME="constructor_detail"
><A NAME="constructor_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="DataPath(net.vattp.data.VatTPMgr,java.net.Socket,java.security.KeyPair,java.lang.String,org.erights.e.elib.vat.Vat,java.lang.String,net.vattp.data.VatLocationLookup)"
><A NAME="DataPath(net.vattp.data.VatTPMgr,%20java.net.Socket,%20java.security.KeyPair,%20java.lang.String,%20org.erights.e.elib.vat.Vat,%20java.lang.String,%20net.vattp.data.VatLocationLookup)"
><A NAME="DataPath(net.vattp.data.VatTPMgr, java.net.Socket, java.security.KeyPair, java.lang.String, org.erights.e.elib.vat.Vat, java.lang.String, net.vattp.data.VatLocationLookup)"
><!-- --></A></A></A><H3>
DataPath</H3>
<PRE>
<B>DataPath</B>(<A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A>&nbsp;connMgr,
         <A HREF="../../../java/net/Socket.html"
>Socket</A>&nbsp;tcpConnection,
         <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
         <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath,
         <A HREF="../../../net/vattp/data/VatLocationLookup.html"
>VatLocationLookup</A>&nbsp;vls)</PRE>
<DL>
<DD>Make a new DataPath for an incoming connection
<P>
<DT><B>Parameters:</B><DD><CODE>connMgr</CODE> - The VatTPMgr to notify of status changes.<DD><CODE>tcpConnection</CODE> - The Socket to the TCP connection.<DD><CODE>identityKeys</CODE> - is the KeyPair which defines the identity of this
 vat.<DD><CODE>vat</CODE> - is the Vat whose thread we use to synchronize
 calls into the DataPath object from the SendThread and ReceiveThread<DD><CODE>localFlattenedSearchPath</CODE> - Is the search path we publish for
 references to us, flattened into a string.</DL>
<HR>

<A NAME="DataPath(net.vattp.data.VatTPMgr,net.vattp.data.VatTPConnection,java.lang.String,java.lang.String,java.util.Hashtable,java.security.KeyPair,java.lang.String,org.erights.e.elib.vat.Vat,byte[],net.vattp.data.AuthSecrets,java.lang.String)"
><A NAME="DataPath(net.vattp.data.VatTPMgr,%20net.vattp.data.VatTPConnection,%20java.lang.String,%20java.lang.String,%20java.util.Hashtable,%20java.security.KeyPair,%20java.lang.String,%20org.erights.e.elib.vat.Vat,%20byte[],%20net.vattp.data.AuthSecrets,%20java.lang.String)"
><A NAME="DataPath(net.vattp.data.VatTPMgr, net.vattp.data.VatTPConnection, java.lang.String, java.lang.String, java.util.Hashtable, java.security.KeyPair, java.lang.String, org.erights.e.elib.vat.Vat, byte[], net.vattp.data.AuthSecrets, java.lang.String)"
><!-- --></A></A></A><H3>
DataPath</H3>
<PRE>
<B>DataPath</B>(<A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A>&nbsp;connMgr,
         <A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;connection,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteAddr,
         <A HREF="../../../java/util/Hashtable.html"
>Hashtable</A>&nbsp;addressesTried,
         <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
         <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat,
         byte[]&nbsp;outgoingSuspendID,
         <A HREF="../../../net/vattp/data/AuthSecrets.html"
>AuthSecrets</A>&nbsp;protocolParms,
         <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath)</PRE>
<DL>
<DD>Make a new DataPath
<P>
<DT><B>Parameters:</B><DD><CODE>connMgr</CODE> - is the VatTPMgr if this DataPath is supporting
 a "connectToVatAt" operation.  Otherwise it is null.<DD><CODE>connection</CODE> - The VatTPConnection to notify of status
 changes.<DD><CODE>remoteVatID</CODE> - the vatID of the remote vat<DD><CODE>remoteAddr</CODE> - is the dotted IP address or DNS name and port number
 of the place to try for the remote vat.<DD><CODE>addressesTried</CODE> - is a Hashtable of the InetAddresses already
              tried to locate the vat which failed due to host,
              rather than port related problems, and are not to be
              tried again.<DD><CODE>identityKeys</CODE> - is the KeyPair which defines the identity of this
 vat.<DD><CODE>vat</CODE> - is the Vat whose thread we use to synchronize
 calls into the DataPath object from the SendThread and ReceiveThread<DD><CODE>outgoingSuspendID</CODE> - Is the Suspend ID we are to send to the
 remote vat for resuming a connection, or null for a new connection.<DD><CODE>protocolParms</CODE> - is the AuthSecrets object which has the resume
 state for protocol versions an protocol parameters for resuming a
 connection, or null for a new connection.<DD><CODE>localFlattenedSearchPath</CODE> - Is the search path we publish for
 references to us, flattened into a string.</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"
><A NAME="method_detail"
><A NAME="method_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getEmbargoLock()"
><A NAME="getEmbargoLock()"
><A NAME="getEmbargoLock()"
><!-- --></A></A></A><H3>
getEmbargoLock</H3>
<PRE>
<A HREF="../../../org/erights/e/elib/util/ConditionLock.html"
>ConditionLock</A> <B>getEmbargoLock</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="acceptReceiver(net.vattp.data.RecvThread,net.vattp.data.NetAddr,net.vattp.data.NetAddr)"
><A NAME="acceptReceiver(net.vattp.data.RecvThread,%20net.vattp.data.NetAddr,%20net.vattp.data.NetAddr)"
><A NAME="acceptReceiver(net.vattp.data.RecvThread, net.vattp.data.NetAddr, net.vattp.data.NetAddr)"
><!-- --></A></A></A><H3>
acceptReceiver</H3>
<PRE>
void <B>acceptReceiver</B>(<A HREF="../../../net/vattp/data/RecvThread.html"
>RecvThread</A>&nbsp;receiver,
                    <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A>&nbsp;remoteNetAddr,
                    <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A>&nbsp;localNetAddr)</PRE>
<DL>
<DD>Accept the RecvThread from the SendThread when it has been created.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>receiver</CODE> - is the RecvThread object.<DD><CODE>remoteNetAddr</CODE> - is the remote end's address.<DD><CODE>localNetAddr</CODE> - is the local end's address.</DL>
</DD>
</DL>
<HR>

<A NAME="cantResume(java.lang.String)"
><A NAME="cantResume(java.lang.String)"
><A NAME="cantResume(java.lang.String)"
><!-- --></A></A></A><H3>
cantResume</H3>
<PRE>
void <B>cantResume</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;reason)</PRE>
<DL>
<DD>Handle the case where the resume ID's don't match.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reason</CODE> - The reason for abandoning the attempt.</DL>
</DD>
</DL>
<HR>

<A NAME="commonConstructionSetup(java.security.KeyPair,java.lang.String,byte[],org.erights.e.elib.vat.Vat,java.lang.String,net.vattp.data.VatLocationLookup)"
><A NAME="commonConstructionSetup(java.security.KeyPair,%20java.lang.String,%20byte[],%20org.erights.e.elib.vat.Vat,%20java.lang.String,%20net.vattp.data.VatLocationLookup)"
><A NAME="commonConstructionSetup(java.security.KeyPair, java.lang.String, byte[], org.erights.e.elib.vat.Vat, java.lang.String, net.vattp.data.VatLocationLookup)"
><!-- --></A></A></A><H3>
commonConstructionSetup</H3>
<PRE>
private <A HREF="../../../org/erights/e/elib/vat/SynchQueue.html"
>SynchQueue</A> <B>commonConstructionSetup</B>(<A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
                                           <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                                           byte[]&nbsp;suspendID,
                                           <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat,
                                           <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath,
                                           <A HREF="../../../net/vattp/data/VatLocationLookup.html"
>VatLocationLookup</A>&nbsp;vls)</PRE>
<DL>
<DD>Do the common setup operations for the two constructor methods.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>identityKeys</CODE> - is the public/private key pair that define this vat.<DD><CODE>localVatID</CODE> - is the vatID of this vat.<DD><CODE>suspendID</CODE> - is the suspend ID to send during the startup protocol,
          or null if this is an incoming connection or a new connection.<DD><CODE>vat</CODE> - is the Vat to synchronize on when other
                   threads call methods which are "in vat".<DD><CODE>localFlattenedSearchPath</CODE> - is the search path for this vat as a
          String, the elements separated by semicolons.<DD><CODE>vls</CODE> - is the object which gives VLS look functionality, or null
          if this vat doesn't support that functionality or if this
          is an outgoing connection.
<DT><B>Returns:</B><DD>is the SynchQueue object for reading the output queue.</DL>
</DD>
</DL>
<HR>

<A NAME="connectConnection(net.vattp.data.VatTPConnection,net.vattp.data.AuthSecrets)"
><A NAME="connectConnection(net.vattp.data.VatTPConnection,%20net.vattp.data.AuthSecrets)"
><A NAME="connectConnection(net.vattp.data.VatTPConnection, net.vattp.data.AuthSecrets)"
><!-- --></A></A></A><H3>
connectConnection</H3>
<PRE>
<A HREF="../../../java/lang/String.html"
>String</A> <B>connectConnection</B>(<A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;connection,
                         <A HREF="../../../net/vattp/data/AuthSecrets.html"
>AuthSecrets</A>&nbsp;protocolParms)</PRE>
<DL>
<DD>Connect this DataPath to a VatTPConnection.  Used for incoming sockets
 and anonymous outgoing sockets to connect the DataPath after the
 remote end has been identified.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - is the VatTPConnection object to connect to.<DD><CODE>protocolParms</CODE> - is the protocol versions and parameters
 to use for resuming a connection, or null for none.
<DT><B>Returns:</B><DD>is the flattened search path to use to find the remote end.</DL>
</DD>
</DL>
<HR>

<A NAME="connectionDead(net.vattp.data.VatTPConnection,java.lang.Throwable)"
><A NAME="connectionDead(net.vattp.data.VatTPConnection,%20java.lang.Throwable)"
><A NAME="connectionDead(net.vattp.data.VatTPConnection, java.lang.Throwable)"
><!-- --></A></A></A><H3>
connectionDead</H3>
<PRE>
public void <B>connectionDead</B>(<A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;connection,
                           <A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</PRE>
<DL>
<DD>Receive notification that the connection is dead.  Either the connection
 has been shut down with VatTPConnection.shutDownConnection, the underlying
 TCP connection has failed, a bad MAC has been received on the connection,
 or an internal error has caused the connection to fail.
 <p>
 If an object is registered to handle more than one message type, it will
 receive one connectionDead notification for each message type for which
 it is registered.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/vattp/data/MsgHandler.html#connectionDead(net.vattp.data.VatTPConnection,java.lang.Throwable)"
>connectionDead</A></CODE> in interface <CODE><A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - The VatTPConnection object which has just died.
            For this use, it may be null.<DD><CODE>reason</CODE> - is a Throwable describing why the connection was shut down.</DL>
</DD>
</DL>
<HR>

<A NAME="connectToSelf()"
><A NAME="connectToSelf()"
><A NAME="connectToSelf()"
><!-- --></A></A></A><H3>
connectToSelf</H3>
<PRE>
void <B>connectToSelf</B>()</PRE>
<DL>
<DD>Notify the connectToVatAt caller that he has tried to connect to self
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="duplicatePath(java.lang.String,boolean)"
><A NAME="duplicatePath(java.lang.String,%20boolean)"
><A NAME="duplicatePath(java.lang.String, boolean)"
><!-- --></A></A></A><H3>
duplicatePath</H3>
<PRE>
void <B>duplicatePath</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;reason,
                   boolean&nbsp;isIdentified)</PRE>
<DL>
<DD>Duplicate crossed connection DataPath exiting.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reason</CODE> - The reason for abandoning the attempt.</DL>
</DD>
</DL>
<HR>

<A NAME="enqueue(java.lang.Object)"
><A NAME="enqueue(java.lang.Object)"
><A NAME="enqueue(java.lang.Object)"
><!-- --></A></A></A><H3>
enqueue</H3>
<PRE>
void <B>enqueue</B>(<A HREF="../../../java/lang/Object.html"
>Object</A>&nbsp;message)</PRE>
<DL>
<DD>Enqueue a message for output.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - the message to queue</DL>
</DD>
</DL>
<HR>

<A NAME="extendSearchPath(org.erights.e.elib.tables.ConstList)"
><A NAME="extendSearchPath(org.erights.e.elib.tables.ConstList)"
><A NAME="extendSearchPath(org.erights.e.elib.tables.ConstList)"
><!-- --></A></A></A><H3>
extendSearchPath</H3>
<PRE>
void <B>extendSearchPath</B>(<A HREF="../../../org/erights/e/elib/tables/ConstList.html"
>ConstList</A>&nbsp;addresses)</PRE>
<DL>
<DD>Add an address to the list of addresses to try.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>addresses</CODE> - An array of Strings of the addresses to add.</DL>
</DD>
</DL>
<HR>

<A NAME="getRemoteAddress()"
><A NAME="getRemoteAddress()"
><A NAME="getRemoteAddress()"
><!-- --></A></A></A><H3>
getRemoteAddress</H3>
<PRE>
<A HREF="../../../java/lang/String.html"
>String</A> <B>getRemoteAddress</B>()</PRE>
<DL>
<DD>Return the remote address we are connected to.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getStartupState()"
><A NAME="getStartupState()"
><A NAME="getStartupState()"
><!-- --></A></A></A><H3>
getStartupState</H3>
<PRE>
int <B>getStartupState</B>()</PRE>
<DL>
<DD>Get the startup state of this DataPath.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the current state of this DataPath</DL>
</DD>
</DL>
<HR>

<A NAME="identifyIncoming(java.lang.String,java.lang.String,java.lang.String)"
><A NAME="identifyIncoming(java.lang.String,%20java.lang.String,%20java.lang.String)"
><A NAME="identifyIncoming(java.lang.String, java.lang.String, java.lang.String)"
><!-- --></A></A></A><H3>
identifyIncoming</H3>
<PRE>
int <B>identifyIncoming</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                     <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                     <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteSearchPath)
               throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Identify the remote vat's vatID for an incoming connection.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>remoteVatID</CODE> - the VatID of the remote vat.<DD><CODE>remoteSearchPath</CODE> - the search path to use to find the remote vat
        in array form.
<DT><B>Returns:</B><DD>the code received from
     VatTPMgr.newIncomingConnectionIdentified
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="identifyOutgoing(java.lang.String,java.lang.String,java.lang.String)"
><A NAME="identifyOutgoing(java.lang.String,%20java.lang.String,%20java.lang.String)"
><A NAME="identifyOutgoing(java.lang.String, java.lang.String, java.lang.String)"
><!-- --></A></A></A><H3>
identifyOutgoing</H3>
<PRE>
<A HREF="../../../java/lang/Object.html"
>Object</A> <B>identifyOutgoing</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                        <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                        <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteFlattenedSearchPath)
                  throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Identify the remote vat's vatID for an outgoing "to WHOEVER"
 connection.  Called by the StartUpProtocol.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>remoteVatID</CODE> - is the VatID of the remote vat.<DD><CODE>remoteFlattenedSearchPath</CODE> - is the search path to use to find the
        remote vat.
<DT><B>Returns:</B><DD>an object the type of which determines what to do next.  If
        the object is a String, then the startup protocol should
        terminate the connection attempt.  If the object is a byte
        array, then there is a suspended connection to the remote
        vat and the array is the suspendID.  If the object is null,
        then the connection is a new connection and the StartUpProtocol
        should proceed.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isChoiceIncoming()"
><A NAME="isChoiceIncoming()"
><A NAME="isChoiceIncoming()"
><!-- --></A></A></A><H3>
isChoiceIncoming</H3>
<PRE>
boolean <B>isChoiceIncoming</B>()</PRE>
<DL>
<DD>Decide whether to keep incoming connection or outgoing when other end
 asks us to chose on an outgoing connection.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true - Keep the incoming connection of the pair.
 <br>     false - Keep the outgoing connection of the pair.</DL>
</DD>
</DL>
<HR>

<A NAME="newIncomingMsg(byte[])"
><A NAME="newIncomingMsg(byte[])"
><A NAME="newIncomingMsg(byte[])"
><!-- --></A></A></A><H3>
newIncomingMsg</H3>
<PRE>
void <B>newIncomingMsg</B>(byte[]&nbsp;message)</PRE>
<DL>
<DD>Handle a new incoming message from the remote end.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - the incoming message as a byte array.  The first
 character is the message type as defined in class Msg.</DL>
</DD>
</DL>
<HR>

<A NAME="noticeProblem(java.lang.Throwable)"
><A NAME="noticeProblem(java.lang.Throwable)"
><A NAME="noticeProblem(java.lang.Throwable)"
><!-- --></A></A></A><H3>
noticeProblem</H3>
<PRE>
void <B>noticeProblem</B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;problem)</PRE>
<DL>
<DD>Notice problem on the connection.  This method is called by the Send and
 Recv threads when they encounter a fatal error and give up.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>problem</CODE> - The exception which describes the problem</DL>
</DD>
</DL>
<HR>

<A NAME="run(long)"
><A NAME="run(long)"
><A NAME="run(long)"
><!-- --></A></A></A><H3>
run</H3>
<PRE>
public void <B>run</B>(long&nbsp;tick)</PRE>
<DL>
<DD>Called by Clocks on their targets after each tick.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../org/erights/e/extern/timer/TickReactor.html#run(long)"
>run</A></CODE> in interface <CODE><A HREF="../../../org/erights/e/extern/timer/TickReactor.html"
>TickReactor</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tick</CODE> - is the current tick count for the Clock - ignored</DL>
</DD>
</DL>
<HR>

<A NAME="processMessage(byte[],net.vattp.data.VatTPConnection)"
><A NAME="processMessage(byte[],%20net.vattp.data.VatTPConnection)"
><A NAME="processMessage(byte[], net.vattp.data.VatTPConnection)"
><!-- --></A></A></A><H3>
processMessage</H3>
<PRE>
public void <B>processMessage</B>(byte[]&nbsp;message,
                           <A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;connection)</PRE>
<DL>
<DD>Process an incoming message from the VatTPConnection.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/vattp/data/MsgHandler.html#processMessage(byte[],net.vattp.data.VatTPConnection)"
>processMessage</A></CODE> in interface <CODE><A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - is the incoming message.  The first byte (message[0])
 is the message type (see class Msg).  A handler which is registered
 for more than one message can use the initial byte to determine what
 is the message type of the current message.<DD><CODE>connection</CODE> - is the VatTPConnection object on which the the message
 arrived.  For this use, it may be null.<DT><B>See Also:</B><DD><A HREF="../../../net/vattp/data/Msg.html"
><CODE>Msg</CODE></A>, 
<A HREF="../../../net/vattp/data/VatTPConnection.html"
><CODE>VatTPConnection</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="recordSendProgress()"
><A NAME="recordSendProgress()"
><A NAME="recordSendProgress()"
><!-- --></A></A></A><H3>
recordSendProgress</H3>
<PRE>
void <B>recordSendProgress</B>()</PRE>
<DL>
<DD>Record that sending data has made progress for ping/pong logic.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="registerMsgHandler(int,net.vattp.data.MsgHandler)"
><A NAME="registerMsgHandler(int,%20net.vattp.data.MsgHandler)"
><A NAME="registerMsgHandler(int, net.vattp.data.MsgHandler)"
><!-- --></A></A></A><H3>
registerMsgHandler</H3>
<PRE>
void <B>registerMsgHandler</B>(int&nbsp;msgType,
                        <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>&nbsp;handler)
                  throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Register a MsgHandler for a particular message type.  It will be called
 whenever a new message of the specified type arrives.  It will also
 be called when the connection dies.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msgType</CODE> - is the message type. It must be chosen from the types
 defined in the definition class Msg.  It is an error to register more
 than one handler for a message type.
 It is a fatal error if the msgType is out of range.
 It is a fatal error to register a handler after the
 reactToNewConnection method of the object registered with the
 VatTPMgr has returned.<DD><CODE>handler</CODE> - is an object which implements the MsgHandler interface.
 It will be called with processMessage when a message
 of msgType is received from the remote vat.  It will be called with
 connectionDead when this connection dies.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if
 there is already a handler registered for this message type.<DT><B>See Also:</B><DD><A HREF="../../../net/vattp/data/Msg.html"
><CODE>Msg</CODE></A>, 
<A HREF="../../../net/vattp/data/MsgHandler.html"
><CODE>MsgHandler</CODE></A>, 
<A HREF="../../../net/vattp/data/VatTPMgr.html"
><CODE>VatTPMgr</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="resumeConnection(byte[])"
><A NAME="resumeConnection(byte[])"
><A NAME="resumeConnection(byte[])"
><!-- --></A></A></A><H3>
resumeConnection</H3>
<PRE>
boolean <B>resumeConnection</B>(byte[]&nbsp;suspendID)</PRE>
<DL>
<DD>Check if a connection should be resumed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>suspendID</CODE> - The secret that the other side must know to resume a
 connection or null if this is a new connection.
<DT><B>Returns:</B><DD>true if the connection should be completed.
      <p>false if the connection should be abandoned.</DL>
</DD>
</DL>
<HR>

<A NAME="sendFinished(int,int,net.vattp.data.StreamMessage)"
><A NAME="sendFinished(int,%20int,%20net.vattp.data.StreamMessage)"
><A NAME="sendFinished(int, int, net.vattp.data.StreamMessage)"
><!-- --></A></A></A><H3>
sendFinished</H3>
<PRE>
void <B>sendFinished</B>(int&nbsp;count,
                  int&nbsp;length,
                  <A HREF="../../../net/vattp/data/StreamMessage.html"
>StreamMessage</A>&nbsp;msg)</PRE>
<DL>
<DD>sendFinished called when a message has been completely passed to TCP
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>length</CODE> - The size of the message passed to TCP.</DL>
</DD>
</DL>
<HR>

<A NAME="setAuthorizationSecrets(byte[],byte[],byte[])"
><A NAME="setAuthorizationSecrets(byte[],%20byte[],%20byte[])"
><A NAME="setAuthorizationSecrets(byte[], byte[], byte[])"
><!-- --></A></A></A><H3>
setAuthorizationSecrets</H3>
<PRE>
void <B>setAuthorizationSecrets</B>(byte[]&nbsp;dhSecret,
                             byte[]&nbsp;sendSequence,
                             byte[]&nbsp;recvSequence)</PRE>
<DL>
<DD>Set the initial sequences to be used with a connection.  Called by
 StartUpProtocol when they are calculated.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dhSecret</CODE> - is the Diffie Hellman shared secret.<DD><CODE>sendSequence</CODE> - is the first sequence number to be used to send
          data to the remote vat.<DD><CODE>recvSequence</CODE> - is the first sequence number to be used to
          receive data from the remote vat.</DL>
</DD>
</DL>
<HR>

<A NAME="shutDownFinished(byte[],java.lang.Throwable)"
><A NAME="shutDownFinished(byte[],%20java.lang.Throwable)"
><A NAME="shutDownFinished(byte[], java.lang.Throwable)"
><!-- --></A></A></A><H3>
shutDownFinished</H3>
<PRE>
void <B>shutDownFinished</B>(byte[]&nbsp;sendSequence,
                      <A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</PRE>
<DL>
<DD>shutDownFinished called when all queued messages have been sent and
 the socket closed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sendSequence</CODE> - is the next sequence number to use on the send
          path after resume.<DD><CODE>reason</CODE> - is a Throwable which describes why the shutdown.</DL>
</DD>
</DL>
<HR>

<A NAME="shutDownPath()"
><A NAME="shutDownPath()"
><A NAME="shutDownPath()"
><!-- --></A></A></A><H3>
shutDownPath</H3>
<PRE>
void <B>shutDownPath</B>()</PRE>
<DL>
<DD>Causes a shutdown of the path.  Any queued messages will be sent.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="startupSuccessful(java.lang.String,java.lang.String)"
><A NAME="startupSuccessful(java.lang.String,%20java.lang.String)"
><A NAME="startupSuccessful(java.lang.String, java.lang.String)"
><!-- --></A></A></A><H3>
startupSuccessful</H3>
<PRE>
void <B>startupSuccessful</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;eMsgProtocolVersion,
                       <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocolSuite)
                 throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Called by StartUpProtocol when a connection to a remote vat has
 been successfully made.  The StartUpProtocol object has unregistered
 its MsgHandlers and is ready to become garbage.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>eMsgProtocolVersion</CODE> - the version of the E message protocl
        selected.<DD><CODE>protocolSuite</CODE> - the type of authentication selected.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="stopStartUpProtocol()"
><A NAME="stopStartUpProtocol()"
><A NAME="stopStartUpProtocol()"
><!-- --></A></A></A><H3>
stopStartUpProtocol</H3>
<PRE>
void <B>stopStartUpProtocol</B>()</PRE>
<DL>
<DD>Stop the start up protocol on this DataPath.  This method is
 called by the VatTPMgr when it determines that there are
 two connections being built between this vat and another vat, and
 that this connection is the one that should be abandonded.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"
><A NAME="toString()"
><A NAME="toString()"
><!-- --></A></A></A><H3>
toString</H3>
<PRE>
public <A HREF="../../../java/lang/String.html"
>String</A> <B>toString</B>()</PRE>
<DL>
<DD>Describe this path object.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../java/lang/Object.html#toString()"
>toString</A></CODE> in class <CODE><A HREF="../../../java/lang/Object.html"
>Object</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a string representation of the object.</DL>
</DD>
</DL>
<HR>

<A NAME="tryNext(java.lang.String)"
><A NAME="tryNext(java.lang.String)"
><A NAME="tryNext(java.lang.String)"
><!-- --></A></A></A><H3>
tryNext</H3>
<PRE>
void <B>tryNext</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;reason)</PRE>
<DL>
<DD>Stop TCP to this address and try the next on on the list.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reason</CODE> - is a message describing the reason for abandoning this
          try.</DL>
</DD>
</DL>
<HR>

<A NAME="unRegisterMsgHandler(int,net.vattp.data.MsgHandler)"
><A NAME="unRegisterMsgHandler(int,%20net.vattp.data.MsgHandler)"
><A NAME="unRegisterMsgHandler(int, net.vattp.data.MsgHandler)"
><!-- --></A></A></A><H3>
unRegisterMsgHandler</H3>
<PRE>
void <B>unRegisterMsgHandler</B>(int&nbsp;msgType,
                          <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>&nbsp;handler)
                    throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Remove the registration for a handler for a particular message type.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msgType</CODE> - is the message type. It must be chosen from the types
 defined in the definition class Msg.
 It is a fatal error if the msgType is out of range.<DD><CODE>handler</CODE> - is the object currently registered as the handler.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if the handler passed is not the
 handler registered for this message type.<DT><B>See Also:</B><DD><A HREF="../../../net/vattp/data/Msg.html"
><CODE>Msg</CODE></A>, 
<A HREF="../../../net/vattp/data/MsgHandler.html"
><CODE>MsgHandler</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"
><A NAME="navbar_bottom"
><A NAME="navbar_bottom"
><!-- --></A></A></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"
><A NAME="navbar_bottom_firstrow"
><A NAME="navbar_bottom_firstrow"
><!-- --></A></A></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"
><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"
><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"
><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"
><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"
><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"
><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../elib/legacy/api-legend.html"
><FONT CLASS="NavBarFont1"
><B><font color="#009000"><i>Legend</i></font></B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href="../../../../index.html"  target="_top"><img src="../../../../images/e-lambda.gif" border="0"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/vattp/data/DataCommThunk.html"
><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/vattp/data/Decrypt3DES.html"
><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"
><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DataPath.html" TARGET="_top"
><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary"
>METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail"
>METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<center>comments? <a href=http://www.blindpay.com/crit-me-now.cgi><img src=../../../../images/cmn.gif width=98 height=21 border=0 align=middle></a></center>
</BODY>
</HTML>

