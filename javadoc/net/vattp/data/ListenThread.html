<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN""http://www.w3.org/TR/REC-html40/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Wed Jul 02 22:16:09 PDT 2003 -->
<TITLE>
ListenThread (ELib API)
</TITLE>
<META NAME="keywords" CONTENT="net.vattp.data.ListenThread,ListenThread class">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
</HEAD>
<SCRIPT>
function asd()
{
parent.document.title="ListenThread (ELib API)";
}
</SCRIPT>
<BODY BGCOLOR="#FFEEDD" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"
><A NAME="navbar_top"
><A NAME="navbar_top"
><!-- --></A></A></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"
><A NAME="navbar_top_firstrow"
><A NAME="navbar_top_firstrow"
><!-- --></A></A></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"
><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"
><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"
><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"
><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"
><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"
><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../elib/legacy/api-legend.html"
><FONT CLASS="NavBarFont1"
><B><font color="#009000"><i>Legend</i></font></B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href="../../../../index.html"  target="_top"><img src="../../../../images/e-lambda.gif" border="0"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/vattp/data/Encrypt3DES.html"
><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/vattp/data/Msg.html"
><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"
><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ListenThread.html" TARGET="_top"
><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary"
>METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail"
>METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.vattp.data</FONT>
<BR>
Class ListenThread</H2>
<PRE>
<A HREF="../../../java/lang/Object.html"
>java.lang.Object</A>
  |
  +--<A HREF="../../../java/lang/Thread.html"
>java.lang.Thread</A>
        |
        +--<B>net.vattp.data.ListenThread</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../java/lang/Runnable.html"
>Runnable</A></DD>
</DL>
<HR>
<DL>
<DT> class <B>ListenThread</B><DT>extends <A HREF="../../../java/lang/Thread.html"
>Thread</A></DL>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"
><A NAME="field_summary"
><A NAME="field_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#myConnMgr"
>myConnMgr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The VatTPMgr to report new Sockets to</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/net/ServerSocket.html"
>ServerSocket</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#myListenServerSocket"
>myListenServerSocket</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/net/InetAddress.html"
>InetAddress</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#myOptIP"
>myOptIP</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#mySuspended"
>mySuspended</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#myTerminateFlag"
>myTerminateFlag</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/UserThread.html"
>UserThread</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#myUserThread"
>myUserThread</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/Object.html"
>Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#myUserThreadLock"
>myUserThreadLock</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An object to synchronize communication with the user thread</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#myVat"
>myVat</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A vat for synchronization when calling the VatTPMgr</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_java.lang.Thread"
><A NAME="fields_inherited_from_class_java.lang.Thread"
><A NAME="fields_inherited_from_class_java.lang.Thread"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class java.lang.<A HREF="../../../java/lang/Thread.html"
>Thread</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../java/lang/Thread.html#MAX_PRIORITY"
>MAX_PRIORITY</A>, <A HREF="../../../java/lang/Thread.html#MIN_PRIORITY"
>MIN_PRIORITY</A>, <A HREF="../../../java/lang/Thread.html#NORM_PRIORITY"
>NORM_PRIORITY</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"
><A NAME="constructor_summary"
><A NAME="constructor_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private)</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#ListenThread(java.lang.String,net.vattp.data.VatTPMgr,org.erights.e.elib.vat.Vat)"
>ListenThread</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;optLocalAddr,
             <A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A>&nbsp;connMgr,
             <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a new object to run in its own thread and listen on a
 ServerSocket for new incoming connections.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"
><A NAME="method_summary"
><A NAME="method_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#callMgr(net.vattp.data.DataCommThunk)"
>callMgr</A></B>(<A HREF="../../../net/vattp/data/DataCommThunk.html"
>DataCommThunk</A>&nbsp;thunk)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Call a method in the VatTPMgr</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#listenAddress()"
>listenAddress</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The address on which this thread is listening, or null if there was a
 problem</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#noticeProblem(java.lang.Throwable)"
>noticeProblem</A></B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;t)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#run()"
>run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The actual body of the listener thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#setupNewConnection(java.net.Socket)"
>setupNewConnection</A></B>(<A HREF="../../../java/net/Socket.html"
>Socket</A>&nbsp;clientSocket)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new connection to handle the new socket.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#shutdown()"
>shutdown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shutdown the thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/ListenThread.html#startup()"
>startup</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start the listener thread.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Thread"
><A NAME="methods_inherited_from_class_java.lang.Thread"
><A NAME="methods_inherited_from_class_java.lang.Thread"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.<A HREF="../../../java/lang/Thread.html"
>Thread</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../java/lang/Thread.html#activeCount()"
>activeCount</A>, <A HREF="../../../java/lang/Thread.html#checkAccess()"
>checkAccess</A>, <A HREF="../../../java/lang/Thread.html#countStackFrames()"
>countStackFrames</A>, <A HREF="../../../java/lang/Thread.html#currentThread()"
>currentThread</A>, <A HREF="../../../java/lang/Thread.html#destroy()"
>destroy</A>, <A HREF="../../../java/lang/Thread.html#dumpStack()"
>dumpStack</A>, <A HREF="../../../java/lang/Thread.html#enumerate(java.lang.Thread[])"
>enumerate</A>, <A HREF="../../../java/lang/Thread.html#getContextClassLoader()"
>getContextClassLoader</A>, <A HREF="../../../java/lang/Thread.html#getName()"
>getName</A>, <A HREF="../../../java/lang/Thread.html#getPriority()"
>getPriority</A>, <A HREF="../../../java/lang/Thread.html#getThreadGroup()"
>getThreadGroup</A>, <A HREF="../../../java/lang/Thread.html#holdsLock(java.lang.Object)"
>holdsLock</A>, <A HREF="../../../java/lang/Thread.html#interrupt()"
>interrupt</A>, <A HREF="../../../java/lang/Thread.html#interrupted()"
>interrupted</A>, <A HREF="../../../java/lang/Thread.html#isAlive()"
>isAlive</A>, <A HREF="../../../java/lang/Thread.html#isDaemon()"
>isDaemon</A>, <A HREF="../../../java/lang/Thread.html#isInterrupted()"
>isInterrupted</A>, <A HREF="../../../java/lang/Thread.html#join()"
>join</A>, <A HREF="../../../java/lang/Thread.html#join(long)"
>join</A>, <A HREF="../../../java/lang/Thread.html#join(long,int)"
>join</A>, <A HREF="../../../java/lang/Thread.html#resume()"
>resume</A>, <A HREF="../../../java/lang/Thread.html#setContextClassLoader(java.lang.ClassLoader)"
>setContextClassLoader</A>, <A HREF="../../../java/lang/Thread.html#setDaemon(boolean)"
>setDaemon</A>, <A HREF="../../../java/lang/Thread.html#setName(java.lang.String)"
>setName</A>, <A HREF="../../../java/lang/Thread.html#setPriority(int)"
>setPriority</A>, <A HREF="../../../java/lang/Thread.html#sleep(long)"
>sleep</A>, <A HREF="../../../java/lang/Thread.html#sleep(long,int)"
>sleep</A>, <A HREF="../../../java/lang/Thread.html#start()"
>start</A>, <A HREF="../../../java/lang/Thread.html#stop()"
>stop</A>, <A HREF="../../../java/lang/Thread.html#stop(java.lang.Throwable)"
>stop</A>, <A HREF="../../../java/lang/Thread.html#suspend()"
>suspend</A>, <A HREF="../../../java/lang/Thread.html#toString()"
>toString</A>, <A HREF="../../../java/lang/Thread.html#yield()"
>yield</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"
><A NAME="methods_inherited_from_class_java.lang.Object"
><A NAME="methods_inherited_from_class_java.lang.Object"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.<A HREF="../../../java/lang/Object.html"
>Object</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../java/lang/Object.html#clone()"
>clone</A>, <A HREF="../../../java/lang/Object.html#equals(java.lang.Object)"
>equals</A>, <A HREF="../../../java/lang/Object.html#finalize()"
>finalize</A>, <A HREF="../../../java/lang/Object.html#getClass()"
>getClass</A>, <A HREF="../../../java/lang/Object.html#hashCode()"
>hashCode</A>, <A HREF="../../../java/lang/Object.html#notify()"
>notify</A>, <A HREF="../../../java/lang/Object.html#notifyAll()"
>notifyAll</A>, <A HREF="../../../java/lang/Object.html#wait()"
>wait</A>, <A HREF="../../../java/lang/Object.html#wait(long)"
>wait</A>, <A HREF="../../../java/lang/Object.html#wait(long,int)"
>wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"
><A NAME="field_detail"
><A NAME="field_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="myTerminateFlag"
><A NAME="myTerminateFlag"
><A NAME="myTerminateFlag"
><!-- --></A></A></A><H3>
myTerminateFlag</H3>
<PRE>
private boolean <B>myTerminateFlag</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myUserThread"
><A NAME="myUserThread"
><A NAME="myUserThread"
><!-- --></A></A></A><H3>
myUserThread</H3>
<PRE>
private final <A HREF="../../../net/vattp/data/UserThread.html"
>UserThread</A> <B>myUserThread</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myOptIP"
><A NAME="myOptIP"
><A NAME="myOptIP"
><!-- --></A></A></A><H3>
myOptIP</H3>
<PRE>
private <A HREF="../../../java/net/InetAddress.html"
>InetAddress</A> <B>myOptIP</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myListenServerSocket"
><A NAME="myListenServerSocket"
><A NAME="myListenServerSocket"
><!-- --></A></A></A><H3>
myListenServerSocket</H3>
<PRE>
private final <A HREF="../../../java/net/ServerSocket.html"
>ServerSocket</A> <B>myListenServerSocket</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myConnMgr"
><A NAME="myConnMgr"
><A NAME="myConnMgr"
><!-- --></A></A></A><H3>
myConnMgr</H3>
<PRE>
private <A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A> <B>myConnMgr</B></PRE>
<DL>
<DD>The VatTPMgr to report new Sockets to
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myVat"
><A NAME="myVat"
><A NAME="myVat"
><!-- --></A></A></A><H3>
myVat</H3>
<PRE>
private final <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A> <B>myVat</B></PRE>
<DL>
<DD>A vat for synchronization when calling the VatTPMgr
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myUserThreadLock"
><A NAME="myUserThreadLock"
><A NAME="myUserThreadLock"
><!-- --></A></A></A><H3>
myUserThreadLock</H3>
<PRE>
private final <A HREF="../../../java/lang/Object.html"
>Object</A> <B>myUserThreadLock</B></PRE>
<DL>
<DD>An object to synchronize communication with the user thread
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mySuspended"
><A NAME="mySuspended"
><A NAME="mySuspended"
><!-- --></A></A></A><H3>
mySuspended</H3>
<PRE>
private final boolean <B>mySuspended</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"
><A NAME="constructor_detail"
><A NAME="constructor_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="ListenThread(java.lang.String,net.vattp.data.VatTPMgr,org.erights.e.elib.vat.Vat)"
><A NAME="ListenThread(java.lang.String,%20net.vattp.data.VatTPMgr,%20org.erights.e.elib.vat.Vat)"
><A NAME="ListenThread(java.lang.String, net.vattp.data.VatTPMgr, org.erights.e.elib.vat.Vat)"
><!-- --></A></A></A><H3>
ListenThread</H3>
<PRE>
<B>ListenThread</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;optLocalAddr,
             <A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A>&nbsp;connMgr,
             <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat)
       throws <A HREF="../../../java/net/UnknownHostException.html"
>UnknownHostException</A>,
              <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Construct a new object to run in its own thread and listen on a
 ServerSocket for new incoming connections.
<P>
<DT><B>Parameters:</B><DD><CODE>optLocalAddr</CODE> - The local address we will listen on.<DD><CODE>connMgr</CODE> - the VatTPMgr to be notified about
  interesting events (new connections and errors) that happen while
  listening.</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"
><A NAME="method_detail"
><A NAME="method_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="callMgr(net.vattp.data.DataCommThunk)"
><A NAME="callMgr(net.vattp.data.DataCommThunk)"
><A NAME="callMgr(net.vattp.data.DataCommThunk)"
><!-- --></A></A></A><H3>
callMgr</H3>
<PRE>
private void <B>callMgr</B>(<A HREF="../../../net/vattp/data/DataCommThunk.html"
>DataCommThunk</A>&nbsp;thunk)</PRE>
<DL>
<DD>Call a method in the VatTPMgr
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>thunk</CODE> - a Thunk that will perform the call.  The thunk will
 be called after the Vat lock is obtained.</DL>
</DD>
</DL>
<HR>

<A NAME="noticeProblem(java.lang.Throwable)"
><A NAME="noticeProblem(java.lang.Throwable)"
><A NAME="noticeProblem(java.lang.Throwable)"
><!-- --></A></A></A><H3>
noticeProblem</H3>
<PRE>
private void <B>noticeProblem</B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;t)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="listenAddress()"
><A NAME="listenAddress()"
><A NAME="listenAddress()"
><!-- --></A></A></A><H3>
listenAddress</H3>
<PRE>
<A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A> <B>listenAddress</B>()</PRE>
<DL>
<DD>The address on which this thread is listening, or null if there was a
 problem
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="run()"
><A NAME="run()"
><A NAME="run()"
><!-- --></A></A></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>The actual body of the listener thread. <p>

 Opens a ServerSocket and accepts connections on it. Each connection
 spawns a new ByteConnection object that is handed off to the innerListener
 to be dealt with. <p>

 Loops until told to stop by somebody calling 'shutdown()' (which sets
 an internal flag).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../java/lang/Runnable.html#run()"
>run</A></CODE> in interface <CODE><A HREF="../../../java/lang/Runnable.html"
>Runnable</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../java/lang/Thread.html#run()"
>run</A></CODE> in class <CODE><A HREF="../../../java/lang/Thread.html"
>Thread</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><CODE>java.lang.Thread#start()</CODE>, 
<CODE>java.lang.Thread#stop()</CODE>, 
<CODE>java.lang.Thread#Thread(java.lang.ThreadGroup, 
          java.lang.Runnable, java.lang.String)</CODE>, 
<CODE>java.lang.Runnable#run()</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setupNewConnection(java.net.Socket)"
><A NAME="setupNewConnection(java.net.Socket)"
><A NAME="setupNewConnection(java.net.Socket)"
><!-- --></A></A></A><H3>
setupNewConnection</H3>
<PRE>
private void <B>setupNewConnection</B>(<A HREF="../../../java/net/Socket.html"
>Socket</A>&nbsp;clientSocket)</PRE>
<DL>
<DD>Create a new connection to handle the new socket.

 Tell the VatTPMgr about the new Socket.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="shutdown()"
><A NAME="shutdown()"
><A NAME="shutdown()"
><!-- --></A></A></A><H3>
shutdown</H3>
<PRE>
void <B>shutdown</B>()</PRE>
<DL>
<DD>Shutdown the thread. <p>

 The listener thread itself will die the next time it returns from
 'accept' and notices that the terminate flag is set. What is more
 likely, however, is that the process will quiesce and we will go gently
 into the night, taking the daemon listener thread away with us when we
 go. We kill the listener user thread here so that that can happen.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="startup()"
><A NAME="startup()"
><A NAME="startup()"
><!-- --></A></A></A><H3>
startup</H3>
<PRE>
void <B>startup</B>()</PRE>
<DL>
<DD>Start the listener thread.<p>

 HACK: The listener thread needs to be a daemon thread, because
 if it were a user thread it would be uninteruptible while it
 was off waiting on an accept() (this is due to a flaw in
 Solaris, actually).  However, if it's a daemon thread the app
 can exit even if the thread is still running. However, if we're
 just sitting there waiting for connections to arrive over the
 network, we don't want to exit, we want to keep running. Thus
 we have the net.vattp.data.UserThread, which does NOTHING but
 wait. Since it's a user thread it keeps the app from exiting
 (and thus allows the listener thread to keep running waiting
 for a connection) and since it's not waiting on an accept we
 can kill it. When we tell the listener thread to shutdown
 (which we now can do since it's a daemon thread), it sends a
 notify() to the listener user thread whereupon *it* shuts down
 too. Hallelujah, amen.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"
><A NAME="navbar_bottom"
><A NAME="navbar_bottom"
><!-- --></A></A></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"
><A NAME="navbar_bottom_firstrow"
><A NAME="navbar_bottom_firstrow"
><!-- --></A></A></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"
><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"
><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"
><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"
><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"
><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"
><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../elib/legacy/api-legend.html"
><FONT CLASS="NavBarFont1"
><B><font color="#009000"><i>Legend</i></font></B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href="../../../../index.html"  target="_top"><img src="../../../../images/e-lambda.gif" border="0"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/vattp/data/Encrypt3DES.html"
><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/vattp/data/Msg.html"
><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"
><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ListenThread.html" TARGET="_top"
><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary"
>METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail"
>METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<center>comments? <a href=http://www.blindpay.com/crit-me-now.cgi><img src=../../../../images/cmn.gif width=98 height=21 border=0 align=middle></a></center>
</BODY>
</HTML>

