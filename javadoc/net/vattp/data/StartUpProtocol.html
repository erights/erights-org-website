<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN""http://www.w3.org/TR/REC-html40/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Wed Jul 02 22:16:09 PDT 2003 -->
<TITLE>
StartUpProtocol (ELib API)
</TITLE>
<META NAME="keywords" CONTENT="net.vattp.data.StartUpProtocol,StartUpProtocol class">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
</HEAD>
<SCRIPT>
function asd()
{
parent.document.title="StartUpProtocol (ELib API)";
}
</SCRIPT>
<BODY BGCOLOR="#FFEEDD" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"
><A NAME="navbar_top"
><A NAME="navbar_top"
><!-- --></A></A></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"
><A NAME="navbar_top_firstrow"
><A NAME="navbar_top_firstrow"
><!-- --></A></A></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"
><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"
><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"
><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"
><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"
><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"
><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../elib/legacy/api-legend.html"
><FONT CLASS="NavBarFont1"
><B><font color="#009000"><i>Legend</i></font></B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href="../../../../index.html"  target="_top"><img src="../../../../images/e-lambda.gif" border="0"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/vattp/data/SendThread.html"
><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/vattp/data/StreamMessage.html"
><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"
><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="StartUpProtocol.html" TARGET="_top"
><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary"
>METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail"
>METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.vattp.data</FONT>
<BR>
Class StartUpProtocol</H2>
<PRE>
<A HREF="../../../java/lang/Object.html"
>java.lang.Object</A>
  |
  +--<B>net.vattp.data.StartUpProtocol</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>StartUpProtocol</B><DT>extends <A HREF="../../../java/lang/Object.html"
>Object</A><DT>implements <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A></DL>

<P>
<b><i><font color="#FF00FF">Untamed:</font></i></b>
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"
><A NAME="field_summary"
><A NAME="field_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="../../../java/lang/String.html"
>String</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#errTokNames"
>errTokNames</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="../../../java/math/BigInteger.html"
>BigInteger</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#g"
>g</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/util/Vector.html"
>Vector</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#hisMessagesToSign"
>hisMessagesToSign</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Messages I've received whose signature is to be checked as part of
 end point identification.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="../../../java/math/BigInteger.html"
>BigInteger</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#modulus"
>modulus</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myDataPath"
>myDataPath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The DataPath object we are working with.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myEMsgProtocolVersion"
>myEMsgProtocolVersion</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The agreed E message protocol version</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/security/PublicKey.html"
>PublicKey</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myHisPublicKey"
>myHisPublicKey</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The public key of the remote end</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/security/KeyPair.html"
>KeyPair</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myIdentityKeys"
>myIdentityKeys</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myIsIncoming"
>myIsIncoming</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Whether we are build for initiating an outbound connection or
 responding to a remote connection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myLocalFlattenedSearchPath"
>myLocalFlattenedSearchPath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The semicolon separated search path for this vat</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myLocalVatID"
>myLocalVatID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The vatID of this vat</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/util/Vector.html"
>Vector</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myMessagesToSign"
>myMessagesToSign</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Messages I've sent which are to be signed for as part of end point
 authentication.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myOutgoingSuspendID"
>myOutgoingSuspendID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The suspend ID to present to the other end for a reconnect.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myProtocolSuite"
>myProtocolSuite</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The agreed upon protocol suite</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myRemoteVatID"
>myRemoteVatID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The remote vatID we are communicating with</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/security/Signature.html"
>Signature</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#mySignature"
>mySignature</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The Signature object used for signing and checking signatures</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myState"
>myState</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Current state of the startup protocol state machine</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myStop"
>myStop</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set true if we should stop attempting to make a connection
     before outgoingSetup has been called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/VatLocationLookup.html"
>VatLocationLookup</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#myVLS"
>myVLS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Entity from which to lookup foreign vatIDs</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#PROTO_3DES_SDH_M"
>PROTO_3DES_SDH_M</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#PROTO_3DES_SDH_M2"
>PROTO_3DES_SDH_M2</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#PROTO_NONE"
>PROTO_NONE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#ST_DEAD"
>ST_DEAD</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#ST_EXPECT_MESSAGE"
>ST_EXPECT_MESSAGE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#ST_INCOMING_EXPECT_GIVEINFO"
>ST_INCOMING_EXPECT_GIVEINFO</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#ST_INCOMING_EXPECT_GO"
>ST_INCOMING_EXPECT_GO</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#ST_INCOMING_EXPECT_IWANT"
>ST_INCOMING_EXPECT_IWANT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#ST_OUTGOING_EXPECT_GOTOO"
>ST_OUTGOING_EXPECT_GOTOO</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#ST_OUTGOING_EXPECT_IAM"
>ST_OUTGOING_EXPECT_IAM</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#ST_OUTGOING_EXPECT_REPLYINFO"
>ST_OUTGOING_EXPECT_REPLYINFO</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#ST_TRY_NEXT"
>ST_TRY_NEXT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#ST_UNSTARTED"
>ST_UNSTARTED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TheAuthProtocols"
>TheAuthProtocols</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The protocol negotiation string we send, least desired last</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="../../../java/lang/String.html"
>String</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TheAuthProtocolTable"
>TheAuthProtocolTable</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The authentication protocols we support.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_BYE"
>TOK_BYE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_DUP"
>TOK_DUP</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_ERR_INTERNAL"
>TOK_ERR_INTERNAL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_ERR_PROTOCOL"
>TOK_ERR_PROTOCOL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_ERR_WRONG_ID"
>TOK_ERR_WRONG_ID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_GIVEINFO"
>TOK_GIVEINFO</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_GO"
>TOK_GO</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_GOTOO"
>TOK_GOTOO</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_IAM"
>TOK_IAM</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_IWANT"
>TOK_IWANT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_NOT_ME"
>TOK_NOT_ME</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_REPLYINFO"
>TOK_REPLYINFO</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_RESUME"
>TOK_RESUME</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_TRY"
>TOK_TRY</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#TOK_YOUCHOSE"
>TOK_YOUCHOSE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="../../../java/lang/String.html"
>String</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#tokNames"
>tokNames</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/math/BigInteger.html"
>BigInteger</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#x"
>x</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"
><A NAME="constructor_summary"
><A NAME="constructor_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private)</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#StartUpProtocol(net.vattp.data.DataPath,boolean,java.lang.String,java.security.KeyPair,java.lang.String,byte[],java.lang.String,net.vattp.data.VatLocationLookup)"
>StartUpProtocol</A></B>(<A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;path,
                boolean&nbsp;isIncoming,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                byte[]&nbsp;outgoingSuspendID,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath,
                <A HREF="../../../net/vattp/data/VatLocationLookup.html"
>VatLocationLookup</A>&nbsp;vls)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make a StartUpProtocol object.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"
><A NAME="method_summary"
><A NAME="method_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../java/lang/String.html"
>String</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#authProtocolTable()"
>authProtocolTable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#checkProtocolVersion(java.io.DataInputStream,byte[])"
>checkProtocolVersion</A></B>(<A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                     byte[]&nbsp;packet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Respond to the initator's Msg.PROTOCOL_VERSION message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#connectionDead(net.vattp.data.VatTPConnection,java.lang.Throwable)"
>connectionDead</A></B>(<A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;willBeNull,
               <A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Process a connection failure</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#firstDH()"
>firstDH</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perform the first calculation in Diffie Hellman key exchange.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#formatStartupPacket(byte[])"
>formatStartupPacket</A></B>(byte[]&nbsp;packet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Format a Msg.STARTUP packet for error messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#getState()"
>getState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the connection startup state</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#handleStateIncomingExpectGIVEINFO(byte,java.io.DataInputStream,byte[])"
>handleStateIncomingExpectGIVEINFO</A></B>(byte&nbsp;token,
                                  <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                                  byte[]&nbsp;packet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process expecting an GIVEINFO <remoteVatID> <remotePath> <hisPublicKey>
   -or-
 DUP message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#handleStateIncomingExpectGO(byte,java.io.DataInputStream,byte[])"
>handleStateIncomingExpectGO</A></B>(byte&nbsp;token,
                            <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                            byte[]&nbsp;packet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process expecting a GO <auth suite> <DH parameter>
   -or-
 RESUME <suspendID>
   -or-
 QUIT message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#handleStateIncomingExpectIWANT(byte,java.io.DataInputStream,byte[])"
>handleStateIncomingExpectIWANT</A></B>(byte&nbsp;token,
                               <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                               byte[]&nbsp;packet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process expecting a IWANT <localVatID> message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#handleStateOutgoingExpectGOTOO(byte,java.io.DataInputStream,byte[])"
>handleStateOutgoingExpectGOTOO</A></B>(byte&nbsp;token,
                               <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                               byte[]&nbsp;packet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process expecting a GOTOO <auth suite> <DH parameter>
   -or-
 BYE message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#handleStateOutgoingExpectIAM(byte,java.io.DataInputStream,byte[])"
>handleStateOutgoingExpectIAM</A></B>(byte&nbsp;token,
                             <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                             byte[]&nbsp;packet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process expecting an IAM <remoteVatID> <myPublicKey>
   -or-
 TRY <path>
   -or-
 NOTME
   -or-
 DUP message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#handleStateOutgoingExpectREPLYINFO(byte,java.io.DataInputStream,byte[])"
>handleStateOutgoingExpectREPLYINFO</A></B>(byte&nbsp;token,
                                   <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                                   byte[]&nbsp;packet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process expecting a REPLYINFO <remotePath>
   -or-
 YOUCHOSE <remotePath>
   -or-
 DUP message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#isHisPublicKeyOK(java.lang.String,byte[],int)"
>isHisPublicKeyOK</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;vatID,
                 byte[]&nbsp;hisKey,
                 int&nbsp;token)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decode the line form of his public key and check that it is for his
 vatID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#isSecondDHOK(byte[],byte[],byte)"
>isSecondDHOK</A></B>(byte[]&nbsp;publicdh,
             byte[]&nbsp;sig,
             byte&nbsp;token)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perform the second calculation in Diffie Hellman key exchange.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#isSigGood(byte[],byte[],byte)"
>isSigGood</A></B>(byte[]&nbsp;data,
          byte[]&nbsp;sig,
          byte&nbsp;token)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check the signature on the data received.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#matchProtocols(java.lang.String)"
>matchProtocols</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocol)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Match a suggested authorization protocol with the ones we support.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#md5Hash(int,byte[],java.security.MessageDigest)"
>md5Hash</A></B>(int&nbsp;pad,
        byte[]&nbsp;data,
        <A HREF="../../../java/security/MessageDigest.html"
>MessageDigest</A>&nbsp;md5)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calculate the MD5 hash of some data with a specific padding.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#processMessage(byte[],net.vattp.data.VatTPConnection)"
>processMessage</A></B>(byte[]&nbsp;packetArray,
               <A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;willBeNull)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Process the next packet of the connection startup protocol.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#processProtocolAccepted(java.io.DataInputStream,byte[])"
>processProtocolAccepted</A></B>(<A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                        byte[]&nbsp;packet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle the Msg.PROTOCOL_ACCEPTED message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendErrProtocol(java.lang.String)"
>sendErrProtocol</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_ERR_PROTOCOL packet</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendGiveInfo()"
>sendGiveInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_GIVEINFO packet</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendGo(java.lang.String)"
>sendGo</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocol)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_GO packet</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendGo(java.lang.String,byte[],byte[])"
>sendGo</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocol,
       byte[]&nbsp;dhparm,
       byte[]&nbsp;sig)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_GO packet</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendGoToo(java.lang.String)"
>sendGoToo</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocol)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_GOTOO packet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendGoToo(java.lang.String,byte[],byte[])"
>sendGoToo</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocol,
          byte[]&nbsp;dhparm,
          byte[]&nbsp;sig)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_GOTOO packet</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendIAm()"
>sendIAm</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_IAM packet</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendIWant()"
>sendIWant</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_IWANT packet</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendMessageForSignature(byte[])"
>sendMessageForSignature</A></B>(byte[]&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a message to the other end and save the message for signature
 calculation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendReplyInfo()"
>sendReplyInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_REPLYINFO packet</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendResume()"
>sendResume</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_RESUME packet</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendTry(java.lang.String)"
>sendTry</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;location)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_TRY packet</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#sendYouChose()"
>sendYouChose</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a TOK_YOUCHOSE packet</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#signSent(byte[],byte)"
>signSent</A></B>(byte[]&nbsp;data,
         byte&nbsp;token)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a our signature on the data sent.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#startupError(byte,java.lang.String)"
>startupError</A></B>(byte&nbsp;errorToken,
             <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Terminate the connection setup protocol with an error that will get
 passed to the remote end too.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#startupError(byte,java.lang.String,java.lang.Throwable)"
>startupError</A></B>(byte&nbsp;errorToken,
             <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;msg,
             <A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;t)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Terminate the connection setup protocol with an error that will get
 passed to the remote end too.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#startupLocalError(java.lang.String)"
>startupLocalError</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Terminate the connection setup protocol with an error.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#startupSuccessful()"
>startupSuccessful</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Startup protocol has succeeded, let the messages flow.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#stopStartUpProtocol()"
>stopStartUpProtocol</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stop the start up protocol.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#subbytearray(byte[],int,int)"
>subbytearray</A></B>(byte[]&nbsp;bytes,
             int&nbsp;offset,
             int&nbsp;len)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a subarray of a given array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/StartUpProtocol.html#tokName(int)"
>tokName</A></B>(int&nbsp;tok)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Translate a startup protocol message token to a printable string for
 error messages and the like.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"
><A NAME="methods_inherited_from_class_java.lang.Object"
><A NAME="methods_inherited_from_class_java.lang.Object"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.<A HREF="../../../java/lang/Object.html"
>Object</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../java/lang/Object.html#clone()"
>clone</A>, <A HREF="../../../java/lang/Object.html#equals(java.lang.Object)"
>equals</A>, <A HREF="../../../java/lang/Object.html#finalize()"
>finalize</A>, <A HREF="../../../java/lang/Object.html#getClass()"
>getClass</A>, <A HREF="../../../java/lang/Object.html#hashCode()"
>hashCode</A>, <A HREF="../../../java/lang/Object.html#notify()"
>notify</A>, <A HREF="../../../java/lang/Object.html#notifyAll()"
>notifyAll</A>, <A HREF="../../../java/lang/Object.html#toString()"
>toString</A>, <A HREF="../../../java/lang/Object.html#wait()"
>wait</A>, <A HREF="../../../java/lang/Object.html#wait(long)"
>wait</A>, <A HREF="../../../java/lang/Object.html#wait(long,int)"
>wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"
><A NAME="field_detail"
><A NAME="field_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="ST_UNSTARTED"
><A NAME="ST_UNSTARTED"
><A NAME="ST_UNSTARTED"
><!-- --></A></A></A><H3>
ST_UNSTARTED</H3>
<PRE>
private static final int <B>ST_UNSTARTED</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ST_INCOMING_EXPECT_IWANT"
><A NAME="ST_INCOMING_EXPECT_IWANT"
><A NAME="ST_INCOMING_EXPECT_IWANT"
><!-- --></A></A></A><H3>
ST_INCOMING_EXPECT_IWANT</H3>
<PRE>
private static final int <B>ST_INCOMING_EXPECT_IWANT</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ST_OUTGOING_EXPECT_IAM"
><A NAME="ST_OUTGOING_EXPECT_IAM"
><A NAME="ST_OUTGOING_EXPECT_IAM"
><!-- --></A></A></A><H3>
ST_OUTGOING_EXPECT_IAM</H3>
<PRE>
private static final int <B>ST_OUTGOING_EXPECT_IAM</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ST_INCOMING_EXPECT_GIVEINFO"
><A NAME="ST_INCOMING_EXPECT_GIVEINFO"
><A NAME="ST_INCOMING_EXPECT_GIVEINFO"
><!-- --></A></A></A><H3>
ST_INCOMING_EXPECT_GIVEINFO</H3>
<PRE>
private static final int <B>ST_INCOMING_EXPECT_GIVEINFO</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ST_OUTGOING_EXPECT_REPLYINFO"
><A NAME="ST_OUTGOING_EXPECT_REPLYINFO"
><A NAME="ST_OUTGOING_EXPECT_REPLYINFO"
><!-- --></A></A></A><H3>
ST_OUTGOING_EXPECT_REPLYINFO</H3>
<PRE>
private static final int <B>ST_OUTGOING_EXPECT_REPLYINFO</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ST_INCOMING_EXPECT_GO"
><A NAME="ST_INCOMING_EXPECT_GO"
><A NAME="ST_INCOMING_EXPECT_GO"
><!-- --></A></A></A><H3>
ST_INCOMING_EXPECT_GO</H3>
<PRE>
static final int <B>ST_INCOMING_EXPECT_GO</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ST_OUTGOING_EXPECT_GOTOO"
><A NAME="ST_OUTGOING_EXPECT_GOTOO"
><A NAME="ST_OUTGOING_EXPECT_GOTOO"
><!-- --></A></A></A><H3>
ST_OUTGOING_EXPECT_GOTOO</H3>
<PRE>
static final int <B>ST_OUTGOING_EXPECT_GOTOO</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ST_EXPECT_MESSAGE"
><A NAME="ST_EXPECT_MESSAGE"
><A NAME="ST_EXPECT_MESSAGE"
><!-- --></A></A></A><H3>
ST_EXPECT_MESSAGE</H3>
<PRE>
static final int <B>ST_EXPECT_MESSAGE</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ST_DEAD"
><A NAME="ST_DEAD"
><A NAME="ST_DEAD"
><!-- --></A></A></A><H3>
ST_DEAD</H3>
<PRE>
private static final int <B>ST_DEAD</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ST_TRY_NEXT"
><A NAME="ST_TRY_NEXT"
><A NAME="ST_TRY_NEXT"
><!-- --></A></A></A><H3>
ST_TRY_NEXT</H3>
<PRE>
private static final int <B>ST_TRY_NEXT</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_BYE"
><A NAME="TOK_BYE"
><A NAME="TOK_BYE"
><!-- --></A></A></A><H3>
TOK_BYE</H3>
<PRE>
private static final byte <B>TOK_BYE</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_DUP"
><A NAME="TOK_DUP"
><A NAME="TOK_DUP"
><!-- --></A></A></A><H3>
TOK_DUP</H3>
<PRE>
private static final byte <B>TOK_DUP</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_GIVEINFO"
><A NAME="TOK_GIVEINFO"
><A NAME="TOK_GIVEINFO"
><!-- --></A></A></A><H3>
TOK_GIVEINFO</H3>
<PRE>
private static final byte <B>TOK_GIVEINFO</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_GO"
><A NAME="TOK_GO"
><A NAME="TOK_GO"
><!-- --></A></A></A><H3>
TOK_GO</H3>
<PRE>
private static final byte <B>TOK_GO</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_GOTOO"
><A NAME="TOK_GOTOO"
><A NAME="TOK_GOTOO"
><!-- --></A></A></A><H3>
TOK_GOTOO</H3>
<PRE>
private static final byte <B>TOK_GOTOO</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_IAM"
><A NAME="TOK_IAM"
><A NAME="TOK_IAM"
><!-- --></A></A></A><H3>
TOK_IAM</H3>
<PRE>
private static final byte <B>TOK_IAM</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_IWANT"
><A NAME="TOK_IWANT"
><A NAME="TOK_IWANT"
><!-- --></A></A></A><H3>
TOK_IWANT</H3>
<PRE>
private static final byte <B>TOK_IWANT</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_NOT_ME"
><A NAME="TOK_NOT_ME"
><A NAME="TOK_NOT_ME"
><!-- --></A></A></A><H3>
TOK_NOT_ME</H3>
<PRE>
private static final byte <B>TOK_NOT_ME</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_REPLYINFO"
><A NAME="TOK_REPLYINFO"
><A NAME="TOK_REPLYINFO"
><!-- --></A></A></A><H3>
TOK_REPLYINFO</H3>
<PRE>
private static final byte <B>TOK_REPLYINFO</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_TRY"
><A NAME="TOK_TRY"
><A NAME="TOK_TRY"
><!-- --></A></A></A><H3>
TOK_TRY</H3>
<PRE>
private static final byte <B>TOK_TRY</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_RESUME"
><A NAME="TOK_RESUME"
><A NAME="TOK_RESUME"
><!-- --></A></A></A><H3>
TOK_RESUME</H3>
<PRE>
private static final byte <B>TOK_RESUME</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_YOUCHOSE"
><A NAME="TOK_YOUCHOSE"
><A NAME="TOK_YOUCHOSE"
><!-- --></A></A></A><H3>
TOK_YOUCHOSE</H3>
<PRE>
private static final byte <B>TOK_YOUCHOSE</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_ERR_PROTOCOL"
><A NAME="TOK_ERR_PROTOCOL"
><A NAME="TOK_ERR_PROTOCOL"
><!-- --></A></A></A><H3>
TOK_ERR_PROTOCOL</H3>
<PRE>
private static final byte <B>TOK_ERR_PROTOCOL</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_ERR_WRONG_ID"
><A NAME="TOK_ERR_WRONG_ID"
><A NAME="TOK_ERR_WRONG_ID"
><!-- --></A></A></A><H3>
TOK_ERR_WRONG_ID</H3>
<PRE>
private static final byte <B>TOK_ERR_WRONG_ID</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TOK_ERR_INTERNAL"
><A NAME="TOK_ERR_INTERNAL"
><A NAME="TOK_ERR_INTERNAL"
><!-- --></A></A></A><H3>
TOK_ERR_INTERNAL</H3>
<PRE>
private static final byte <B>TOK_ERR_INTERNAL</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="PROTO_NONE"
><A NAME="PROTO_NONE"
><A NAME="PROTO_NONE"
><!-- --></A></A></A><H3>
PROTO_NONE</H3>
<PRE>
static final <A HREF="../../../java/lang/String.html"
>String</A> <B>PROTO_NONE</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="PROTO_3DES_SDH_M"
><A NAME="PROTO_3DES_SDH_M"
><A NAME="PROTO_3DES_SDH_M"
><!-- --></A></A></A><H3>
PROTO_3DES_SDH_M</H3>
<PRE>
static final <A HREF="../../../java/lang/String.html"
>String</A> <B>PROTO_3DES_SDH_M</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="PROTO_3DES_SDH_M2"
><A NAME="PROTO_3DES_SDH_M2"
><A NAME="PROTO_3DES_SDH_M2"
><!-- --></A></A></A><H3>
PROTO_3DES_SDH_M2</H3>
<PRE>
static final <A HREF="../../../java/lang/String.html"
>String</A> <B>PROTO_3DES_SDH_M2</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="TheAuthProtocols"
><A NAME="TheAuthProtocols"
><A NAME="TheAuthProtocols"
><!-- --></A></A></A><H3>
TheAuthProtocols</H3>
<PRE>
private static <A HREF="../../../java/lang/String.html"
>String</A> <B>TheAuthProtocols</B></PRE>
<DL>
<DD>The protocol negotiation string we send, least desired last
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="TheAuthProtocolTable"
><A NAME="TheAuthProtocolTable"
><A NAME="TheAuthProtocolTable"
><!-- --></A></A></A><H3>
TheAuthProtocolTable</H3>
<PRE>
private static <A HREF="../../../java/lang/String.html"
>String</A>[] <B>TheAuthProtocolTable</B></PRE>
<DL>
<DD>The authentication protocols we support.  Excludes none which is a
 special case
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="tokNames"
><A NAME="tokNames"
><A NAME="tokNames"
><!-- --></A></A></A><H3>
tokNames</H3>
<PRE>
private static final <A HREF="../../../java/lang/String.html"
>String</A>[] <B>tokNames</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="errTokNames"
><A NAME="errTokNames"
><A NAME="errTokNames"
><!-- --></A></A></A><H3>
errTokNames</H3>
<PRE>
private static final <A HREF="../../../java/lang/String.html"
>String</A>[] <B>errTokNames</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myDataPath"
><A NAME="myDataPath"
><A NAME="myDataPath"
><!-- --></A></A></A><H3>
myDataPath</H3>
<PRE>
private final <A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A> <B>myDataPath</B></PRE>
<DL>
<DD>The DataPath object we are working with.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myIsIncoming"
><A NAME="myIsIncoming"
><A NAME="myIsIncoming"
><!-- --></A></A></A><H3>
myIsIncoming</H3>
<PRE>
private final boolean <B>myIsIncoming</B></PRE>
<DL>
<DD>Whether we are build for initiating an outbound connection or
 responding to a remote connection
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myRemoteVatID"
><A NAME="myRemoteVatID"
><A NAME="myRemoteVatID"
><!-- --></A></A></A><H3>
myRemoteVatID</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>myRemoteVatID</B></PRE>
<DL>
<DD>The remote vatID we are communicating with
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myOutgoingSuspendID"
><A NAME="myOutgoingSuspendID"
><A NAME="myOutgoingSuspendID"
><!-- --></A></A></A><H3>
myOutgoingSuspendID</H3>
<PRE>
private byte[] <B>myOutgoingSuspendID</B></PRE>
<DL>
<DD>The suspend ID to present to the other end for a reconnect.
     If it is null, reconnection will not be attempted.
     (Outbound connections only)
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myHisPublicKey"
><A NAME="myHisPublicKey"
><A NAME="myHisPublicKey"
><!-- --></A></A></A><H3>
myHisPublicKey</H3>
<PRE>
private <A HREF="../../../java/security/PublicKey.html"
>PublicKey</A> <B>myHisPublicKey</B></PRE>
<DL>
<DD>The public key of the remote end
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myIdentityKeys"
><A NAME="myIdentityKeys"
><A NAME="myIdentityKeys"
><!-- --></A></A></A><H3>
myIdentityKeys</H3>
<PRE>
private final <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A> <B>myIdentityKeys</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myVLS"
><A NAME="myVLS"
><A NAME="myVLS"
><!-- --></A></A></A><H3>
myVLS</H3>
<PRE>
private final <A HREF="../../../net/vattp/data/VatLocationLookup.html"
>VatLocationLookup</A> <B>myVLS</B></PRE>
<DL>
<DD>Entity from which to lookup foreign vatIDs
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myLocalVatID"
><A NAME="myLocalVatID"
><A NAME="myLocalVatID"
><!-- --></A></A></A><H3>
myLocalVatID</H3>
<PRE>
private final <A HREF="../../../java/lang/String.html"
>String</A> <B>myLocalVatID</B></PRE>
<DL>
<DD>The vatID of this vat
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myLocalFlattenedSearchPath"
><A NAME="myLocalFlattenedSearchPath"
><A NAME="myLocalFlattenedSearchPath"
><!-- --></A></A></A><H3>
myLocalFlattenedSearchPath</H3>
<PRE>
private final <A HREF="../../../java/lang/String.html"
>String</A> <B>myLocalFlattenedSearchPath</B></PRE>
<DL>
<DD>The semicolon separated search path for this vat
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myState"
><A NAME="myState"
><A NAME="myState"
><!-- --></A></A></A><H3>
myState</H3>
<PRE>
private int <B>myState</B></PRE>
<DL>
<DD>Current state of the startup protocol state machine
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myStop"
><A NAME="myStop"
><A NAME="myStop"
><!-- --></A></A></A><H3>
myStop</H3>
<PRE>
private boolean <B>myStop</B></PRE>
<DL>
<DD>Set true if we should stop attempting to make a connection
     before outgoingSetup has been called.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myEMsgProtocolVersion"
><A NAME="myEMsgProtocolVersion"
><A NAME="myEMsgProtocolVersion"
><!-- --></A></A></A><H3>
myEMsgProtocolVersion</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>myEMsgProtocolVersion</B></PRE>
<DL>
<DD>The agreed E message protocol version
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myProtocolSuite"
><A NAME="myProtocolSuite"
><A NAME="myProtocolSuite"
><!-- --></A></A></A><H3>
myProtocolSuite</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>myProtocolSuite</B></PRE>
<DL>
<DD>The agreed upon protocol suite
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mySignature"
><A NAME="mySignature"
><A NAME="mySignature"
><!-- --></A></A></A><H3>
mySignature</H3>
<PRE>
private <A HREF="../../../java/security/Signature.html"
>Signature</A> <B>mySignature</B></PRE>
<DL>
<DD>The Signature object used for signing and checking signatures
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myMessagesToSign"
><A NAME="myMessagesToSign"
><A NAME="myMessagesToSign"
><!-- --></A></A></A><H3>
myMessagesToSign</H3>
<PRE>
private final <A HREF="../../../java/util/Vector.html"
>Vector</A> <B>myMessagesToSign</B></PRE>
<DL>
<DD>Messages I've sent which are to be signed for as part of end point
 authentication.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="hisMessagesToSign"
><A NAME="hisMessagesToSign"
><A NAME="hisMessagesToSign"
><!-- --></A></A></A><H3>
hisMessagesToSign</H3>
<PRE>
private final <A HREF="../../../java/util/Vector.html"
>Vector</A> <B>hisMessagesToSign</B></PRE>
<DL>
<DD>Messages I've received whose signature is to be checked as part of
 end point identification.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="x"
><A NAME="x"
><A NAME="x"
><!-- --></A></A></A><H3>
x</H3>
<PRE>
private <A HREF="../../../java/math/BigInteger.html"
>BigInteger</A> <B>x</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="g"
><A NAME="g"
><A NAME="g"
><!-- --></A></A></A><H3>
g</H3>
<PRE>
private static final <A HREF="../../../java/math/BigInteger.html"
>BigInteger</A> <B>g</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="modulus"
><A NAME="modulus"
><A NAME="modulus"
><!-- --></A></A></A><H3>
modulus</H3>
<PRE>
private static final <A HREF="../../../java/math/BigInteger.html"
>BigInteger</A> <B>modulus</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"
><A NAME="constructor_detail"
><A NAME="constructor_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="StartUpProtocol(net.vattp.data.DataPath,boolean,java.lang.String,java.security.KeyPair,java.lang.String,byte[],java.lang.String,net.vattp.data.VatLocationLookup)"
><A NAME="StartUpProtocol(net.vattp.data.DataPath,%20boolean,%20java.lang.String,%20java.security.KeyPair,%20java.lang.String,%20byte[],%20java.lang.String,%20net.vattp.data.VatLocationLookup)"
><A NAME="StartUpProtocol(net.vattp.data.DataPath, boolean, java.lang.String, java.security.KeyPair, java.lang.String, byte[], java.lang.String, net.vattp.data.VatLocationLookup)"
><!-- --></A></A></A><H3>
StartUpProtocol</H3>
<PRE>
<B>StartUpProtocol</B>(<A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;path,
                boolean&nbsp;isIncoming,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                byte[]&nbsp;outgoingSuspendID,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath,
                <A HREF="../../../net/vattp/data/VatLocationLookup.html"
>VatLocationLookup</A>&nbsp;vls)</PRE>
<DL>
<DD>Make a StartUpProtocol object.
<P>
<DT><B>Parameters:</B><DD><CODE>path</CODE> - the DataPath this StartUpProtocol is to serve.<DD><CODE>isIncoming</CODE> - true if this StartUpProtocol is to work with an
        incoming connection.  False if this end is the initator.<DD><CODE>remoteVatID</CODE> - if isIncoming, then null, othersize
        the VatID for the remote vat.<DD><CODE>identityKeys</CODE> - the KeyPair which defines the identity of this vat.<DD><CODE>localVatID</CODE> - The vatID of the local vat.<DD><CODE>outgoingSuspendID</CODE> - The ID to resume a suspended connection if
        this DataPath is outgoing and is to resume a suspended
        connection.  Otherwise null<DD><CODE>localFlattenedSearchPath</CODE> - the search path we publish for others
        looking for the local vat in semicolon separated form.</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"
><A NAME="method_detail"
><A NAME="method_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="authProtocolTable()"
><A NAME="authProtocolTable()"
><A NAME="authProtocolTable()"
><!-- --></A></A></A><H3>
authProtocolTable</H3>
<PRE>
public static <A HREF="../../../java/lang/String.html"
>String</A>[] <B>authProtocolTable</B>()</PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="checkProtocolVersion(java.io.DataInputStream,byte[])"
><A NAME="checkProtocolVersion(java.io.DataInputStream,%20byte[])"
><A NAME="checkProtocolVersion(java.io.DataInputStream, byte[])"
><!-- --></A></A></A><H3>
checkProtocolVersion</H3>
<PRE>
private void <B>checkProtocolVersion</B>(<A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                                  byte[]&nbsp;packet)
                           throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Respond to the initator's Msg.PROTOCOL_VERSION message.

 Selects the last version sent by the remote end in their PROTOCOL_VERSION
 packet which is also supported by this end,
 as the protocol version to use on this connection.  That version is
 returned in a PROTOCOL_ACCEPTED message.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>packetIn</CODE> - The PROTOCOL_VERSION packet stream postioned after the
 type byte.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - When there is no protocol in common with
              the remote end.  An ERR_PROTOCOL message is sent to the
              remote end.</DL>
</DD>
</DL>
<HR>

<A NAME="connectionDead(net.vattp.data.VatTPConnection,java.lang.Throwable)"
><A NAME="connectionDead(net.vattp.data.VatTPConnection,%20java.lang.Throwable)"
><A NAME="connectionDead(net.vattp.data.VatTPConnection, java.lang.Throwable)"
><!-- --></A></A></A><H3>
connectionDead</H3>
<PRE>
public void <B>connectionDead</B>(<A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;willBeNull,
                           <A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Process a connection failure
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/vattp/data/MsgHandler.html#connectionDead(net.vattp.data.VatTPConnection,java.lang.Throwable)"
>connectionDead</A></CODE> in interface <CODE><A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>willBeNull</CODE> - The VatTPConnection object which has just died.<DD><CODE>reason</CODE> - is a Throwable which describes why the connection died.</DL>
</DD>
</DL>
<HR>

<A NAME="firstDH()"
><A NAME="firstDH()"
><A NAME="firstDH()"
><!-- --></A></A></A><H3>
firstDH</H3>
<PRE>
private byte[] <B>firstDH</B>()</PRE>
<DL>
<DD>Perform the first calculation in Diffie Hellman key exchange.
 <p>
 This method gets a random x and calculate g**x mod p.  Return the value
 as a String base 10.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>A byte array representing the result of the first Diffie
         Hellman calculation.</DL>
</DD>
</DL>
<HR>

<A NAME="formatStartupPacket(byte[])"
><A NAME="formatStartupPacket(byte[])"
><A NAME="formatStartupPacket(byte[])"
><!-- --></A></A></A><H3>
formatStartupPacket</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>formatStartupPacket</B>(byte[]&nbsp;packet)</PRE>
<DL>
<DD>Format a Msg.STARTUP packet for error messages.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>packet</CODE> - the byte array which is the complete packet.
<DT><B>Returns:</B><DD>the packet formated as a string.</DL>
</DD>
</DL>
<HR>

<A NAME="getState()"
><A NAME="getState()"
><A NAME="getState()"
><!-- --></A></A></A><H3>
getState</H3>
<PRE>
int <B>getState</B>()</PRE>
<DL>
<DD>Return the connection startup state
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The connection startup state code for debugging purposes.</DL>
</DD>
</DL>
<HR>

<A NAME="handleStateIncomingExpectGIVEINFO(byte,java.io.DataInputStream,byte[])"
><A NAME="handleStateIncomingExpectGIVEINFO(byte,%20java.io.DataInputStream,%20byte[])"
><A NAME="handleStateIncomingExpectGIVEINFO(byte, java.io.DataInputStream, byte[])"
><!-- --></A></A></A><H3>
handleStateIncomingExpectGIVEINFO</H3>
<PRE>
private void <B>handleStateIncomingExpectGIVEINFO</B>(byte&nbsp;token,
                                               <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                                               byte[]&nbsp;packet)
                                        throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Process expecting an GIVEINFO <remoteVatID> <remotePath> <hisPublicKey>
   -or-
 DUP message.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - the actual message token received.<DD><CODE>packetIn</CODE> - is the DataInputStream on the input message positioned
                 after the startup protocol token.<DD><CODE>packet</CODE> - The entire message received as a string for error
               messages.
<DT><B>Throws:</B>
<DD><CODE>ConnectionStartupException</CODE> - is thrown if this MsgConnection
            should terminate.
<DD><CODE>ConnectionStartupLocalException</CODE> - is thrown if this MsgConnection should terminate without
            notifing the other end.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleStateIncomingExpectGO(byte,java.io.DataInputStream,byte[])"
><A NAME="handleStateIncomingExpectGO(byte,%20java.io.DataInputStream,%20byte[])"
><A NAME="handleStateIncomingExpectGO(byte, java.io.DataInputStream, byte[])"
><!-- --></A></A></A><H3>
handleStateIncomingExpectGO</H3>
<PRE>
private void <B>handleStateIncomingExpectGO</B>(byte&nbsp;token,
                                         <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                                         byte[]&nbsp;packet)
                                  throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Process expecting a GO <auth suite> <DH parameter>
   -or-
 RESUME <suspendID>
   -or-
 QUIT message.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - the actual message token received.<DD><CODE>packetIn</CODE> - is the DataInputStream on the input message positioned
 after the startup protocol token.<DD><CODE>packet</CODE> - The entire message received as a string for error
               messages.
<DT><B>Throws:</B>
<DD><CODE>ConnectionStartupException</CODE> - is thrown if this MsgConnection
            should terminate.
<DD><CODE>ConnectionStartupLocalException</CODE> - is thrown if this MsgConnection should terminate without
            notifing the other end.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleStateIncomingExpectIWANT(byte,java.io.DataInputStream,byte[])"
><A NAME="handleStateIncomingExpectIWANT(byte,%20java.io.DataInputStream,%20byte[])"
><A NAME="handleStateIncomingExpectIWANT(byte, java.io.DataInputStream, byte[])"
><!-- --></A></A></A><H3>
handleStateIncomingExpectIWANT</H3>
<PRE>
private void <B>handleStateIncomingExpectIWANT</B>(byte&nbsp;token,
                                            <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                                            byte[]&nbsp;packet)
                                     throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Process expecting a IWANT <localVatID> message.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - the actual message token received.<DD><CODE>packetIn</CODE> - is the DataInputStream on the input message positioned
 after the startup protocol token.<DD><CODE>packet</CODE> - The entire message received as a string for error
               messages.
<DT><B>Throws:</B>
<DD><CODE>ConnectionStartupException</CODE> - is thrown if this MsgConnection
            should terminate.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleStateOutgoingExpectGOTOO(byte,java.io.DataInputStream,byte[])"
><A NAME="handleStateOutgoingExpectGOTOO(byte,%20java.io.DataInputStream,%20byte[])"
><A NAME="handleStateOutgoingExpectGOTOO(byte, java.io.DataInputStream, byte[])"
><!-- --></A></A></A><H3>
handleStateOutgoingExpectGOTOO</H3>
<PRE>
private void <B>handleStateOutgoingExpectGOTOO</B>(byte&nbsp;token,
                                            <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                                            byte[]&nbsp;packet)
                                     throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Process expecting a GOTOO <auth suite> <DH parameter>
   -or-
 BYE message.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - the actual message token received.<DD><CODE>packetIn</CODE> - is the DataInputStream on the input message positioned
 after the startup protocol token.<DD><CODE>packet</CODE> - The entire message received as a string for error
               messages.
<DT><B>Throws:</B>
<DD><CODE>ConnectionStartupException</CODE> - is thrown if this MsgConnection
            should terminate.
<DD><CODE>ConnectionStartupLocalException</CODE> - is thrown if this MsgConnection should terminate without
            notifing the other end.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleStateOutgoingExpectIAM(byte,java.io.DataInputStream,byte[])"
><A NAME="handleStateOutgoingExpectIAM(byte,%20java.io.DataInputStream,%20byte[])"
><A NAME="handleStateOutgoingExpectIAM(byte, java.io.DataInputStream, byte[])"
><!-- --></A></A></A><H3>
handleStateOutgoingExpectIAM</H3>
<PRE>
private void <B>handleStateOutgoingExpectIAM</B>(byte&nbsp;token,
                                          <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                                          byte[]&nbsp;packet)
                                   throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Process expecting an IAM <remoteVatID> <myPublicKey>
   -or-
 TRY <path>
   -or-
 NOTME
   -or-
 DUP message.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - the actual message token received.<DD><CODE>packetIn</CODE> - is the DataInputStream on the input message positioned
 after the startup protocol token.<DD><CODE>packet</CODE> - The entire message received as a string for error
               messages.
<DT><B>Throws:</B>
<DD><CODE>ConnectionStartupException</CODE> - is thrown if this MsgConnection
            should terminate.
<DD><CODE>ConnectionStartupLocalException</CODE> - is thrown if this MsgConnection should terminate without
            notifing the other end.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleStateOutgoingExpectREPLYINFO(byte,java.io.DataInputStream,byte[])"
><A NAME="handleStateOutgoingExpectREPLYINFO(byte,%20java.io.DataInputStream,%20byte[])"
><A NAME="handleStateOutgoingExpectREPLYINFO(byte, java.io.DataInputStream, byte[])"
><!-- --></A></A></A><H3>
handleStateOutgoingExpectREPLYINFO</H3>
<PRE>
private void <B>handleStateOutgoingExpectREPLYINFO</B>(byte&nbsp;token,
                                                <A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                                                byte[]&nbsp;packet)
                                         throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Process expecting a REPLYINFO <remotePath>
   -or-
 YOUCHOSE <remotePath>
   -or-
 DUP message.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - the actual message token received.<DD><CODE>packetIn</CODE> - is the DataInputStream on the input message positioned
 after the startup protocol token.<DD><CODE>packet</CODE> - The entire message received as a string for error
               messages.
<DT><B>Throws:</B>
<DD><CODE>ConnectionStartupException</CODE> - is thrown if this MsgConnection
            should terminate.
<DD><CODE>ConnectionStartupLocalException</CODE> - is thrown if this MsgConnection should terminate without
            notifing the other end.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isHisPublicKeyOK(java.lang.String,byte[],int)"
><A NAME="isHisPublicKeyOK(java.lang.String,%20byte[],%20int)"
><A NAME="isHisPublicKeyOK(java.lang.String, byte[], int)"
><!-- --></A></A></A><H3>
isHisPublicKeyOK</H3>
<PRE>
private boolean <B>isHisPublicKeyOK</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;vatID,
                                 byte[]&nbsp;hisKey,
                                 int&nbsp;token)
                          throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Decode the line form of his public key and check that it is for his
 vatID.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>vatID</CODE> - His vatID.<DD><CODE>hisKey</CODE> - His DSA public key expressed as a byte array.
<DT><B>Returns:</B><DD>is true if his public key matches is vatID, false otherwise.
<DT><B>Throws:</B>
<DD><CODE>ConnectionStartupException</CODE> - If hisKey has a bad format, or is
          invalid.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isSecondDHOK(byte[],byte[],byte)"
><A NAME="isSecondDHOK(byte[],%20byte[],%20byte)"
><A NAME="isSecondDHOK(byte[], byte[], byte)"
><!-- --></A></A></A><H3>
isSecondDHOK</H3>
<PRE>
private boolean <B>isSecondDHOK</B>(byte[]&nbsp;publicdh,
                             byte[]&nbsp;sig,
                             byte&nbsp;token)
                      throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Perform the second calculation in Diffie Hellman key exchange.
 <p>
 This method takes the remote end's g**y mod p, and the sitnature on it.
 It checks ths signature and performs the second Diffie Hellman
 calculation as (g**y mod p) ** x mod p.
 <p>
 It then takes the resulting dh secret and calculates values for the
 initial sequence numbers (both send path and receive path).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>publicdh</CODE> - is a byte array containing the far end's first Diffie
                 Hellman calculation.<DD><CODE>sig</CODE> - is a byte array containing the far end's DSS signature on
            the startup protocol.<DD><CODE>token</CODE> - The startup protocol token being processed.  (For
              determining whether we are the initator or receipent and
              error reporting.)
<DT><B>Returns:</B><DD>is true if the connection attempt should continue,
         false otherwise.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isSigGood(byte[],byte[],byte)"
><A NAME="isSigGood(byte[],%20byte[],%20byte)"
><A NAME="isSigGood(byte[], byte[], byte)"
><!-- --></A></A></A><H3>
isSigGood</H3>
<PRE>
private boolean <B>isSigGood</B>(byte[]&nbsp;data,
                          byte[]&nbsp;sig,
                          byte&nbsp;token)
                   throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Check the signature on the data received.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>data</CODE> - is the data to check.<DD><CODE>sig</CODE> - is the signature.<DD><CODE>token</CODE> - is the startup protocol token being processed for error
 reporting.
<DT><B>Returns:</B><DD>is true if the signature is good.  False for a bunch of "can't
 occur" situations,
 and things like invalid or no public key from the other end, or invalid
 signature.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="matchProtocols(java.lang.String)"
><A NAME="matchProtocols(java.lang.String)"
><A NAME="matchProtocols(java.lang.String)"
><!-- --></A></A></A><H3>
matchProtocols</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>matchProtocols</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocol)</PRE>
<DL>
<DD>Match a suggested authorization protocol with the ones we support.
 The comparison ignores the case of the letters.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>protocol</CODE> - the one to match.
<DT><B>Returns:</B><DD>the standard cased version of the matched name or null if no match.</DL>
</DD>
</DL>
<HR>

<A NAME="md5Hash(int,byte[],java.security.MessageDigest)"
><A NAME="md5Hash(int,%20byte[],%20java.security.MessageDigest)"
><A NAME="md5Hash(int, byte[], java.security.MessageDigest)"
><!-- --></A></A></A><H3>
md5Hash</H3>
<PRE>
private byte[] <B>md5Hash</B>(int&nbsp;pad,
                       byte[]&nbsp;data,
                       <A HREF="../../../java/security/MessageDigest.html"
>MessageDigest</A>&nbsp;md5)</PRE>
<DL>
<DD>Calculate the MD5 hash of some data with a specific padding.
 <p>
 The padding allows different values to be obtained from the same data
 by varing the padding value.  We use it to get the different
 authentication values from the same Diffie Hellman shared secret.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pad</CODE> - The int (treated as a byte) to be used to pad the MD5 calculation.<DD><CODE>data</CODE> - The data to be hashed.<DD><CODE>md5</CODE> - The message digest object to be used.
<DT><B>Returns:</B><DD>A byte array representing the hash.</DL>
</DD>
</DL>
<HR>

<A NAME="processMessage(byte[],net.vattp.data.VatTPConnection)"
><A NAME="processMessage(byte[],%20net.vattp.data.VatTPConnection)"
><A NAME="processMessage(byte[], net.vattp.data.VatTPConnection)"
><!-- --></A></A></A><H3>
processMessage</H3>
<PRE>
public void <B>processMessage</B>(byte[]&nbsp;packetArray,
                           <A HREF="../../../net/vattp/data/VatTPConnection.html"
>VatTPConnection</A>&nbsp;willBeNull)</PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Process the next packet of the connection startup protocol.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../net/vattp/data/MsgHandler.html#processMessage(byte[],net.vattp.data.VatTPConnection)"
>processMessage</A></CODE> in interface <CODE><A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>packetArray</CODE> - The startup protocol message to process.<DD><CODE>willBeNull</CODE> - is the VatTPConnection object on which the the message
 arrived.<DT><B>See Also:</B><DD><A HREF="../../../net/vattp/data/Msg.html"
><CODE>Msg</CODE></A>, 
<A HREF="../../../net/vattp/data/VatTPConnection.html"
><CODE>VatTPConnection</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="processProtocolAccepted(java.io.DataInputStream,byte[])"
><A NAME="processProtocolAccepted(java.io.DataInputStream,%20byte[])"
><A NAME="processProtocolAccepted(java.io.DataInputStream, byte[])"
><!-- --></A></A></A><H3>
processProtocolAccepted</H3>
<PRE>
private void <B>processProtocolAccepted</B>(<A HREF="../../../java/io/DataInputStream.html"
>DataInputStream</A>&nbsp;packetIn,
                                     byte[]&nbsp;packet)
                              throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Handle the Msg.PROTOCOL_ACCEPTED message.
 Determine which version of the protocol was accepted and configure this
 end to use that version.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>packet</CODE> - the packet received.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sendErrProtocol(java.lang.String)"
><A NAME="sendErrProtocol(java.lang.String)"
><A NAME="sendErrProtocol(java.lang.String)"
><!-- --></A></A></A><H3>
sendErrProtocol</H3>
<PRE>
private void <B>sendErrProtocol</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;msg)
                      throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_ERR_PROTOCOL packet
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - is a message describing the error.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendGiveInfo()"
><A NAME="sendGiveInfo()"
><A NAME="sendGiveInfo()"
><!-- --></A></A></A><H3>
sendGiveInfo</H3>
<PRE>
private void <B>sendGiveInfo</B>()
                   throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_GIVEINFO packet
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendGo(java.lang.String)"
><A NAME="sendGo(java.lang.String)"
><A NAME="sendGo(java.lang.String)"
><!-- --></A></A></A><H3>
sendGo</H3>
<PRE>
private void <B>sendGo</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocol)
             throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_GO packet
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>protocol</CODE> - is the chosen authorization protocol as a String.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendGo(java.lang.String,byte[],byte[])"
><A NAME="sendGo(java.lang.String,%20byte[],%20byte[])"
><A NAME="sendGo(java.lang.String, byte[], byte[])"
><!-- --></A></A></A><H3>
sendGo</H3>
<PRE>
private void <B>sendGo</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocol,
                    byte[]&nbsp;dhparm,
                    byte[]&nbsp;sig)
             throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_GO packet
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>protocol</CODE> - is the chosen authorization protocol as a String.<DD><CODE>dhparm</CODE> - is the public Diffie Hellman parameter<DD><CODE>sig</CODE> - is the signature for authentication.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendGoToo(java.lang.String)"
><A NAME="sendGoToo(java.lang.String)"
><A NAME="sendGoToo(java.lang.String)"
><!-- --></A></A></A><H3>
sendGoToo</H3>
<PRE>
private void <B>sendGoToo</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocol)
                throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_GOTOO packet.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>protocol</CODE> - is the chosen authorization protocol as a String or null.
          If null is specified, nothing will be sent in that place.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendGoToo(java.lang.String,byte[],byte[])"
><A NAME="sendGoToo(java.lang.String,%20byte[],%20byte[])"
><A NAME="sendGoToo(java.lang.String, byte[], byte[])"
><!-- --></A></A></A><H3>
sendGoToo</H3>
<PRE>
private void <B>sendGoToo</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;protocol,
                       byte[]&nbsp;dhparm,
                       byte[]&nbsp;sig)
                throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_GOTOO packet
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>protocol</CODE> - is the chosen authorization protocol as a String.<DD><CODE>dhparm</CODE> - is the public Diffie Hellman parameter<DD><CODE>sig</CODE> - is the signature for authentication.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendIAm()"
><A NAME="sendIAm()"
><A NAME="sendIAm()"
><!-- --></A></A></A><H3>
sendIAm</H3>
<PRE>
private void <B>sendIAm</B>()
              throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_IAM packet
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendIWant()"
><A NAME="sendIWant()"
><A NAME="sendIWant()"
><!-- --></A></A></A><H3>
sendIWant</H3>
<PRE>
private void <B>sendIWant</B>()
                throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_IWANT packet
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendMessageForSignature(byte[])"
><A NAME="sendMessageForSignature(byte[])"
><A NAME="sendMessageForSignature(byte[])"
><!-- --></A></A></A><H3>
sendMessageForSignature</H3>
<PRE>
private void <B>sendMessageForSignature</B>(byte[]&nbsp;message)</PRE>
<DL>
<DD>Send a message to the other end and save the message for signature
 calculation.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - is the message to send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendReplyInfo()"
><A NAME="sendReplyInfo()"
><A NAME="sendReplyInfo()"
><!-- --></A></A></A><H3>
sendReplyInfo</H3>
<PRE>
private void <B>sendReplyInfo</B>()
                    throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_REPLYINFO packet
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendResume()"
><A NAME="sendResume()"
><A NAME="sendResume()"
><!-- --></A></A></A><H3>
sendResume</H3>
<PRE>
private void <B>sendResume</B>()
                 throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_RESUME packet
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendTry(java.lang.String)"
><A NAME="sendTry(java.lang.String)"
><A NAME="sendTry(java.lang.String)"
><!-- --></A></A></A><H3>
sendTry</H3>
<PRE>
private void <B>sendTry</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;location)
              throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_TRY packet
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="sendYouChose()"
><A NAME="sendYouChose()"
><A NAME="sendYouChose()"
><!-- --></A></A></A><H3>
sendYouChose</H3>
<PRE>
private void <B>sendYouChose</B>()
                   throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Send a TOK_YOUCHOSE packet
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if there is a problem on the send.</DL>
</DD>
</DL>
<HR>

<A NAME="signSent(byte[],byte)"
><A NAME="signSent(byte[],%20byte)"
><A NAME="signSent(byte[], byte)"
><!-- --></A></A></A><H3>
signSent</H3>
<PRE>
private byte[] <B>signSent</B>(byte[]&nbsp;data,
                        byte&nbsp;token)
                 throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Return a our signature on the data sent.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>data</CODE> - The additional data to sign.<DD><CODE>token</CODE> - The startup protocol token being processed for error
              reporting.
<DT><B>Returns:</B><DD>The DSS signature on the data as a byte array.
<DT><B>Throws:</B>
<DD><CODE>ConnectionStartupException</CODE> - For a bunch of "can't occur"
         situations.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="startupError(byte,java.lang.String)"
><A NAME="startupError(byte,%20java.lang.String)"
><A NAME="startupError(byte, java.lang.String)"
><!-- --></A></A></A><H3>
startupError</H3>
<PRE>
private void <B>startupError</B>(byte&nbsp;errorToken,
                          <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;msg)
                   throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Terminate the connection setup protocol with an error that will get
 passed to the remote end too.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>errorToken</CODE> - The error token to be passed to the remote end<DD><CODE>msg</CODE> - A message string describing the error.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="startupError(byte,java.lang.String,java.lang.Throwable)"
><A NAME="startupError(byte,%20java.lang.String,%20java.lang.Throwable)"
><A NAME="startupError(byte, java.lang.String, java.lang.Throwable)"
><!-- --></A></A></A><H3>
startupError</H3>
<PRE>
private void <B>startupError</B>(byte&nbsp;errorToken,
                          <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;msg,
                          <A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;t)
                   throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Terminate the connection setup protocol with an error that will get
 passed to the remote end too.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>errorToken</CODE> - The error token to be passed to the remote end<DD><CODE>msg</CODE> - A message string describing the error.<DD><CODE>t</CODE> - A throwable associated with the error.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="startupLocalError(java.lang.String)"
><A NAME="startupLocalError(java.lang.String)"
><A NAME="startupLocalError(java.lang.String)"
><!-- --></A></A></A><H3>
startupLocalError</H3>
<PRE>
private void <B>startupLocalError</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;msg)</PRE>
<DL>
<DD>Terminate the connection setup protocol with an error.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="startupSuccessful()"
><A NAME="startupSuccessful()"
><A NAME="startupSuccessful()"
><!-- --></A></A></A><H3>
startupSuccessful</H3>
<PRE>
private void <B>startupSuccessful</B>()
                        throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Startup protocol has succeeded, let the messages flow.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="stopStartUpProtocol()"
><A NAME="stopStartUpProtocol()"
><A NAME="stopStartUpProtocol()"
><!-- --></A></A></A><H3>
stopStartUpProtocol</H3>
<PRE>
void <B>stopStartUpProtocol</B>()</PRE>
<DL>
<DD>Stop the start up protocol.  This method is called by the DataPath
 relaying a call from the VatTPMgr when it determines that
 there are two connections being built between this vat and another vat,
 andthat this connection is the one that should be abandonded.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="subbytearray(byte[],int,int)"
><A NAME="subbytearray(byte[],%20int,%20int)"
><A NAME="subbytearray(byte[], int, int)"
><!-- --></A></A></A><H3>
subbytearray</H3>
<PRE>
private byte[] <B>subbytearray</B>(byte[]&nbsp;bytes,
                            int&nbsp;offset,
                            int&nbsp;len)</PRE>
<DL>
<DD>Return a subarray of a given array.
 <p>
 The subarray must be within the given array or an exception will be
     thrown.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bytes</CODE> - The array.<DD><CODE>offset</CODE> - The offset in bytes to the start of the subarray.<DD><CODE>len</CODE> - The length of the subarray.
<DT><B>Returns:</B><DD>A new byte array which is the subarray.</DL>
</DD>
</DL>
<HR>

<A NAME="tokName(int)"
><A NAME="tokName(int)"
><A NAME="tokName(int)"
><!-- --></A></A></A><H3>
tokName</H3>
<PRE>
private static <A HREF="../../../java/lang/String.html"
>String</A> <B>tokName</B>(int&nbsp;tok)</PRE>
<DL>
<DD>Translate a startup protocol message token to a printable string for
 error messages and the like.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tok</CODE> - The integer startup token to represent as a string.
<DT><B>Returns:</B><DD>A string value for the token or TOK_ERR_??? if tok is negative,
         or TOK_??? if tok is positive.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"
><A NAME="navbar_bottom"
><A NAME="navbar_bottom"
><!-- --></A></A></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"
><A NAME="navbar_bottom_firstrow"
><A NAME="navbar_bottom_firstrow"
><!-- --></A></A></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"
><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"
><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"
><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"
><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"
><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"
><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../elib/legacy/api-legend.html"
><FONT CLASS="NavBarFont1"
><B><font color="#009000"><i>Legend</i></font></B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href="../../../../index.html"  target="_top"><img src="../../../../images/e-lambda.gif" border="0"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/vattp/data/SendThread.html"
><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/vattp/data/StreamMessage.html"
><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"
><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="StartUpProtocol.html" TARGET="_top"
><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary"
>METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail"
>METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<center>comments? <a href=http://www.blindpay.com/crit-me-now.cgi><img src=../../../../images/cmn.gif width=98 height=21 border=0 align=middle></a></center>
</BODY>
</HTML>

