<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN""http://www.w3.org/TR/REC-html40/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Wed Jul 02 22:16:09 PDT 2003 -->
<TITLE>
VatTPConnection (ELib API)
</TITLE>
<META NAME="keywords" CONTENT="net.vattp.data.VatTPConnection,VatTPConnection class">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
</HEAD>
<SCRIPT>
function asd()
{
parent.document.title="VatTPConnection (ELib API)";
}
</SCRIPT>
<BODY BGCOLOR="#FFEEDD" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"
><A NAME="navbar_top"
><A NAME="navbar_top"
><!-- --></A></A></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"
><A NAME="navbar_top_firstrow"
><A NAME="navbar_top_firstrow"
><!-- --></A></A></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"
><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"
><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"
><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"
><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"
><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"
><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../elib/legacy/api-legend.html"
><FONT CLASS="NavBarFont1"
><B><font color="#009000"><i>Legend</i></font></B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href="../../../../index.html"  target="_top"><img src="../../../../images/e-lambda.gif" border="0"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/vattp/data/VatIdentity.html"
><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/vattp/data/VatTPMgr.html"
><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"
><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="VatTPConnection.html" TARGET="_top"
><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary"
>METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail"
>METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.vattp.data</FONT>
<BR>
Class VatTPConnection</H2>
<PRE>
<A HREF="../../../java/lang/Object.html"
>java.lang.Object</A>
  |
  +--<B>net.vattp.data.VatTPConnection</B>
</PRE>
<HR>
<DL>
<DT>public final class <B>VatTPConnection</B><DT>extends <A HREF="../../../java/lang/Object.html"
>Object</A></DL>

<P>
<b><i><font color="#FF00FF">Untamed:</font></i></b>
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"
><A NAME="field_summary"
><A NAME="field_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#bytesReceived"
>bytesReceived</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The total bytes of messages received over this VatTPConnection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#bytesSent"
>bytesSent</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The total bytes of messages sent over this VatTPConnection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#DEAD"
>DEAD</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#DIEING"
>DIEING</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#maxReceivedMessageSize"
>maxReceivedMessageSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The size of the largest message received over this VatTPConnection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#maxSentMessageSize"
>maxSentMessageSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The size of the largest message sent over this VatTPConnection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#messagesReceived"
>messagesReceived</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The total number of messages received over this VatTPConnection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#messagesSent"
>messagesSent</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The total number of messages sent over this VatTPConnection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/util/Hashtable.html"
>Hashtable</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myAddressesTried"
>myAddressesTried</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A Hashtable of the InetAddresses tried which failed due to host
  related problems.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myConnMgr"
>myConnMgr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The VatTPMgr we report status changes to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myDataPath"
>myDataPath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The DataPath object we are using.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myFirstAddressToTry"
>myFirstAddressToTry</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The first place to look for the remote vat when resuming the
 connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myFlattenedRemoteSearchPath"
>myFlattenedRemoteSearchPath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The places to search for the remote vat as a semicolon separated
 list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/security/KeyPair.html"
>KeyPair</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myIdentityKeys"
>myIdentityKeys</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The key pair which defines the identity of this vat</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myIncomingDataPath"
>myIncomingDataPath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;During crossed connection resolution, the incoming DataPath.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myIsIncoming"
>myIsIncoming</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Whether we are initiating the connection or responding to a remotely
 initiated connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myLocalFlattenedSearchPath"
>myLocalFlattenedSearchPath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The semicolon separated search path for this vat</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myLocalNetAddr"
>myLocalNetAddr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The InetAddress of the local end, or null if no connection has been
     made</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myLocalSuspendID"
>myLocalSuspendID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The suspend ID we asked the other end to present to resume the
 connection, or null if the connection is not suspended.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myLocalVatID"
>myLocalVatID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myMsgHandlers"
>myMsgHandlers</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array of MsgHandlers indexed by message type</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myOutgoingSuspendID"
>myOutgoingSuspendID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The suspend ID to present to the other end for a resume, or null for
 a new connection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/util/Vector.html"
>Vector</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myPendingOutput"
>myPendingOutput</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Place to queue outgoing messages while myState != RUNNING</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/util/Vector.html"
>Vector</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myProblemAccumulator"
>myProblemAccumulator</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Place to accumulate the results of our search attempts</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/AuthSecrets.html"
>AuthSecrets</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myProtocolParms"
>myProtocolParms</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The protocol versions and authorization parameters</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myRemoteAddr"
>myRemoteAddr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The location the current DataPath are (to) (have been) speaking
     to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myRemoteNetAddr"
>myRemoteNetAddr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The InetAddress of the remote end, or null if no connection has been
     made</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myRemoteVatID"
>myRemoteVatID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The VatID of the other end of the connectiion.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/Throwable.html"
>Throwable</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myShutdownReason"
>myShutdownReason</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The reason shutDownConnection has been called</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../org/erights/e/elib/util/DynamicMapEnumeration.html"
>DynamicMapEnumeration</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#mySiteSearch"
>mySiteSearch</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An enumeration of the places to search for the remote vat</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myState"
>myState</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The current state of this VatTPConnection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#myVat"
>myVat</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The Vat to have the SendThread and RecvThread synchronize on
 when calling methods in this object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#RESUMING"
>RESUMING</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#RUNNING"
>RUNNING</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#STARTING"
>STARTING</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#SUSPENDED"
>SUSPENDED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#SUSPENDING"
>SUSPENDING</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"
><A NAME="constructor_summary"
><A NAME="constructor_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private)</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#VatTPConnection(net.vattp.data.VatTPMgr,java.security.KeyPair,java.lang.String,org.erights.e.elib.vat.Vat,java.lang.String,net.vattp.data.DataPath,java.lang.String,boolean)"
>VatTPConnection</A></B>(<A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A>&nbsp;connMgr,
                <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                <A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;path,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath,
                boolean&nbsp;isIncoming)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make a new VatTPConnection for an incoming connection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private)</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#VatTPConnection(net.vattp.data.VatTPMgr,java.lang.String,java.lang.String,java.security.KeyPair,java.lang.String,org.erights.e.elib.vat.Vat,java.lang.String)"
>VatTPConnection</A></B>(<A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A>&nbsp;connMgr,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;flattenedRemoteSearchPath,
                <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make a new VatTPConnection</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"
><A NAME="method_summary"
><A NAME="method_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#close()"
>close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close the TCP link on this connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#connectPath(net.vattp.data.DataPath,java.lang.String,boolean)"
>connectPath</A></B>(<A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;incomingPath,
            <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
            boolean&nbsp;isIncoming)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connect a DataPath object for an incoming connection to an existing
 VatTPConnection object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#duplicatePath(java.lang.String,net.vattp.data.DataPath)"
>duplicatePath</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;reason,
              <A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Duplicate crossed connection DataPath exiting.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#enqueue(java.lang.Object)"
>enqueue</A></B>(<A HREF="../../../java/lang/Object.html"
>Object</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enqueue a message for output.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#extendSearchPath(org.erights.e.elib.tables.ConstList)"
>extendSearchPath</A></B>(<A HREF="../../../org/erights/e/elib/tables/ConstList.html"
>ConstList</A>&nbsp;addresses)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add an address to the list of addresses to try.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/erights/e/elib/util/ConditionLock.html"
>ConditionLock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#getEmbargoLock()"
>getEmbargoLock</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#getLocalNetAddr()"
>getLocalNetAddr</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Get the NetAddr of the local end, or null if no connection has been
 made.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#getLocalVatID()"
>getLocalVatID</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Get the vatID of the local end.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#getOutgoingSuspendID()"
>getOutgoingSuspendID</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the outgoing suspend ID for resuming a connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#getRemoteNetAddr()"
>getRemoteNetAddr</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Get the NetAddr of the remote end, or null if no connection has been
 made.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/erights/e/elib/tables/ConstList.html"
>ConstList</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#getRemoteSearchPath()"
>getRemoteSearchPath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Get the search path to the remote end</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#getRemoteVatID()"
>getRemoteVatID</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Get the vatID of the remote end.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#getState()"
>getState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the state of this VatTPConnection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#handleConnectionDeath(java.lang.Throwable)"
>handleConnectionDeath</A></B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle the death of the connection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#handleSuspend(byte[])"
>handleSuspend</A></B>(byte[]&nbsp;suspendID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suspend this connection in response to a request from the other end.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#identifiedPathDied(java.lang.String,net.vattp.data.DataPath)"
>identifiedPathDied</A></B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;reason,
                   <A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notice that an identified incoming DataPath has failed to complete the
 startup protocol.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#isChoiceIncoming()"
>isChoiceIncoming</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decide whether to keep incoming connection or outgoing when other end
 asks us to chose on an outgoing connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#makeConnectionStatusReport()"
>makeConnectionStatusReport</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#newIncomingMsg(byte[])"
>newIncomingMsg</A></B>(byte[]&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle a new incoming message from the remote end.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#noticeProblem(java.lang.Throwable)"
>noticeProblem</A></B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;problem)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notice problem on the connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#noticeRemoteResume(byte[])"
>noticeRemoteResume</A></B>(byte[]&nbsp;suspendID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if a connection should be resumed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#recordConnectionFailure(java.lang.Object)"
>recordConnectionFailure</A></B>(<A HREF="../../../java/lang/Object.html"
>Object</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Record why this try failed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#registerMsgHandler(byte,net.vattp.data.MsgHandler)"
>registerMsgHandler</A></B>(byte&nbsp;msgType,
                   <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>&nbsp;handler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Register a MsgHandler for a particular message type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#sendFinished(int,int,net.vattp.data.StreamMessage)"
>sendFinished</A></B>(int&nbsp;count,
             int&nbsp;length,
             <A HREF="../../../net/vattp/data/StreamMessage.html"
>StreamMessage</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sendFinished called when a message has been completely passed to TCP</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#sendMsg(byte[])"
>sendMsg</A></B>(byte[]&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Send a message to the remote vat.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#sendMsg(byte[],java.lang.Runnable,org.erights.e.elib.vat.Vat)"
>sendMsg</A></B>(byte[]&nbsp;message,
        <A HREF="../../../java/lang/Runnable.html"
>Runnable</A>&nbsp;notification,
        <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;placeToRun)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Send a message to the remote vat with notification that it has been
 queued for processing by the TCP/IP stack on the local machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#shutDownConnection()"
>shutDownConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Causes a clean shutdown of the connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#shutDownConnection(java.lang.Throwable)"
>shutDownConnection</A></B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Causes a clean shutdown of the connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#shutDownFinished(java.lang.Throwable)"
>shutDownFinished</A></B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shutDownFinished called when all queued messages have been sent and
 the socket closed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#startResume()"
>startResume</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start trying to resume the connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#startupSuccessful(net.vattp.data.DataPath,java.lang.String,net.vattp.data.NetAddr,net.vattp.data.NetAddr,int,net.vattp.data.AuthSecrets)"
>startupSuccessful</A></B>(<A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;path,
                  <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                  <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A>&nbsp;remoteNetAddr,
                  <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A>&nbsp;localNetAddr,
                  int&nbsp;remotePort,
                  <A HREF="../../../net/vattp/data/AuthSecrets.html"
>AuthSecrets</A>&nbsp;authParms)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by StartUpProtocol when a connection to a remote vat has
 been successfully made.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#suspend()"
>suspend</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Suspend the connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../java/lang/String.html"
>String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#toString()"
>toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#FF0000">Suppressed:</font></i></b>  Describe this connection object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#tryNextAddress()"
>tryNextAddress</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start an attempt to connect to the next (first) address in the list
 of addresses to try.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/vattp/data/VatTPConnection.html#unRegisterMsgHandler(byte,net.vattp.data.MsgHandler)"
>unRegisterMsgHandler</A></B>(byte&nbsp;msgType,
                     <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>&nbsp;handler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the registration for a handler for a particular message type.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"
><A NAME="methods_inherited_from_class_java.lang.Object"
><A NAME="methods_inherited_from_class_java.lang.Object"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.<A HREF="../../../java/lang/Object.html"
>Object</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../java/lang/Object.html#clone()"
>clone</A>, <A HREF="../../../java/lang/Object.html#equals(java.lang.Object)"
>equals</A>, <A HREF="../../../java/lang/Object.html#finalize()"
>finalize</A>, <A HREF="../../../java/lang/Object.html#getClass()"
>getClass</A>, <A HREF="../../../java/lang/Object.html#hashCode()"
>hashCode</A>, <A HREF="../../../java/lang/Object.html#notify()"
>notify</A>, <A HREF="../../../java/lang/Object.html#notifyAll()"
>notifyAll</A>, <A HREF="../../../java/lang/Object.html#wait()"
>wait</A>, <A HREF="../../../java/lang/Object.html#wait(long)"
>wait</A>, <A HREF="../../../java/lang/Object.html#wait(long,int)"
>wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"
><A NAME="field_detail"
><A NAME="field_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="myConnMgr"
><A NAME="myConnMgr"
><A NAME="myConnMgr"
><!-- --></A></A></A><H3>
myConnMgr</H3>
<PRE>
private final <A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A> <B>myConnMgr</B></PRE>
<DL>
<DD>The VatTPMgr we report status changes to.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myDataPath"
><A NAME="myDataPath"
><A NAME="myDataPath"
><!-- --></A></A></A><H3>
myDataPath</H3>
<PRE>
private <A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A> <B>myDataPath</B></PRE>
<DL>
<DD>The DataPath object we are using.  During crossed connection
 resolution, the outbound path.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myIncomingDataPath"
><A NAME="myIncomingDataPath"
><A NAME="myIncomingDataPath"
><!-- --></A></A></A><H3>
myIncomingDataPath</H3>
<PRE>
private <A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A> <B>myIncomingDataPath</B></PRE>
<DL>
<DD>During crossed connection resolution, the incoming DataPath.
 Otherwise null.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myMsgHandlers"
><A NAME="myMsgHandlers"
><A NAME="myMsgHandlers"
><!-- --></A></A></A><H3>
myMsgHandlers</H3>
<PRE>
private final <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>[] <B>myMsgHandlers</B></PRE>
<DL>
<DD>Array of MsgHandlers indexed by message type
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mySiteSearch"
><A NAME="mySiteSearch"
><A NAME="mySiteSearch"
><!-- --></A></A></A><H3>
mySiteSearch</H3>
<PRE>
private <A HREF="../../../org/erights/e/elib/util/DynamicMapEnumeration.html"
>DynamicMapEnumeration</A> <B>mySiteSearch</B></PRE>
<DL>
<DD>An enumeration of the places to search for the remote vat
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myAddressesTried"
><A NAME="myAddressesTried"
><A NAME="myAddressesTried"
><!-- --></A></A></A><H3>
myAddressesTried</H3>
<PRE>
private <A HREF="../../../java/util/Hashtable.html"
>Hashtable</A> <B>myAddressesTried</B></PRE>
<DL>
<DD>A Hashtable of the InetAddresses tried which failed due to host
  related problems.  They are not to be tried again in this attempt
  to connect to the vat.  The key is InetAddress,
  data is InetAddress.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myFirstAddressToTry"
><A NAME="myFirstAddressToTry"
><A NAME="myFirstAddressToTry"
><!-- --></A></A></A><H3>
myFirstAddressToTry</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>myFirstAddressToTry</B></PRE>
<DL>
<DD>The first place to look for the remote vat when resuming the
 connection.  This value is "" when there is no better guesses
 than come from a VLS lookup.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myFlattenedRemoteSearchPath"
><A NAME="myFlattenedRemoteSearchPath"
><A NAME="myFlattenedRemoteSearchPath"
><!-- --></A></A></A><H3>
myFlattenedRemoteSearchPath</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>myFlattenedRemoteSearchPath</B></PRE>
<DL>
<DD>The places to search for the remote vat as a semicolon separated
 list.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myRemoteAddr"
><A NAME="myRemoteAddr"
><A NAME="myRemoteAddr"
><!-- --></A></A></A><H3>
myRemoteAddr</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>myRemoteAddr</B></PRE>
<DL>
<DD>The location the current DataPath are (to) (have been) speaking
     to.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myRemoteNetAddr"
><A NAME="myRemoteNetAddr"
><A NAME="myRemoteNetAddr"
><!-- --></A></A></A><H3>
myRemoteNetAddr</H3>
<PRE>
private <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A> <B>myRemoteNetAddr</B></PRE>
<DL>
<DD>The InetAddress of the remote end, or null if no connection has been
     made
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myLocalNetAddr"
><A NAME="myLocalNetAddr"
><A NAME="myLocalNetAddr"
><!-- --></A></A></A><H3>
myLocalNetAddr</H3>
<PRE>
private <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A> <B>myLocalNetAddr</B></PRE>
<DL>
<DD>The InetAddress of the local end, or null if no connection has been
     made
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myRemoteVatID"
><A NAME="myRemoteVatID"
><A NAME="myRemoteVatID"
><!-- --></A></A></A><H3>
myRemoteVatID</H3>
<PRE>
private final <A HREF="../../../java/lang/String.html"
>String</A> <B>myRemoteVatID</B></PRE>
<DL>
<DD>The VatID of the other end of the connectiion. May be null.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myVat"
><A NAME="myVat"
><A NAME="myVat"
><!-- --></A></A></A><H3>
myVat</H3>
<PRE>
private final <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A> <B>myVat</B></PRE>
<DL>
<DD>The Vat to have the SendThread and RecvThread synchronize on
 when calling methods in this object.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myIdentityKeys"
><A NAME="myIdentityKeys"
><A NAME="myIdentityKeys"
><!-- --></A></A></A><H3>
myIdentityKeys</H3>
<PRE>
private final <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A> <B>myIdentityKeys</B></PRE>
<DL>
<DD>The key pair which defines the identity of this vat
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myLocalVatID"
><A NAME="myLocalVatID"
><A NAME="myLocalVatID"
><!-- --></A></A></A><H3>
myLocalVatID</H3>
<PRE>
private final <A HREF="../../../java/lang/String.html"
>String</A> <B>myLocalVatID</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myLocalFlattenedSearchPath"
><A NAME="myLocalFlattenedSearchPath"
><A NAME="myLocalFlattenedSearchPath"
><!-- --></A></A></A><H3>
myLocalFlattenedSearchPath</H3>
<PRE>
private final <A HREF="../../../java/lang/String.html"
>String</A> <B>myLocalFlattenedSearchPath</B></PRE>
<DL>
<DD>The semicolon separated search path for this vat
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myShutdownReason"
><A NAME="myShutdownReason"
><A NAME="myShutdownReason"
><!-- --></A></A></A><H3>
myShutdownReason</H3>
<PRE>
private <A HREF="../../../java/lang/Throwable.html"
>Throwable</A> <B>myShutdownReason</B></PRE>
<DL>
<DD>The reason shutDownConnection has been called
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="STARTING"
><A NAME="STARTING"
><A NAME="STARTING"
><!-- --></A></A></A><H3>
STARTING</H3>
<PRE>
private static final byte <B>STARTING</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="RUNNING"
><A NAME="RUNNING"
><A NAME="RUNNING"
><!-- --></A></A></A><H3>
RUNNING</H3>
<PRE>
private static final byte <B>RUNNING</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="SUSPENDING"
><A NAME="SUSPENDING"
><A NAME="SUSPENDING"
><!-- --></A></A></A><H3>
SUSPENDING</H3>
<PRE>
private static final byte <B>SUSPENDING</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="SUSPENDED"
><A NAME="SUSPENDED"
><A NAME="SUSPENDED"
><!-- --></A></A></A><H3>
SUSPENDED</H3>
<PRE>
private static final byte <B>SUSPENDED</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="RESUMING"
><A NAME="RESUMING"
><A NAME="RESUMING"
><!-- --></A></A></A><H3>
RESUMING</H3>
<PRE>
private static final byte <B>RESUMING</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="DIEING"
><A NAME="DIEING"
><A NAME="DIEING"
><!-- --></A></A></A><H3>
DIEING</H3>
<PRE>
private static final byte <B>DIEING</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="DEAD"
><A NAME="DEAD"
><A NAME="DEAD"
><!-- --></A></A></A><H3>
DEAD</H3>
<PRE>
private static final byte <B>DEAD</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myState"
><A NAME="myState"
><A NAME="myState"
><!-- --></A></A></A><H3>
myState</H3>
<PRE>
private byte <B>myState</B></PRE>
<DL>
<DD>The current state of this VatTPConnection
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myPendingOutput"
><A NAME="myPendingOutput"
><A NAME="myPendingOutput"
><!-- --></A></A></A><H3>
myPendingOutput</H3>
<PRE>
private <A HREF="../../../java/util/Vector.html"
>Vector</A> <B>myPendingOutput</B></PRE>
<DL>
<DD>Place to queue outgoing messages while myState != RUNNING
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myProblemAccumulator"
><A NAME="myProblemAccumulator"
><A NAME="myProblemAccumulator"
><!-- --></A></A></A><H3>
myProblemAccumulator</H3>
<PRE>
private <A HREF="../../../java/util/Vector.html"
>Vector</A> <B>myProblemAccumulator</B></PRE>
<DL>
<DD>Place to accumulate the results of our search attempts
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myIsIncoming"
><A NAME="myIsIncoming"
><A NAME="myIsIncoming"
><!-- --></A></A></A><H3>
myIsIncoming</H3>
<PRE>
private boolean <B>myIsIncoming</B></PRE>
<DL>
<DD>Whether we are initiating the connection or responding to a remotely
 initiated connection.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myOutgoingSuspendID"
><A NAME="myOutgoingSuspendID"
><A NAME="myOutgoingSuspendID"
><!-- --></A></A></A><H3>
myOutgoingSuspendID</H3>
<PRE>
private byte[] <B>myOutgoingSuspendID</B></PRE>
<DL>
<DD>The suspend ID to present to the other end for a resume, or null for
 a new connection
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myLocalSuspendID"
><A NAME="myLocalSuspendID"
><A NAME="myLocalSuspendID"
><!-- --></A></A></A><H3>
myLocalSuspendID</H3>
<PRE>
private byte[] <B>myLocalSuspendID</B></PRE>
<DL>
<DD>The suspend ID we asked the other end to present to resume the
 connection, or null if the connection is not suspended.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myProtocolParms"
><A NAME="myProtocolParms"
><A NAME="myProtocolParms"
><!-- --></A></A></A><H3>
myProtocolParms</H3>
<PRE>
private <A HREF="../../../net/vattp/data/AuthSecrets.html"
>AuthSecrets</A> <B>myProtocolParms</B></PRE>
<DL>
<DD>The protocol versions and authorization parameters
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="bytesReceived"
><A NAME="bytesReceived"
><A NAME="bytesReceived"
><!-- --></A></A></A><H3>
bytesReceived</H3>
<PRE>
private long <B>bytesReceived</B></PRE>
<DL>
<DD>The total bytes of messages received over this VatTPConnection
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="messagesReceived"
><A NAME="messagesReceived"
><A NAME="messagesReceived"
><!-- --></A></A></A><H3>
messagesReceived</H3>
<PRE>
private long <B>messagesReceived</B></PRE>
<DL>
<DD>The total number of messages received over this VatTPConnection
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="maxReceivedMessageSize"
><A NAME="maxReceivedMessageSize"
><A NAME="maxReceivedMessageSize"
><!-- --></A></A></A><H3>
maxReceivedMessageSize</H3>
<PRE>
private int <B>maxReceivedMessageSize</B></PRE>
<DL>
<DD>The size of the largest message received over this VatTPConnection
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="bytesSent"
><A NAME="bytesSent"
><A NAME="bytesSent"
><!-- --></A></A></A><H3>
bytesSent</H3>
<PRE>
private long <B>bytesSent</B></PRE>
<DL>
<DD>The total bytes of messages sent over this VatTPConnection
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="messagesSent"
><A NAME="messagesSent"
><A NAME="messagesSent"
><!-- --></A></A></A><H3>
messagesSent</H3>
<PRE>
private long <B>messagesSent</B></PRE>
<DL>
<DD>The total number of messages sent over this VatTPConnection
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="maxSentMessageSize"
><A NAME="maxSentMessageSize"
><A NAME="maxSentMessageSize"
><!-- --></A></A></A><H3>
maxSentMessageSize</H3>
<PRE>
private int <B>maxSentMessageSize</B></PRE>
<DL>
<DD>The size of the largest message sent over this VatTPConnection
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"
><A NAME="constructor_detail"
><A NAME="constructor_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="VatTPConnection(net.vattp.data.VatTPMgr,java.lang.String,java.lang.String,java.security.KeyPair,java.lang.String,org.erights.e.elib.vat.Vat,java.lang.String)"
><A NAME="VatTPConnection(net.vattp.data.VatTPMgr,%20java.lang.String,%20java.lang.String,%20java.security.KeyPair,%20java.lang.String,%20org.erights.e.elib.vat.Vat,%20java.lang.String)"
><A NAME="VatTPConnection(net.vattp.data.VatTPMgr, java.lang.String, java.lang.String, java.security.KeyPair, java.lang.String, org.erights.e.elib.vat.Vat, java.lang.String)"
><!-- --></A></A></A><H3>
VatTPConnection</H3>
<PRE>
<B>VatTPConnection</B>(<A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A>&nbsp;connMgr,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;flattenedRemoteSearchPath,
                <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath)</PRE>
<DL>
<DD>Make a new VatTPConnection
<P>
<DT><B>Parameters:</B><DD><CODE>connMgr</CODE> - The VatTPMgr to notify of status
 changes.<DD><CODE>remoteVatID</CODE> - the vatID of the remote vat<DD><CODE>flattenedRemoteSearchPath</CODE> - is a pathlist of Strings each of which
 is the IP address and port number of a place to look for the remote vat.
 The IP address can be a DNS name or a dot repsentation of the 32 bit IP
 number.  Most commonly, the Strings will be the location of the Vat
 Location Servers (VLSs) with which the remote vat is believed to
 register.<DD><CODE>identityKeys</CODE> - is the KeyPair which defines the identity of this
 vat.<DD><CODE>vat</CODE> - is the Vat whose thread we use to synchronize calls into the
 VatTPConnection object from the SendThread and ReceiveThread<DD><CODE>localFlattenedSearchPath</CODE> - Is the search path we publish for
 references to us, flattened into a string.</DL>
<HR>

<A NAME="VatTPConnection(net.vattp.data.VatTPMgr,java.security.KeyPair,java.lang.String,org.erights.e.elib.vat.Vat,java.lang.String,net.vattp.data.DataPath,java.lang.String,boolean)"
><A NAME="VatTPConnection(net.vattp.data.VatTPMgr,%20java.security.KeyPair,%20java.lang.String,%20org.erights.e.elib.vat.Vat,%20java.lang.String,%20net.vattp.data.DataPath,%20java.lang.String,%20boolean)"
><A NAME="VatTPConnection(net.vattp.data.VatTPMgr, java.security.KeyPair, java.lang.String, org.erights.e.elib.vat.Vat, java.lang.String, net.vattp.data.DataPath, java.lang.String, boolean)"
><!-- --></A></A></A><H3>
VatTPConnection</H3>
<PRE>
<B>VatTPConnection</B>(<A HREF="../../../net/vattp/data/VatTPMgr.html"
>VatTPMgr</A>&nbsp;connMgr,
                <A HREF="../../../java/security/KeyPair.html"
>KeyPair</A>&nbsp;identityKeys,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localVatID,
                <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;vat,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                <A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;path,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;localFlattenedSearchPath,
                boolean&nbsp;isIncoming)
          throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Make a new VatTPConnection for an incoming connection
<P>
<DT><B>Parameters:</B><DD><CODE>connMgr</CODE> - The VatTPMgr to notify of status
 changes.<DD><CODE>identityKeys</CODE> - is the KeyPair which defines the identity of this
 vat.<DD><CODE>localVatID</CODE> - is the vatID of the local vat.<DD><CODE>vat</CODE> - is the Vat whose thread we use to synchronize
                   calls into the VatTPConnection object from the
                   SendThread and ReceiveThread<DD><CODE>remoteVatID</CODE> - is the vatID of the remote vat.<DD><CODE>path</CODE> - The DataPath object controlling the TCP connection.<DD><CODE>localFlattenedSearchPath</CODE> - Is the search path we publish for
 references to us, flattened into a string.<DD><CODE>isIncoming</CODE> - is true if this connection is an incoming connection,
        otherwise false.</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"
><A NAME="method_detail"
><A NAME="method_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getEmbargoLock()"
><A NAME="getEmbargoLock()"
><A NAME="getEmbargoLock()"
><!-- --></A></A></A><H3>
getEmbargoLock</H3>
<PRE>
public <A HREF="../../../org/erights/e/elib/util/ConditionLock.html"
>ConditionLock</A> <B>getEmbargoLock</B>()</PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="close()"
><A NAME="close()"
><A NAME="close()"
><!-- --></A></A></A><H3>
close</H3>
<PRE>
void <B>close</B>()</PRE>
<DL>
<DD>Close the TCP link on this connection.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="connectPath(net.vattp.data.DataPath,java.lang.String,boolean)"
><A NAME="connectPath(net.vattp.data.DataPath,%20java.lang.String,%20boolean)"
><A NAME="connectPath(net.vattp.data.DataPath, java.lang.String, boolean)"
><!-- --></A></A></A><H3>
connectPath</H3>
<PRE>
int <B>connectPath</B>(<A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;incomingPath,
                <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                boolean&nbsp;isIncoming)</PRE>
<DL>
<DD>Connect a DataPath object for an incoming connection to an existing
 VatTPConnection object.  This call is where we first know that there
 is a crossed connection problem.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>incomingPath</CODE> - is the DataPath object for the incoming connection.<DD><CODE>remoteVatID</CODE> - is the vatID of the remote vat.<DD><CODE>isIncoming</CODE> - is true if the DataPath represents an incoming TCP
        connection, is false if it is an outgoing TCP connection.
<DT><B>Returns:</B><DD>LIVES_CONTINUE - Continue setting up this connection
 <br>     LIVES_DUP - This connection is a duplicate, discard it.
 <br>     LIVES_NOTIFY - Notify the other end of a duplicate connection.
                         The other end must decide which connection to keep.</DL>
</DD>
</DL>
<HR>

<A NAME="duplicatePath(java.lang.String,net.vattp.data.DataPath)"
><A NAME="duplicatePath(java.lang.String,%20net.vattp.data.DataPath)"
><A NAME="duplicatePath(java.lang.String, net.vattp.data.DataPath)"
><!-- --></A></A></A><H3>
duplicatePath</H3>
<PRE>
void <B>duplicatePath</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;reason,
                   <A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;path)</PRE>
<DL>
<DD>Duplicate crossed connection DataPath exiting.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reason</CODE> - is the reason this is a duplicate.<DD><CODE>path</CODE> - is the path which has been declared duplicate.</DL>
</DD>
</DL>
<HR>

<A NAME="enqueue(java.lang.Object)"
><A NAME="enqueue(java.lang.Object)"
><A NAME="enqueue(java.lang.Object)"
><!-- --></A></A></A><H3>
enqueue</H3>
<PRE>
private void <B>enqueue</B>(<A HREF="../../../java/lang/Object.html"
>Object</A>&nbsp;message)
              throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Enqueue a message for output.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - the message to queue
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - if state is DEAD or DIEING</DL>
</DD>
</DL>
<HR>

<A NAME="extendSearchPath(org.erights.e.elib.tables.ConstList)"
><A NAME="extendSearchPath(org.erights.e.elib.tables.ConstList)"
><A NAME="extendSearchPath(org.erights.e.elib.tables.ConstList)"
><!-- --></A></A></A><H3>
extendSearchPath</H3>
<PRE>
void <B>extendSearchPath</B>(<A HREF="../../../org/erights/e/elib/tables/ConstList.html"
>ConstList</A>&nbsp;addresses)</PRE>
<DL>
<DD>Add an address to the list of addresses to try.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>addresses</CODE> - An array of Strings of the addresses to add.</DL>
</DD>
</DL>
<HR>

<A NAME="getLocalNetAddr()"
><A NAME="getLocalNetAddr()"
><A NAME="getLocalNetAddr()"
><!-- --></A></A></A><H3>
getLocalNetAddr</H3>
<PRE>
public <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A> <B>getLocalNetAddr</B>()</PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Get the NetAddr of the local end, or null if no connection has been
 made.  If the connection is suspended or dead, this address will be
 the last address used when there was a live connection.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the NetAddr of the local end or null if no connection has been
      made.</DL>
</DD>
</DL>
<HR>

<A NAME="getLocalVatID()"
><A NAME="getLocalVatID()"
><A NAME="getLocalVatID()"
><!-- --></A></A></A><H3>
getLocalVatID</H3>
<PRE>
public <A HREF="../../../java/lang/String.html"
>String</A> <B>getLocalVatID</B>()</PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Get the vatID of the local end.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the vatID of the local identity as a string.</DL>
</DD>
</DL>
<HR>

<A NAME="getOutgoingSuspendID()"
><A NAME="getOutgoingSuspendID()"
><A NAME="getOutgoingSuspendID()"
><!-- --></A></A></A><H3>
getOutgoingSuspendID</H3>
<PRE>
byte[] <B>getOutgoingSuspendID</B>()</PRE>
<DL>
<DD>Get the outgoing suspend ID for resuming a connection.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>is the suspend ID or null if the connection is not suspended.</DL>
</DD>
</DL>
<HR>

<A NAME="getRemoteNetAddr()"
><A NAME="getRemoteNetAddr()"
><A NAME="getRemoteNetAddr()"
><!-- --></A></A></A><H3>
getRemoteNetAddr</H3>
<PRE>
public <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A> <B>getRemoteNetAddr</B>()</PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Get the NetAddr of the remote end, or null if no connection has been
 made.  If the connection is suspended or dead, this address will be
 the last address used when there was a live connection.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the NetAddr of the remote end or null if no connection has been
      made.</DL>
</DD>
</DL>
<HR>

<A NAME="getRemoteSearchPath()"
><A NAME="getRemoteSearchPath()"
><A NAME="getRemoteSearchPath()"
><!-- --></A></A></A><H3>
getRemoteSearchPath</H3>
<PRE>
public <A HREF="../../../org/erights/e/elib/tables/ConstList.html"
>ConstList</A> <B>getRemoteSearchPath</B>()</PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Get the search path to the remote end
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getRemoteVatID()"
><A NAME="getRemoteVatID()"
><A NAME="getRemoteVatID()"
><!-- --></A></A></A><H3>
getRemoteVatID</H3>
<PRE>
public <A HREF="../../../java/lang/String.html"
>String</A> <B>getRemoteVatID</B>()</PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Get the vatID of the remote end.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the vatID of the remote end as a string.</DL>
</DD>
</DL>
<HR>

<A NAME="getState()"
><A NAME="getState()"
><A NAME="getState()"
><!-- --></A></A></A><H3>
getState</H3>
<PRE>
int <B>getState</B>()</PRE>
<DL>
<DD>Get the state of this VatTPConnection.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>is the current state (STARTING, RUNNING, DIEING etc.) of this
          VatTPConnection object.</DL>
</DD>
</DL>
<HR>

<A NAME="handleConnectionDeath(java.lang.Throwable)"
><A NAME="handleConnectionDeath(java.lang.Throwable)"
><A NAME="handleConnectionDeath(java.lang.Throwable)"
><!-- --></A></A></A><H3>
handleConnectionDeath</H3>
<PRE>
private void <B>handleConnectionDeath</B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</PRE>
<DL>
<DD>Handle the death of the connection
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="handleSuspend(byte[])"
><A NAME="handleSuspend(byte[])"
><A NAME="handleSuspend(byte[])"
><!-- --></A></A></A><H3>
handleSuspend</H3>
<PRE>
void <B>handleSuspend</B>(byte[]&nbsp;suspendID)
             throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Suspend this connection in response to a request from the other end.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>suspendID</CODE> - is the ID we will need to present to resume the connection.
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="identifiedPathDied(java.lang.String,net.vattp.data.DataPath)"
><A NAME="identifiedPathDied(java.lang.String,%20net.vattp.data.DataPath)"
><A NAME="identifiedPathDied(java.lang.String, net.vattp.data.DataPath)"
><!-- --></A></A></A><H3>
identifiedPathDied</H3>
<PRE>
void <B>identifiedPathDied</B>(<A HREF="../../../java/lang/String.html"
>String</A>&nbsp;reason,
                        <A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;path)</PRE>
<DL>
<DD>Notice that an identified incoming DataPath has failed to complete the
 startup protocol.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>path</CODE> - is the DataPath object which failed.</DL>
</DD>
</DL>
<HR>

<A NAME="isChoiceIncoming()"
><A NAME="isChoiceIncoming()"
><A NAME="isChoiceIncoming()"
><!-- --></A></A></A><H3>
isChoiceIncoming</H3>
<PRE>
boolean <B>isChoiceIncoming</B>()</PRE>
<DL>
<DD>Decide whether to keep incoming connection or outgoing when other end
 asks us to chose on an outgoing connection.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true - Keep the incoming connection of the pair.
 <br>     false - Keep the outgoing connection of the pair.</DL>
</DD>
</DL>
<HR>

<A NAME="makeConnectionStatusReport()"
><A NAME="makeConnectionStatusReport()"
><A NAME="makeConnectionStatusReport()"
><!-- --></A></A></A><H3>
makeConnectionStatusReport</H3>
<PRE>
private <A HREF="../../../java/lang/String.html"
>String</A> <B>makeConnectionStatusReport</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="newIncomingMsg(byte[])"
><A NAME="newIncomingMsg(byte[])"
><A NAME="newIncomingMsg(byte[])"
><!-- --></A></A></A><H3>
newIncomingMsg</H3>
<PRE>
void <B>newIncomingMsg</B>(byte[]&nbsp;message)</PRE>
<DL>
<DD>Handle a new incoming message from the remote end.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - the incoming message as a byte array.  The first
 character is the message type as defined in class Msg.</DL>
</DD>
</DL>
<HR>

<A NAME="noticeProblem(java.lang.Throwable)"
><A NAME="noticeProblem(java.lang.Throwable)"
><A NAME="noticeProblem(java.lang.Throwable)"
><!-- --></A></A></A><H3>
noticeProblem</H3>
<PRE>
void <B>noticeProblem</B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;problem)</PRE>
<DL>
<DD>Notice problem on the connection.  This method is called by the Send and
 Recv threads when they encounter a fatal error and give up.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>problem</CODE> - The exception which describes the problem</DL>
</DD>
</DL>
<HR>

<A NAME="noticeRemoteResume(byte[])"
><A NAME="noticeRemoteResume(byte[])"
><A NAME="noticeRemoteResume(byte[])"
><!-- --></A></A></A><H3>
noticeRemoteResume</H3>
<PRE>
boolean <B>noticeRemoteResume</B>(byte[]&nbsp;suspendID)</PRE>
<DL>
<DD>Check if a connection should be resumed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>suspendID</CODE> - The secret that the other side must know to resume a
 connection or null if this is a new connection.
<DT><B>Returns:</B><DD>true if the connection should be completed.
      <p>false if the connection should be abandoned.</DL>
</DD>
</DL>
<HR>

<A NAME="recordConnectionFailure(java.lang.Object)"
><A NAME="recordConnectionFailure(java.lang.Object)"
><A NAME="recordConnectionFailure(java.lang.Object)"
><!-- --></A></A></A><H3>
recordConnectionFailure</H3>
<PRE>
void <B>recordConnectionFailure</B>(<A HREF="../../../java/lang/Object.html"
>Object</A>&nbsp;msg)</PRE>
<DL>
<DD>Record why this try failed.  When the path is shutdown, the next
 location in the search order will be tried.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - A String or Throwable describing the reason for
      abandoning this try.</DL>
</DD>
</DL>
<HR>

<A NAME="registerMsgHandler(byte,net.vattp.data.MsgHandler)"
><A NAME="registerMsgHandler(byte,%20net.vattp.data.MsgHandler)"
><A NAME="registerMsgHandler(byte, net.vattp.data.MsgHandler)"
><!-- --></A></A></A><H3>
registerMsgHandler</H3>
<PRE>
public void <B>registerMsgHandler</B>(byte&nbsp;msgType,
                               <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>&nbsp;handler)
                        throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Register a MsgHandler for a particular message type.  It will be called
 whenever a new message of the specified type arrives.  It will also
 be called when the connection dies.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msgType</CODE> - is the message type. It must be chosen from the types
 defined in the definition class Msg.  An IOException is thrown if an
 attempt is made to register more
 than one handler for a message type.

 <p>An assertion is made that the msgType is not out of range.
 An assertion is made that no attempts are made to
 register a handler after the reactToNewConnection
 method of the object registered with the VatTPMgr has
 returned.<DD><CODE>handler</CODE> - is an object which implements the MsgHandler interface.
 It will be called with processMessage when a message
 of msgType is received from the remote vat.  It will be called with
 connectionDead when this connection dies.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if
 there is already a different handler registered for this message type.<DT><B>See Also:</B><DD><A HREF="../../../net/vattp/data/Msg.html"
><CODE>Msg</CODE></A>, 
<A HREF="../../../net/vattp/data/MsgHandler.html"
><CODE>MsgHandler</CODE></A>, 
<A HREF="../../../net/vattp/data/VatTPMgr.html"
><CODE>VatTPMgr</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="sendFinished(int,int,net.vattp.data.StreamMessage)"
><A NAME="sendFinished(int,%20int,%20net.vattp.data.StreamMessage)"
><A NAME="sendFinished(int, int, net.vattp.data.StreamMessage)"
><!-- --></A></A></A><H3>
sendFinished</H3>
<PRE>
void <B>sendFinished</B>(int&nbsp;count,
                  int&nbsp;length,
                  <A HREF="../../../net/vattp/data/StreamMessage.html"
>StreamMessage</A>&nbsp;msg)</PRE>
<DL>
<DD>sendFinished called when a message has been completely passed to TCP
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>length</CODE> - The size of the message passed to TCP.</DL>
</DD>
</DL>
<HR>

<A NAME="sendMsg(byte[])"
><A NAME="sendMsg(byte[])"
><A NAME="sendMsg(byte[])"
><!-- --></A></A></A><H3>
sendMsg</H3>
<PRE>
public void <B>sendMsg</B>(byte[]&nbsp;message)
             throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Send a message to the remote vat.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - is the message to be sent. It must not be altered after
 the call to sendMsg. The first byte of message is the message type and
 must be chosen from the types defined in the definition class Msg.
 (These two restrictions allow sendMsg to avoid copying the message
 into a private buffer.)
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if the message can not be queued to
 be sent because the connection has broken, if the message is longer
 than, Msg.MAX_OUTBOUND_MSG_LENGTH, or if there is no listener
 registered to process messages of this message's message type.<DT><B>See Also:</B><DD><A HREF="../../../net/vattp/data/Msg.html"
><CODE>Msg</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="sendMsg(byte[],java.lang.Runnable,org.erights.e.elib.vat.Vat)"
><A NAME="sendMsg(byte[],%20java.lang.Runnable,%20org.erights.e.elib.vat.Vat)"
><A NAME="sendMsg(byte[], java.lang.Runnable, org.erights.e.elib.vat.Vat)"
><!-- --></A></A></A><H3>
sendMsg</H3>
<PRE>
public void <B>sendMsg</B>(byte[]&nbsp;message,
                    <A HREF="../../../java/lang/Runnable.html"
>Runnable</A>&nbsp;notification,
                    <A HREF="../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;placeToRun)
             throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Send a message to the remote vat with notification that it has been
 queued for processing by the TCP/IP stack on the local machine.
 This call is designed to allow messaging with flow control.  By only
 sending short message segments, and waiting for notification
 before sending the next segment,
 a caller can limit the buffering required by the communication system.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - is the message to be sent. It must not be altered after
 the call to sendMsg. The first byte of message is the message type and
 must be chosen from the types defined in the definition class Msg.
 (These two restrictions allow sendMsg to avoid copying the message
 into a private buffer.)<DD><CODE>notification</CODE> - is the Runnable which will be enqueued when
 the message has been passed to the platform's TCP stack.<DD><CODE>placeToRun</CODE> - is the Vat where the notification will be
 enqueued.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if the message can not be queued to
 be sent because the connection has broken, if the message is longer
 than, Msg.MAX_OUTBOUND_MSG_LENGTH, or if there is no listener
 registered to process messages of this message's message type.<DT><B>See Also:</B><DD><A HREF="../../../net/vattp/data/Msg.html"
><CODE>Msg</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="shutDownConnection()"
><A NAME="shutDownConnection()"
><A NAME="shutDownConnection()"
><!-- --></A></A></A><H3>
shutDownConnection</H3>
<PRE>
public void <B>shutDownConnection</B>()</PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Causes a clean shutdown of the connection.  All messages sent
 (XXX markm asks: "All messages sent" or "All messages queued to be
 sent"?)
 previously will be sent.  When the shut down is complete, the
 connectionDead method will be called on all registered MsgHandlers.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="shutDownConnection(java.lang.Throwable)"
><A NAME="shutDownConnection(java.lang.Throwable)"
><A NAME="shutDownConnection(java.lang.Throwable)"
><!-- --></A></A></A><H3>
shutDownConnection</H3>
<PRE>
public void <B>shutDownConnection</B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Causes a clean shutdown of the connection.  All messages sent
 (XXX markm asks: "All messages sent" or "All messages queued to be
 sent"?)
 previously will be sent.  When the shut down is complete, the
 connectionDead method will be called on all registered MsgHandlers.
 <p>
 XXX markm: I made this public, and changed ProxyConnection to call
 this with a non-ConnectionShutDownException.  As far as I can tell,
 this shouldn't break anything.  But Bill, it would be good for you
 to double check this.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reason</CODE> - indicates why the connection is shutting down</DL>
</DD>
</DL>
<HR>

<A NAME="shutDownFinished(java.lang.Throwable)"
><A NAME="shutDownFinished(java.lang.Throwable)"
><A NAME="shutDownFinished(java.lang.Throwable)"
><!-- --></A></A></A><H3>
shutDownFinished</H3>
<PRE>
void <B>shutDownFinished</B>(<A HREF="../../../java/lang/Throwable.html"
>Throwable</A>&nbsp;reason)</PRE>
<DL>
<DD>shutDownFinished called when all queued messages have been sent and
 the socket closed.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="startResume()"
><A NAME="startResume()"
><A NAME="startResume()"
><!-- --></A></A></A><H3>
startResume</H3>
<PRE>
private void <B>startResume</B>()</PRE>
<DL>
<DD>Start trying to resume the connection.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="startupSuccessful(net.vattp.data.DataPath,java.lang.String,net.vattp.data.NetAddr,net.vattp.data.NetAddr,int,net.vattp.data.AuthSecrets)"
><A NAME="startupSuccessful(net.vattp.data.DataPath,%20java.lang.String,%20net.vattp.data.NetAddr,%20net.vattp.data.NetAddr,%20int,%20net.vattp.data.AuthSecrets)"
><A NAME="startupSuccessful(net.vattp.data.DataPath, java.lang.String, net.vattp.data.NetAddr, net.vattp.data.NetAddr, int, net.vattp.data.AuthSecrets)"
><!-- --></A></A></A><H3>
startupSuccessful</H3>
<PRE>
void <B>startupSuccessful</B>(<A HREF="../../../net/vattp/data/DataPath.html"
>DataPath</A>&nbsp;path,
                       <A HREF="../../../java/lang/String.html"
>String</A>&nbsp;remoteVatID,
                       <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A>&nbsp;remoteNetAddr,
                       <A HREF="../../../net/vattp/data/NetAddr.html"
>NetAddr</A>&nbsp;localNetAddr,
                       int&nbsp;remotePort,
                       <A HREF="../../../net/vattp/data/AuthSecrets.html"
>AuthSecrets</A>&nbsp;authParms)</PRE>
<DL>
<DD>Called by StartUpProtocol when a connection to a remote vat has
 been successfully made.  The StartUpProtocol object has unregistered
 its MsgHandlers and is ready to become garbage.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>path</CODE> - is the DataPath object which made the connection.<DD><CODE>remoteVatID</CODE> - is the vatID of the remote vat.<DD><CODE>remoteNetAddr</CODE> - is the remote end's network address.<DD><CODE>localNetAddr</CODE> - is the local end's network address.<DD><CODE>remotePort</CODE> - is the remote port number we tried to connect to,
          or 0 if this is an inbound connection (or the port number
          is unavailable for some other reason).  This port number
          will be used if we need to resume the connection later.<DD><CODE>authParms</CODE> - is the AuthSecrets object which contains the
          protocol versions and authorization parameters for the connection.</DL>
</DD>
</DL>
<HR>

<A NAME="suspend()"
><A NAME="suspend()"
><A NAME="suspend()"
><!-- --></A></A></A><H3>
suspend</H3>
<PRE>
public void <B>suspend</B>()
             throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Suspend the connection.  Note that this method is NOT part of the
 published API.  It is public to enable testing of the
 suspend/resume logic.  (Popular demand could cause it to remain
 public.)

 <p>Suspended connections will be automatically resumed when data
 is sent to them with sendMsg().
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - if the connection isn't in the RUNNING state.</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"
><A NAME="toString()"
><A NAME="toString()"
><!-- --></A></A></A><H3>
toString</H3>
<PRE>
public <A HREF="../../../java/lang/String.html"
>String</A> <B>toString</B>()</PRE>
<DL>
<DD><b><i><font color="#FF0000">Suppressed:</font></i></b>  Describe this connection object.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../java/lang/Object.html#toString()"
>toString</A></CODE> in class <CODE><A HREF="../../../java/lang/Object.html"
>Object</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a string representation of the object.</DL>
</DD>
</DL>
<HR>

<A NAME="tryNextAddress()"
><A NAME="tryNextAddress()"
><A NAME="tryNextAddress()"
><!-- --></A></A></A><H3>
tryNextAddress</H3>
<PRE>
private void <B>tryNextAddress</B>()</PRE>
<DL>
<DD>Start an attempt to connect to the next (first) address in the list
 of addresses to try.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="unRegisterMsgHandler(byte,net.vattp.data.MsgHandler)"
><A NAME="unRegisterMsgHandler(byte,%20net.vattp.data.MsgHandler)"
><A NAME="unRegisterMsgHandler(byte, net.vattp.data.MsgHandler)"
><!-- --></A></A></A><H3>
unRegisterMsgHandler</H3>
<PRE>
void <B>unRegisterMsgHandler</B>(byte&nbsp;msgType,
                          <A HREF="../../../net/vattp/data/MsgHandler.html"
>MsgHandler</A>&nbsp;handler)
                    throws <A HREF="../../../java/io/IOException.html"
>IOException</A></PRE>
<DL>
<DD>Remove the registration for a handler for a particular message type.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msgType</CODE> - is the message type. It must be chosen from the types
 defined in the definition class Msg.
 It is a fatal error if the msgType is out of range.<DD><CODE>handler</CODE> - is the object currently registered as the handler.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html"
>IOException</A></CODE> - is thrown if the handler passed is not the
 handler registered for this message type.<DT><B>See Also:</B><DD><A HREF="../../../net/vattp/data/Msg.html"
><CODE>Msg</CODE></A>, 
<A HREF="../../../net/vattp/data/MsgHandler.html"
><CODE>MsgHandler</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"
><A NAME="navbar_bottom"
><A NAME="navbar_bottom"
><!-- --></A></A></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"
><A NAME="navbar_bottom_firstrow"
><A NAME="navbar_bottom_firstrow"
><!-- --></A></A></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"
><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"
><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"
><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"
><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"
><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"
><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../elib/legacy/api-legend.html"
><FONT CLASS="NavBarFont1"
><B><font color="#009000"><i>Legend</i></font></B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href="../../../../index.html"  target="_top"><img src="../../../../images/e-lambda.gif" border="0"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/vattp/data/VatIdentity.html"
><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/vattp/data/VatTPMgr.html"
><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"
><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="VatTPConnection.html" TARGET="_top"
><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary"
>METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail"
>METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<center>comments? <a href=http://www.blindpay.com/crit-me-now.cgi><img src=../../../../images/cmn.gif width=98 height=21 border=0 align=middle></a></center>
</BODY>
</HTML>

