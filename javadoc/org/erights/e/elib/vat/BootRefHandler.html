<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN""http://www.w3.org/TR/REC-html40/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Wed Jul 02 22:16:22 PDT 2003 -->
<TITLE>
BootRefHandler (ELib API)
</TITLE>
<META NAME="keywords" CONTENT="org.erights.e.elib.vat.BootRefHandler,BootRefHandler class">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">
</HEAD>
<SCRIPT>
function asd()
{
parent.document.title="BootRefHandler (ELib API)";
}
</SCRIPT>
<BODY BGCOLOR="#FFEEDD" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"
><A NAME="navbar_top"
><A NAME="navbar_top"
><!-- --></A></A></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"
><A NAME="navbar_top_firstrow"
><A NAME="navbar_top_firstrow"
><!-- --></A></A></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"
><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"
><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"
><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"
><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"
><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"
><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../elib/legacy/api-legend.html"
><FONT CLASS="NavBarFont1"
><B><font color="#009000"><i>Legend</i></font></B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href="../../../../../../index.html"  target="_top"><img src="../../../../../../images/e-lambda.gif" border="0"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/erights/e/elib/vat/AWTRunnerEvent.html"
><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/erights/e/elib/vat/BootRefIdentity.html"
><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" TARGET="_top"
><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BootRefHandler.html" TARGET="_top"
><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary"
>METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail"
>METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.erights.e.elib.vat</FONT>
<BR>
Class BootRefHandler</H2>
<PRE>
<A HREF="../../../../../java/lang/Object.html"
>java.lang.Object</A>
  |
  +--<B>org.erights.e.elib.vat.BootRefHandler</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></DD>
</DL>
<HR>
<DL>
<DT> class <B>BootRefHandler</B><DT>extends <A HREF="../../../../../java/lang/Object.html"
>Object</A><DT>implements <A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></DL>

<P>
There is one boot-comm-system per JVM, and all boot-refs
 (all <A HREF="../../../../../org/erights/e/elib/ref/Ref.html"
><CODE>Ref</CODE></A>s handled by a BootRefHandler) are part of that
 one comm system.
 <p>
 The boot-comm-system differs from normal inter-vat comm systems (like
 CapTP) in the following ways: <ul>
 <li>The boot-comm-system can only be used to communicate with vats
     within the same jvm (or host OS address space).
 <li>Communications happen by pointer manipulation, not serialization,
     so the only
     <CODE>PassByConstruction</CODE>
     arguments that may be passed or returned as results are those that are
     <CODE>DeepPassByCopy</CODE>.
 </ul>
 When PassByProxy objects are passed between vats by the boot-comm-system,
 this is done by wrapping or unwrapping them in a BootRefHandler.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Mark S. Miller</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"
><A NAME="field_summary"
><A NAME="field_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#myFreshFlag"
>myFreshFlag</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag to remember whether any E-level messages have been sent over me.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../org/erights/e/elib/ref/ProxyResolver.html"
>ProxyResolver</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#myResolver"
>myResolver</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The Resolver of our Proxy, which also revives the Proxy on demand.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../../../java/lang/Object.html"
>Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#myTarget"
>myTarget</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../../../org/erights/e/elib/vat/Vat.html"
>Vat</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#myTargetsVat"
>myTargetsVat</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An invocation of a boot-ref will cause an invocation of myTarget in
 myTargetsVat.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="../../../../../org/erights/e/elib/sealing/Sealer.html"
>Sealer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#OurSealer"
>OurSealer</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;So that the boot-comm-system can recognize itself.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;<A HREF="../../../../../org/erights/e/elib/sealing/Unsealer.html"
>Unsealer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#OurUnsealer"
>OurUnsealer</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;So that the boot-comm-system can recognize itself.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"
><A NAME="constructor_summary"
><A NAME="constructor_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private)</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#BootRefHandler(org.erights.e.elib.vat.Vat,java.lang.Object)"
>BootRefHandler</A></B>(<A HREF="../../../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;targetsVat,
               <A HREF="../../../../../java/lang/Object.html"
>Object</A>&nbsp;target)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In order to make an EVENTUAL reference to target which will queue
 messages in targetsVat for delivery to target.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"
><A NAME="method_summary"
><A NAME="method_summary"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html"
>BootRefHandler</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#getOptBootRefHandler(java.lang.Object)"
>getOptBootRefHandler</A></B>(<A HREF="../../../../../java/lang/Object.html"
>Object</A>&nbsp;ref)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If 'ref' is a boot-ref, get its BootRefHandler.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/erights/e/elib/sealing/SealedBox.html"
>SealedBox</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#handleOptSealedDispatch(org.erights.e.elib.sealing.Brand)"
>handleOptSealedDispatch</A></B>(<A HREF="../../../../../org/erights/e/elib/sealing/Brand.html"
>Brand</A>&nbsp;brand)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  How should my ref respond to an __optSealedDispatch request?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#handleResolution(java.lang.Object)"
>handleResolution</A></B>(<A HREF="../../../../../java/lang/Object.html"
>Object</A>&nbsp;newTarget)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  My Ref no longer needs me, as it's become equivalent to newTarget.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/erights/e/elib/ref/Ref.html"
>Ref</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#handleSendAll(java.lang.String,java.lang.Object[])"
>handleSendAll</A></B>(<A HREF="../../../../../java/lang/String.html"
>String</A>&nbsp;verb,
              <A HREF="../../../../../java/lang/Object.html"
>Object</A>[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queues the send in myTargetsVat.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#handleSendAllOnly(java.lang.String,java.lang.Object[])"
>handleSendAllOnly</A></B>(<A HREF="../../../../../java/lang/String.html"
>String</A>&nbsp;verb,
                  <A HREF="../../../../../java/lang/Object.html"
>Object</A>[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queues the send in myTargetsVat.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#isFresh()"
>isFresh</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  A reference is fresh if it's redirection doesn't need to be delayed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../java/lang/Object.html"
>Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#packageArg(java.lang.Object,org.erights.e.elib.vat.Vat,org.erights.e.elib.vat.Vat,org.erights.e.elib.vat.Vat)"
>packageArg</A></B>(<A HREF="../../../../../java/lang/Object.html"
>Object</A>&nbsp;arg,
           <A HREF="../../../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;src,
           <A HREF="../../../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;dest,
           <A HREF="../../../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;currentVat)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given that <tt>arg</tt> is an object in the src vat (ie, an object
 that would be safe to invoke in the src vat), then return a ref
 to it packaged for use in the dest vat.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../java/lang/Object.html"
>Object</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#packageArgs(java.lang.Object[])"
>packageArgs</A></B>(<A HREF="../../../../../java/lang/Object.html"
>Object</A>[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given that args is packaged for use in the current vat, return a
 corresponding list of args packaged for use in myTargetsVat.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#reactToGC()"
>reactToGC</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  One of my Refs was GCed, and I have no current Ref.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html#sameConnection(java.lang.Object)"
>sameConnection</A></B>(<A HREF="../../../../../java/lang/Object.html"
>Object</A>&nbsp;other)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><i><font color="#009000">Enabled:</font></i></b>  Are 'other' and the remote reference handled by 'this' part of the
 same comm system, and do they both connect to the same remote vat?</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"
><A NAME="methods_inherited_from_class_java.lang.Object"
><A NAME="methods_inherited_from_class_java.lang.Object"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.<A HREF="../../../../../java/lang/Object.html"
>Object</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../java/lang/Object.html#clone()"
>clone</A>, <A HREF="../../../../../java/lang/Object.html#equals(java.lang.Object)"
>equals</A>, <A HREF="../../../../../java/lang/Object.html#finalize()"
>finalize</A>, <A HREF="../../../../../java/lang/Object.html#getClass()"
>getClass</A>, <A HREF="../../../../../java/lang/Object.html#hashCode()"
>hashCode</A>, <A HREF="../../../../../java/lang/Object.html#notify()"
>notify</A>, <A HREF="../../../../../java/lang/Object.html#notifyAll()"
>notifyAll</A>, <A HREF="../../../../../java/lang/Object.html#toString()"
>toString</A>, <A HREF="../../../../../java/lang/Object.html#wait()"
>wait</A>, <A HREF="../../../../../java/lang/Object.html#wait(long)"
>wait</A>, <A HREF="../../../../../java/lang/Object.html#wait(long,int)"
>wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"
><A NAME="field_detail"
><A NAME="field_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="OurSealer"
><A NAME="OurSealer"
><A NAME="OurSealer"
><!-- --></A></A></A><H3>
OurSealer</H3>
<PRE>
private static final <A HREF="../../../../../org/erights/e/elib/sealing/Sealer.html"
>Sealer</A> <B>OurSealer</B></PRE>
<DL>
<DD>So that the boot-comm-system can recognize itself.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="OurUnsealer"
><A NAME="OurUnsealer"
><A NAME="OurUnsealer"
><!-- --></A></A></A><H3>
OurUnsealer</H3>
<PRE>
static final <A HREF="../../../../../org/erights/e/elib/sealing/Unsealer.html"
>Unsealer</A> <B>OurUnsealer</B></PRE>
<DL>
<DD>So that the boot-comm-system can recognize itself.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myTargetsVat"
><A NAME="myTargetsVat"
><A NAME="myTargetsVat"
><!-- --></A></A></A><H3>
myTargetsVat</H3>
<PRE>
final <A HREF="../../../../../org/erights/e/elib/vat/Vat.html"
>Vat</A> <B>myTargetsVat</B></PRE>
<DL>
<DD>An invocation of a boot-ref will cause an invocation of myTarget in
 myTargetsVat.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myTarget"
><A NAME="myTarget"
><A NAME="myTarget"
><!-- --></A></A></A><H3>
myTarget</H3>
<PRE>
final <A HREF="../../../../../java/lang/Object.html"
>Object</A> <B>myTarget</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myResolver"
><A NAME="myResolver"
><A NAME="myResolver"
><!-- --></A></A></A><H3>
myResolver</H3>
<PRE>
private final <A HREF="../../../../../org/erights/e/elib/ref/ProxyResolver.html"
>ProxyResolver</A> <B>myResolver</B></PRE>
<DL>
<DD>The Resolver of our Proxy, which also revives the Proxy on demand.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myFreshFlag"
><A NAME="myFreshFlag"
><A NAME="myFreshFlag"
><!-- --></A></A></A><H3>
myFreshFlag</H3>
<PRE>
private boolean <B>myFreshFlag</B></PRE>
<DL>
<DD>Flag to remember whether any E-level messages have been sent over me.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"
><A NAME="constructor_detail"
><A NAME="constructor_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="BootRefHandler(org.erights.e.elib.vat.Vat,java.lang.Object)"
><A NAME="BootRefHandler(org.erights.e.elib.vat.Vat,%20java.lang.Object)"
><A NAME="BootRefHandler(org.erights.e.elib.vat.Vat, java.lang.Object)"
><!-- --></A></A></A><H3>
BootRefHandler</H3>
<PRE>
<B>BootRefHandler</B>(<A HREF="../../../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;targetsVat,
               <A HREF="../../../../../java/lang/Object.html"
>Object</A>&nbsp;target)</PRE>
<DL>
<DD>In order to make an EVENTUAL reference to target which will queue
 messages in targetsVat for delivery to target.
 <p>
 It must be safe to invoke target in targetsVat
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"
><A NAME="method_detail"
><A NAME="method_detail"
><!-- --></A></A></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="handleOptSealedDispatch(org.erights.e.elib.sealing.Brand)"
><A NAME="handleOptSealedDispatch(org.erights.e.elib.sealing.Brand)"
><A NAME="handleOptSealedDispatch(org.erights.e.elib.sealing.Brand)"
><!-- --></A></A></A><H3>
handleOptSealedDispatch</H3>
<PRE>
public <A HREF="../../../../../org/erights/e/elib/sealing/SealedBox.html"
>SealedBox</A> <B>handleOptSealedDispatch</B>(<A HREF="../../../../../org/erights/e/elib/sealing/Brand.html"
>Brand</A>&nbsp;brand)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></B></DD>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  How should my ref respond to an __optSealedDispatch request?
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html#handleOptSealedDispatch(org.erights.e.elib.sealing.Brand)"
>handleOptSealedDispatch</A></CODE> in interface <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getOptBootRefHandler(java.lang.Object)"
><A NAME="getOptBootRefHandler(java.lang.Object)"
><A NAME="getOptBootRefHandler(java.lang.Object)"
><!-- --></A></A></A><H3>
getOptBootRefHandler</H3>
<PRE>
private static <A HREF="../../../../../org/erights/e/elib/vat/BootRefHandler.html"
>BootRefHandler</A> <B>getOptBootRefHandler</B>(<A HREF="../../../../../java/lang/Object.html"
>Object</A>&nbsp;ref)</PRE>
<DL>
<DD>If 'ref' is a boot-ref, get its BootRefHandler.
 <p>
 This is like
 <pre>    <A HREF="../../../../../org/erights/e/elib/ref/ProxyResolver.html#getOptProxyHandler(org.erights.e.elib.sealing.Unsealer,java.lang.Object)"
><CODE>ProxyResolver.getOptProxyHandler(org.erights.e.elib.sealing.Unsealer, java.lang.Object)</CODE></A>(OurUnsealer, ref)</pre>
 except that it's thread-safe.
 <p>
 <tt>getOptBootRefHandler/1</tt> must be thread safe, in order for
 <CODE>BootRefHandler.packageArg/4</CODE>
 to be thread safe: Callers of this should keep in mind that ref may be
 shortened after the handler is gotten but before these callers use it.
 If they access only final fields of the handler in a thread safe way,
 then everything should be fine.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="packageArg(java.lang.Object,org.erights.e.elib.vat.Vat,org.erights.e.elib.vat.Vat,org.erights.e.elib.vat.Vat)"
><A NAME="packageArg(java.lang.Object,%20org.erights.e.elib.vat.Vat,%20org.erights.e.elib.vat.Vat,%20org.erights.e.elib.vat.Vat)"
><A NAME="packageArg(java.lang.Object, org.erights.e.elib.vat.Vat, org.erights.e.elib.vat.Vat, org.erights.e.elib.vat.Vat)"
><!-- --></A></A></A><H3>
packageArg</H3>
<PRE>
private <A HREF="../../../../../java/lang/Object.html"
>Object</A> <B>packageArg</B>(<A HREF="../../../../../java/lang/Object.html"
>Object</A>&nbsp;arg,
                          <A HREF="../../../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;src,
                          <A HREF="../../../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;dest,
                          <A HREF="../../../../../org/erights/e/elib/vat/Vat.html"
>Vat</A>&nbsp;currentVat)</PRE>
<DL>
<DD>Given that <tt>arg</tt> is an object in the src vat (ie, an object
 that would be safe to invoke in the src vat), then return a ref
 to it packaged for use in the dest vat.
 <p>
 By cases:<ul>
 <li>If src and dest are the same, then returns <tt>arg</tt>.
 <li>If <tt>arg</tt> is
     <CODE>DeepPassByCopy</CODE> or
     a broken reference, then it can be invoked from any vat, so we pass
     it as is.
 <li>If it's a <A HREF="../../../../../org/erights/e/elib/vat/BootShuttle.html"
><CODE>BootShuttle</CODE></A>, then we pass it as is. Be
     careful!
 <li>If it's <CODE>PassByProxy</CODE>,
     then we gotta wrap it in a boot-ref for use in the dest vat, and
     return that.
 <li>If it's already a boot-ref, then we gotta determine which vat is
     it's target's vat. If it's target's vat is<ul>
     <li>the dest, then return its target.
     <li>some other vat, then we re-wrap it in a fresh boot-ref
     <li>(it would be an error for it to be the src vat)
     </ul>
 <li>If it's a non-boot-ref eventual reference, then we wrap it in a
     boot-ref and return that, but we also send a __whenMoreResolved
     message to the eventual reference in the src vat, where the
     argument is a boot-ref on a <A HREF="../../../../../org/erights/e/elib/ref/Redirector.html"
><CODE>Redirector</CODE></A> on the returned
     boot-ref.
 <li>In all other cases, an exception is thrown.
 </ul>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>arg</CODE> - The reference to be packaged.<DD><CODE>src</CODE> - The vat that 'arg' is valid within.<DD><CODE>dest</CODE> - The vat the return result needs to be valid within.<DD><CODE>currentVat</CODE> - The vat within which we're currently executing, which
        may be src, dest, or a third introducing vat (Alice). This is
        used to resolve race conditions.</DL>
</DD>
</DL>
<HR>

<A NAME="packageArgs(java.lang.Object[])"
><A NAME="packageArgs(java.lang.Object[])"
><A NAME="packageArgs(java.lang.Object[])"
><!-- --></A></A></A><H3>
packageArgs</H3>
<PRE>
private <A HREF="../../../../../java/lang/Object.html"
>Object</A>[] <B>packageArgs</B>(<A HREF="../../../../../java/lang/Object.html"
>Object</A>[]&nbsp;args)</PRE>
<DL>
<DD>Given that args is packaged for use in the current vat, return a
 corresponding list of args packaged for use in myTargetsVat.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="handleSendAllOnly(java.lang.String,java.lang.Object[])"
><A NAME="handleSendAllOnly(java.lang.String,%20java.lang.Object[])"
><A NAME="handleSendAllOnly(java.lang.String, java.lang.Object[])"
><!-- --></A></A></A><H3>
handleSendAllOnly</H3>
<PRE>
public void <B>handleSendAllOnly</B>(<A HREF="../../../../../java/lang/String.html"
>String</A>&nbsp;verb,
                              <A HREF="../../../../../java/lang/Object.html"
>Object</A>[]&nbsp;args)</PRE>
<DL>
<DD>Queues the send in myTargetsVat.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html#handleSendAllOnly(java.lang.String,java.lang.Object[])"
>handleSendAllOnly</A></CODE> in interface <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>args</CODE> - Assumed to be packaged for use in the current vat.</DL>
</DD>
</DL>
<HR>

<A NAME="handleSendAll(java.lang.String,java.lang.Object[])"
><A NAME="handleSendAll(java.lang.String,%20java.lang.Object[])"
><A NAME="handleSendAll(java.lang.String, java.lang.Object[])"
><!-- --></A></A></A><H3>
handleSendAll</H3>
<PRE>
public <A HREF="../../../../../org/erights/e/elib/ref/Ref.html"
>Ref</A> <B>handleSendAll</B>(<A HREF="../../../../../java/lang/String.html"
>String</A>&nbsp;verb,
                         <A HREF="../../../../../java/lang/Object.html"
>Object</A>[]&nbsp;args)</PRE>
<DL>
<DD>Queues the send in myTargetsVat.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html#handleSendAll(java.lang.String,java.lang.Object[])"
>handleSendAll</A></CODE> in interface <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>args</CODE> - Assumed to be packaged for use in the current vat.
<DT><B>Returns:</B><DD>the promise for the result packaged for use in the current vat.</DL>
</DD>
</DL>
<HR>

<A NAME="handleResolution(java.lang.Object)"
><A NAME="handleResolution(java.lang.Object)"
><A NAME="handleResolution(java.lang.Object)"
><!-- --></A></A></A><H3>
handleResolution</H3>
<PRE>
public void <B>handleResolution</B>(<A HREF="../../../../../java/lang/Object.html"
>Object</A>&nbsp;newTarget)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></B></DD>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  My Ref no longer needs me, as it's become equivalent to newTarget.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html#handleResolution(java.lang.Object)"
>handleResolution</A></CODE> in interface <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="reactToGC()"
><A NAME="reactToGC()"
><A NAME="reactToGC()"
><!-- --></A></A></A><H3>
reactToGC</H3>
<PRE>
public void <B>reactToGC</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></B></DD>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  One of my Refs was GCed, and I have no current Ref.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html#reactToGC()"
>reactToGC</A></CODE> in interface <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isFresh()"
><A NAME="isFresh()"
><A NAME="isFresh()"
><!-- --></A></A></A><H3>
isFresh</H3>
<PRE>
public boolean <B>isFresh</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></B></DD>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  A reference is fresh if it's redirection doesn't need to be delayed.
 <p>
 A resolved reference doesn't get redirected (except to be smashed), and
 so is always fresh. A remote promise is fresh if it hasn't been used.
 A remote promise over which messages have already been sent is not
 fresh. (Hypothetically, if we know that none of these remain in the air
 -- that all of them have arrived -- then we could consider the remote
 promise to be fresh again. This optimization is not currently
 implemented.)
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html#isFresh()"
>isFresh</A></CODE> in interface <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sameConnection(java.lang.Object)"
><A NAME="sameConnection(java.lang.Object)"
><A NAME="sameConnection(java.lang.Object)"
><!-- --></A></A></A><H3>
sameConnection</H3>
<PRE>
public boolean <B>sameConnection</B>(<A HREF="../../../../../java/lang/Object.html"
>Object</A>&nbsp;other)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></B></DD>
<DD><b><i><font color="#009000">Enabled:</font></i></b>  Are 'other' and the remote reference handled by 'this' part of the
 same comm system, and do they both connect to the same remote vat?
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html#sameConnection(java.lang.Object)"
>sameConnection</A></CODE> in interface <CODE><A HREF="../../../../../org/erights/e/elib/ref/ProxyHandler.html"
>ProxyHandler</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"
><A NAME="navbar_bottom"
><A NAME="navbar_bottom"
><!-- --></A></A></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"
><A NAME="navbar_bottom_firstrow"
><A NAME="navbar_bottom_firstrow"
><!-- --></A></A></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"
><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"
><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"
><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"
><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"
><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"
><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../elib/legacy/api-legend.html"
><FONT CLASS="NavBarFont1"
><B><font color="#009000"><i>Legend</i></font></B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href="../../../../../../index.html"  target="_top"><img src="../../../../../../images/e-lambda.gif" border="0"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/erights/e/elib/vat/AWTRunnerEvent.html"
><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/erights/e/elib/vat/BootRefIdentity.html"
><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" TARGET="_top"
><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BootRefHandler.html" TARGET="_top"
><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../../../allclasses-noframe.html" TARGET=""
><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary"
>METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail"
>FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail"
>CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail"
>METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<center>comments? <a href=http://www.blindpay.com/crit-me-now.cgi><img src=../../../../../../images/cmn.gif width=98 height=21 border=0 align=middle></a></center>
</BODY>
</HTML>

